const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DkQcoWYH.js","assets/Navbar-q3ifoa68.js","assets/index-Chjiymov.js","assets/index-BuK68s2Q.js","assets/iconBase-BZOatLzq.js","assets/data-DEqlFrNp.js","assets/LoginStar-BsrTecc1.js","assets/HomePage-mD7Fq9Dy.css","assets/LoginPage-BRwCOUZm.js","assets/index.esm-Crc1Rk81.js","assets/Deira-logo2-q4QQy5sZ.js","assets/SignUp-4ry55u2u.js","assets/index-apzeR_bo.js","assets/index-PDUDSH0t.js","assets/Profile-DI1hlT4e.js","assets/card-yuaClX_S.js","assets/index-D6FkgPpT.js","assets/index-pKKx9MwM.js","assets/button-PNLO1km2.js","assets/badge-CjsrGIf-.js","assets/index-DehSC1gZ.js","assets/DashboardHome-DfU5dhrX.js","assets/DashboardLayout-DhwZywRf.js","assets/Users-C31tEzfE.js","assets/index-CMXvhzsy.js","assets/index-BtKruH_F.js","assets/react-confirm-alert-CjB4WFvm.css","assets/Apartments-wvpFYA1A.js","assets/NotificationsPanel-CBTEAJ00.js","assets/SendNotification-CcHp_bcV.js","assets/CheckboxListName-DYysjbuT.js","assets/CreateAd-ZDQFIKSQ.js","assets/Employees-CkHPc5c8.js","assets/Employees-BE4BdE5o.css","assets/AdsList-0dhFB00d.js","assets/Privacy-D0lbl3Cy.js","assets/WebsiteData-Bz_HEQPh.js","assets/Contact-Dvc4Plan.js","assets/Unauthorized-BHPMvB3m.js","assets/PrivacyPolicy-CBwcN7IO.js","assets/ContactPage-B0aM74EZ.js","assets/AdListPage-DT-e6wny.js","assets/AdDetailPage-Djca8w30.js"])))=>i.map(i=>d[i]);
function YT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function L_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},_l={},gf={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function XT(){if(wy)return Ye;wy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function b(U,W,ae){this.props=U,this.context=W,this.refs=N,this.updater=ae||w}b.prototype.isReactComponent={},b.prototype.setState=function(U,W){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,W,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=b.prototype;function Z(U,W,ae){this.props=U,this.context=W,this.refs=N,this.updater=ae||w}var X=Z.prototype=new j;X.constructor=Z,C(X,b.prototype),X.isPureReactComponent=!0;var te=Array.isArray,M=Object.prototype.hasOwnProperty,oe={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(U,W,ae){var ye,ve={},He=null,be=null;if(W!=null)for(ye in W.ref!==void 0&&(be=W.ref),W.key!==void 0&&(He=""+W.key),W)M.call(W,ye)&&!A.hasOwnProperty(ye)&&(ve[ye]=W[ye]);var Xe=arguments.length-2;if(Xe===1)ve.children=ae;else if(1<Xe){for(var Me=Array(Xe),ht=0;ht<Xe;ht++)Me[ht]=arguments[ht+2];ve.children=Me}if(U&&U.defaultProps)for(ye in Xe=U.defaultProps,Xe)ve[ye]===void 0&&(ve[ye]=Xe[ye]);return{$$typeof:n,type:U,key:He,ref:be,props:ve,_owner:oe.current}}function P(U,W){return{$$typeof:n,type:U.type,key:W,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var W={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ae){return W[ae]})}var z=/\/+/g;function x(U,W){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):W.toString(36)}function Qe(U,W,ae,ye,ve){var He=typeof U;(He==="undefined"||He==="boolean")&&(U=null);var be=!1;if(U===null)be=!0;else switch(He){case"string":case"number":be=!0;break;case"object":switch(U.$$typeof){case n:case e:be=!0}}if(be)return be=U,ve=ve(be),U=ye===""?"."+x(be,0):ye,te(ve)?(ae="",U!=null&&(ae=U.replace(z,"$&/")+"/"),Qe(ve,W,ae,"",function(ht){return ht})):ve!=null&&(D(ve)&&(ve=P(ve,ae+(!ve.key||be&&be.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+U)),W.push(ve)),1;if(be=0,ye=ye===""?".":ye+":",te(U))for(var Xe=0;Xe<U.length;Xe++){He=U[Xe];var Me=ye+x(He,Xe);be+=Qe(He,W,ae,Me,ve)}else if(Me=E(U),typeof Me=="function")for(U=Me.call(U),Xe=0;!(He=U.next()).done;)He=He.value,Me=ye+x(He,Xe++),be+=Qe(He,W,ae,Me,ve);else if(He==="object")throw W=String(U),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return be}function ze(U,W,ae){if(U==null)return U;var ye=[],ve=0;return Qe(U,ye,"","",function(He){return W.call(ae,He,ve++)}),ye}function de(U){if(U._status===-1){var W=U._result;W=W(),W.then(function(ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=ae)},function(ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=ae)}),U._status===-1&&(U._status=0,U._result=W)}if(U._status===1)return U._result.default;throw U._result}var se={current:null},Q={transition:null},ee={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:oe};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:ze,forEach:function(U,W,ae){ze(U,function(){W.apply(this,arguments)},ae)},count:function(U){var W=0;return ze(U,function(){W++}),W},toArray:function(U){return ze(U,function(W){return W})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ye.Component=b,Ye.Fragment=t,Ye.Profiler=s,Ye.PureComponent=Z,Ye.StrictMode=r,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ye.act=re,Ye.cloneElement=function(U,W,ae){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=C({},U.props),ve=U.key,He=U.ref,be=U._owner;if(W!=null){if(W.ref!==void 0&&(He=W.ref,be=oe.current),W.key!==void 0&&(ve=""+W.key),U.type&&U.type.defaultProps)var Xe=U.type.defaultProps;for(Me in W)M.call(W,Me)&&!A.hasOwnProperty(Me)&&(ye[Me]=W[Me]===void 0&&Xe!==void 0?Xe[Me]:W[Me])}var Me=arguments.length-2;if(Me===1)ye.children=ae;else if(1<Me){Xe=Array(Me);for(var ht=0;ht<Me;ht++)Xe[ht]=arguments[ht+2];ye.children=Xe}return{$$typeof:n,type:U.type,key:ve,ref:He,props:ye,_owner:be}},Ye.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ye.createElement=R,Ye.createFactory=function(U){var W=R.bind(null,U);return W.type=U,W},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(U){return{$$typeof:d,render:U}},Ye.isValidElement=D,Ye.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:de}},Ye.memo=function(U,W){return{$$typeof:m,type:U,compare:W===void 0?null:W}},Ye.startTransition=function(U){var W=Q.transition;Q.transition={};try{U()}finally{Q.transition=W}},Ye.unstable_act=re,Ye.useCallback=function(U,W){return se.current.useCallback(U,W)},Ye.useContext=function(U){return se.current.useContext(U)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(U){return se.current.useDeferredValue(U)},Ye.useEffect=function(U,W){return se.current.useEffect(U,W)},Ye.useId=function(){return se.current.useId()},Ye.useImperativeHandle=function(U,W,ae){return se.current.useImperativeHandle(U,W,ae)},Ye.useInsertionEffect=function(U,W){return se.current.useInsertionEffect(U,W)},Ye.useLayoutEffect=function(U,W){return se.current.useLayoutEffect(U,W)},Ye.useMemo=function(U,W){return se.current.useMemo(U,W)},Ye.useReducer=function(U,W,ae){return se.current.useReducer(U,W,ae)},Ye.useRef=function(U){return se.current.useRef(U)},Ye.useState=function(U){return se.current.useState(U)},Ye.useSyncExternalStore=function(U,W,ae){return se.current.useSyncExternalStore(U,W,ae)},Ye.useTransition=function(){return se.current.useTransition()},Ye.version="18.3.1",Ye}var Ey;function pp(){return Ey||(Ey=1,gf.exports=XT()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function JT(){if(Ty)return _l;Ty=1;var n=pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,T={},E=null,w=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(w=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(T[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)T[v]===void 0&&(T[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:w,props:T,_owner:s.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var Sy;function ZT(){return Sy||(Sy=1,mf.exports=JT()),mf.exports}var Ge=ZT(),$=pp();const ce=L_($),fL=YT({__proto__:null,default:ce},[$]);var _c={},yf={exports:{}},Xn={},vf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function eS(){return Iy||(Iy=1,function(n){function e(Q,ee){var re=Q.length;Q.push(ee);e:for(;0<re;){var U=re-1>>>1,W=Q[U];if(0<s(W,ee))Q[U]=ee,Q[re]=W,re=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],re=Q.pop();if(re!==ee){Q[0]=re;e:for(var U=0,W=Q.length,ae=W>>>1;U<ae;){var ye=2*(U+1)-1,ve=Q[ye],He=ye+1,be=Q[He];if(0>s(ve,re))He<W&&0>s(be,ve)?(Q[U]=be,Q[He]=re,U=He):(Q[U]=ve,Q[ye]=re,U=ye);else if(He<W&&0>s(be,re))Q[U]=be,Q[He]=re,U=He;else break e}}return ee}function s(Q,ee){var re=Q.sortIndex-ee.sortIndex;return re!==0?re:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,T=null,E=3,w=!1,C=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(Q){for(var ee=t(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=Q)r(m),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=t(m)}}function te(Q){if(N=!1,X(Q),!C)if(t(f)!==null)C=!0,de(M);else{var ee=t(m);ee!==null&&se(te,ee.startTime-Q)}}function M(Q,ee){C=!1,N&&(N=!1,j(R),R=-1),w=!0;var re=E;try{for(X(ee),T=t(f);T!==null&&(!(T.expirationTime>ee)||Q&&!L());){var U=T.callback;if(typeof U=="function"){T.callback=null,E=T.priorityLevel;var W=U(T.expirationTime<=ee);ee=n.unstable_now(),typeof W=="function"?T.callback=W:T===t(f)&&r(f),X(ee)}else r(f);T=t(f)}if(T!==null)var ae=!0;else{var ye=t(m);ye!==null&&se(te,ye.startTime-ee),ae=!1}return ae}finally{T=null,E=re,w=!1}}var oe=!1,A=null,R=-1,P=5,D=-1;function L(){return!(n.unstable_now()-D<P)}function z(){if(A!==null){var Q=n.unstable_now();D=Q;var ee=!0;try{ee=A(!0,Q)}finally{ee?x():(oe=!1,A=null)}}else oe=!1}var x;if(typeof Z=="function")x=function(){Z(z)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,ze=Qe.port2;Qe.port1.onmessage=z,x=function(){ze.postMessage(null)}}else x=function(){b(z,0)};function de(Q){A=Q,oe||(oe=!0,x())}function se(Q,ee){R=b(function(){Q(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,de(M))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var re=E;E=ee;try{return Q()}finally{E=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=E;E=Q;try{return ee()}finally{E=re}},n.unstable_scheduleCallback=function(Q,ee,re){var U=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?U+re:U):re=U,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,Q={id:v++,callback:ee,priorityLevel:Q,startTime:re,expirationTime:W,sortIndex:-1},re>U?(Q.sortIndex=re,e(m,Q),t(f)===null&&Q===t(m)&&(N?(j(R),R=-1):N=!0,se(te,re-U))):(Q.sortIndex=W,e(f,Q),C||w||(C=!0,de(M))),Q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(Q){var ee=E;return function(){var re=E;E=ee;try{return Q.apply(this,arguments)}finally{E=re}}}}(_f)),_f}var Ry;function tS(){return Ry||(Ry=1,vf.exports=eS()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function nS(){if(Cy)return Xn;Cy=1;var n=pp(),e=tS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function E(i){return f.call(T,i)?!0:f.call(v,i)?!1:m.test(i)?T[i]=!0:(v[i]=!0,!1)}function w(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,l,h){if(o===null||typeof o>"u"||w(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,l,h,p,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function Z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,Z);b[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,Z);b[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,Z);b[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function X(i,o,l,h){var p=b.hasOwnProperty(o)?b[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,l,p,h)&&(l=null),h||p===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),oe=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,U;function W(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var ae=!1;function ye(i,o){if(!i||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){h=G}i.call(o.prototype)}else{try{throw Error()}catch(G){h=G}i()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=h.stack.split(`
`),S=p.length-1,k=y.length-1;1<=S&&0<=k&&p[S]!==y[k];)k--;for(;1<=S&&0<=k;S--,k--)if(p[S]!==y[k]){if(S!==1||k!==1)do if(S--,k--,0>k||p[S]!==y[k]){var V=`
`+p[S].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=S&&0<=k);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?W(i):""}function ve(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function He(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case oe:return"Portal";case P:return"Profiler";case R:return"StrictMode";case x:return"Suspense";case Qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ze:return o=i.displayName||null,o!==null?o:He(i.type)||"Memo";case de:o=i._payload,i=i._init;try{return He(i(o))}catch{}}return null}function be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(i){var o=Me(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function en(i){i._valueTracker||(i._valueTracker=ht(i))}function ei(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Me(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pr(i,o){var l=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function mr(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Xe(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ti(i,o){o=o.checked,o!=null&&X(i,"checked",o,!1)}function ni(i,o){ti(i,o);var l=Xe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?kr(i,o.type,l):o.hasOwnProperty("defaultValue")&&kr(i,o.type,Xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ar(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function kr(i,o,l){(o!=="number"||qt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var tn=Array.isArray;function Wt(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Xe(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function er(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Vt(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(tn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Xe(l)}}function hn(i,o){var l=Xe(o.value),h=Xe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Tn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ln,xr=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ln.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function At(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(i){On.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),tr[o]=tr[i]})});function br(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||tr.hasOwnProperty(i)&&tr[i]?(""+o).trim():o+"px"}function Ai(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=br(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Dr=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nr(i,o){if(o){if(Dr[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ri(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Nr=null,ke=null,We=null;function Je(i){if(i=il(i)){if(typeof Nr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Lu(o),Nr(i.stateNode,i.type,o))}}function _t(i){ke?We?We.push(i):We=[i]:ke=i}function nn(){if(ke){var i=ke,o=We;if(We=ke=null,Je(i),o)for(i=0;i<o.length;i++)Je(o[i])}}function Bn(i,o){return i(o)}function O(){}var B=!1;function Y(i,o,l){if(B)return i(o,l);B=!0;try{return Bn(i,o,l)}finally{B=!1,(ke!==null||We!==null)&&(O(),nn())}}function ne(i,o){var l=i.stateNode;if(l===null)return null;var h=Lu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var _e=!1;if(d)try{var Se={};Object.defineProperty(Se,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Se,Se),window.removeEventListener("test",Se,Se)}catch{_e=!1}function De(i,o,l,h,p,y,S,k,V){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(ue){this.onError(ue)}}var we=!1,Re=null,me=!1,Ve=null,Ke={onError:function(i){we=!0,Re=i}};function ft(i,o,l,h,p,y,S,k,V){we=!1,Re=null,De.apply(Ke,arguments)}function Mt(i,o,l,h,p,y,S,k,V){if(ft.apply(this,arguments),we){if(we){var G=Re;we=!1,Re=null}else throw Error(t(198));me||(me=!0,Ve=G)}}function nt(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function lt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function pt(i){if(nt(i)!==i)throw Error(t(188))}function Lr(i){var o=i.alternate;if(!o){if(o=nt(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return pt(p),i;if(y===h)return pt(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var S=!1,k=p.child;k;){if(k===l){S=!0,l=p,h=y;break}if(k===h){S=!0,h=p,l=y;break}k=k.sibling}if(!S){for(k=y.child;k;){if(k===l){S=!0,l=y,h=p;break}if(k===h){S=!0,h=y,l=p;break}k=k.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Or(i){return i=Lr(i),i!==null?Sn(i):null}function Sn(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Sn(i);if(o!==null)return o;i=i.sibling}return null}var fn=e.unstable_scheduleCallback,ki=e.unstable_cancelCallback,ii=e.unstable_shouldYield,Vr=e.unstable_requestPaint,mt=e.unstable_now,xi=e.unstable_getCurrentPriorityLevel,st=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,Mr=e.unstable_LowPriority,St=e.unstable_IdlePriority,$n=null,In=null;function Do(i){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:du,Ba=Math.log,hu=Math.LN2;function du(i){return i>>>=0,i===0?32:31-(Ba(i)/hu|0)|0}var No=64,Lo=4194304;function rs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ks(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,S=l&268435455;if(S!==0){var k=S&~p;k!==0?h=rs(k):(y&=S,y!==0&&(h=rs(y)))}else S=l&~p,S!==0?h=rs(S):y!==0&&(h=rs(y));if(h===0)return 0;if(o!==0&&o!==h&&!(o&p)&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Mn(o),p=1<<l,h|=i[l],o&=~p;return h}function Hh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-Mn(y),k=1<<S,V=p[S];V===-1?(!(k&l)||k&h)&&(p[S]=Hh(k,o)):V<=o&&(i.expiredLanes|=k),y&=~k}}function rr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gs(){var i=No;return No<<=1,!(No&4194240)&&(No=64),i}function is(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ss(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Mn(o),i[o]=l}function wt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Mn(l),y=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function os(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Mn(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var rt=0;function as(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var fu,Oo,pu,mu,gu,$a=!1,si=[],mn=null,Ur=null,Fr=null,ls=new Map,gr=new Map,oi=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(i,o){switch(i){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ls.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(o.pointerId)}}function Hn(i,o,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=il(o),o!==null&&Oo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Wh(i,o,l,h,p){switch(o){case"focusin":return mn=Hn(mn,i,o,l,h,p),!0;case"dragenter":return Ur=Hn(Ur,i,o,l,h,p),!0;case"mouseover":return Fr=Hn(Fr,i,o,l,h,p),!0;case"pointerover":var y=p.pointerId;return ls.set(y,Hn(ls.get(y)||null,i,o,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,gr.set(y,Hn(gr.get(y)||null,i,o,l,h,p)),!0}return!1}function vu(i){var o=Zs(i.target);if(o!==null){var l=nt(o);if(l!==null){if(o=l.tag,o===13){if(o=lt(l),o!==null){i.blockedOn=o,gu(i.priority,function(){pu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Di(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Vo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Vn=h,l.target.dispatchEvent(h),Vn=null}else return o=il(l),o!==null&&Oo(o),i.blockedOn=l,!1;o.shift()}return!0}function Qs(i,o,l){Di(i)&&l.delete(o)}function _u(){$a=!1,mn!==null&&Di(mn)&&(mn=null),Ur!==null&&Di(Ur)&&(Ur=null),Fr!==null&&Di(Fr)&&(Fr=null),ls.forEach(Qs),gr.forEach(Qs)}function jr(i,o){i.blockedOn===o&&(i.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_u)))}function zr(i){function o(p){return jr(p,i)}if(0<si.length){jr(si[0],i);for(var l=1;l<si.length;l++){var h=si[l];h.blockedOn===i&&(h.blockedOn=null)}}for(mn!==null&&jr(mn,i),Ur!==null&&jr(Ur,i),Fr!==null&&jr(Fr,i),ls.forEach(o),gr.forEach(o),l=0;l<oi.length;l++)h=oi[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<oi.length&&(l=oi[0],l.blockedOn===null);)vu(l),l.blockedOn===null&&oi.shift()}var Ni=te.ReactCurrentBatchConfig,us=!0;function kt(i,o,l,h){var p=rt,y=Ni.transition;Ni.transition=null;try{rt=1,Ha(i,o,l,h)}finally{rt=p,Ni.transition=y}}function Kh(i,o,l,h){var p=rt,y=Ni.transition;Ni.transition=null;try{rt=4,Ha(i,o,l,h)}finally{rt=p,Ni.transition=y}}function Ha(i,o,l,h){if(us){var p=Vo(i,o,l,h);if(p===null)id(i,o,h,Ys,l),yu(i,h);else if(Wh(p,i,o,l,h))h.stopPropagation();else if(yu(i,h),o&4&&-1<qh.indexOf(i)){for(;p!==null;){var y=il(p);if(y!==null&&fu(y),y=Vo(i,o,l,h),y===null&&id(i,o,h,Ys,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else id(i,o,h,null,l)}}var Ys=null;function Vo(i,o,l,h){if(Ys=null,i=dn(h),i=Zs(i),i!==null)if(o=nt(i),o===null)i=null;else if(l=o.tag,l===13){if(i=lt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ys=i,null}function qa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xi()){case st:return 1;case Tt:return 4;case pn:case Mr:return 16;case St:return 536870912;default:return 16}default:return 16}}var ir=null,Mo=null,qn=null;function Wa(){if(qn)return qn;var i,o=Mo,l=o.length,h,p="value"in ir?ir.value:ir.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===p[y-h];h++);return qn=p.slice(i,1<h?1-h:void 0)}function Uo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ai(){return!0}function Ka(){return!1}function gn(i){function o(l,h,p,y,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ai:Ka,this.isPropagationStopped=Ka,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),o}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=gn(Br),li=re({},Br,{view:0,detail:0}),Gh=gn(li),jo,Li,cs,Xs=re({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cs&&(cs&&i.type==="mousemove"?(jo=i.screenX-cs.screenX,Li=i.screenY-cs.screenY):Li=jo=0,cs=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:Li}}),zo=gn(Xs),Ga=re({},Xs,{dataTransfer:0}),wu=gn(Ga),Bo=re({},li,{relatedTarget:0}),$o=gn(Bo),Eu=re({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Oi=gn(Eu),Tu=re({},Br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Su=gn(Tu),Iu=re({},Br,{data:0}),Qa=gn(Iu),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ru[i])?!!o[i]:!1}function ui(){return Cu}var c=re({},li,{key:function(i){if(i.key){var o=Ho[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Un[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(i){return i.type==="keypress"?Uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=gn(c),_=re({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=gn(_),H=re({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),J=gn(H),ge=re({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=gn(ge),Kt=re({},Xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=gn(Kt),rn=[9,13,27,32],Bt=d&&"CompositionEvent"in window,yr=null;d&&"documentMode"in document&&(yr=document.documentMode);var sr=d&&"TextEvent"in window&&!yr,Js=d&&(!Bt||yr&&8<yr&&11>=yr),qo=" ",pm=!1;function mm(i,o){switch(i){case"keyup":return rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wo=!1;function KE(i,o){switch(i){case"compositionend":return gm(o);case"keypress":return o.which!==32?null:(pm=!0,qo);case"textInput":return i=o.data,i===qo&&pm?null:i;default:return null}}function GE(i,o){if(Wo)return i==="compositionend"||!Bt&&mm(i,o)?(i=Wa(),qn=Mo=ir=null,Wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Js&&o.locale!=="ko"?null:o.data;default:return null}}var QE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!QE[i.type]:o==="textarea"}function vm(i,o,l,h){_t(h),o=bu(o,"onChange"),0<o.length&&(l=new Fo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Ya=null,Xa=null;function YE(i){Vm(i,0)}function Pu(i){var o=Xo(i);if(ei(o))return i}function XE(i,o){if(i==="change")return o}var _m=!1;if(d){var Qh;if(d){var Yh="oninput"in document;if(!Yh){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),Yh=typeof wm.oninput=="function"}Qh=Yh}else Qh=!1;_m=Qh&&(!document.documentMode||9<document.documentMode)}function Em(){Ya&&(Ya.detachEvent("onpropertychange",Tm),Xa=Ya=null)}function Tm(i){if(i.propertyName==="value"&&Pu(Xa)){var o=[];vm(o,Xa,i,dn(i)),Y(YE,o)}}function JE(i,o,l){i==="focusin"?(Em(),Ya=o,Xa=l,Ya.attachEvent("onpropertychange",Tm)):i==="focusout"&&Em()}function ZE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pu(Xa)}function eT(i,o){if(i==="click")return Pu(o)}function tT(i,o){if(i==="input"||i==="change")return Pu(o)}function nT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var $r=typeof Object.is=="function"?Object.is:nT;function Ja(i,o){if($r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!$r(i[p],o[p]))return!1}return!0}function Sm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Im(i,o){var l=Sm(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sm(l)}}function Rm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Rm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Cm(){for(var i=window,o=qt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=qt(i.document)}return o}function Xh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function rT(i){var o=Cm(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Rm(l.ownerDocument.documentElement,l)){if(h!==null&&Xh(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Im(l,y);var S=Im(l,h);p&&S&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iT=d&&"documentMode"in document&&11>=document.documentMode,Ko=null,Jh=null,Za=null,Zh=!1;function Pm(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zh||Ko==null||Ko!==qt(h)||(h=Ko,"selectionStart"in h&&Xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Za&&Ja(Za,h)||(Za=h,h=bu(Jh,"onSelect"),0<h.length&&(o=new Fo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ko)))}function Au(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Go={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},ed={},Am={};d&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function ku(i){if(ed[i])return ed[i];if(!Go[i])return i;var o=Go[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Am)return ed[i]=o[l];return i}var km=ku("animationend"),xm=ku("animationiteration"),bm=ku("animationstart"),Dm=ku("transitionend"),Nm=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(i,o){Nm.set(i,o),a(o,[i])}for(var td=0;td<Lm.length;td++){var nd=Lm[td],sT=nd.toLowerCase(),oT=nd[0].toUpperCase()+nd.slice(1);hs(sT,"on"+oT)}hs(km,"onAnimationEnd"),hs(xm,"onAnimationIteration"),hs(bm,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(Dm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function Om(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Mt(h,o,void 0,i),i.currentTarget=null}function Vm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var k=h[S],V=k.instance,G=k.currentTarget;if(k=k.listener,V!==y&&p.isPropagationStopped())break e;Om(p,k,G),y=V}else for(S=0;S<h.length;S++){if(k=h[S],V=k.instance,G=k.currentTarget,k=k.listener,V!==y&&p.isPropagationStopped())break e;Om(p,k,G),y=V}}}if(me)throw i=Ve,me=!1,Ve=null,i}function It(i,o){var l=o[cd];l===void 0&&(l=o[cd]=new Set);var h=i+"__bubble";l.has(h)||(Mm(o,i,2,!1),l.add(h))}function rd(i,o,l){var h=0;o&&(h|=4),Mm(l,i,h,o)}var xu="_reactListening"+Math.random().toString(36).slice(2);function tl(i){if(!i[xu]){i[xu]=!0,r.forEach(function(l){l!=="selectionchange"&&(aT.has(l)||rd(l,!1,i),rd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[xu]||(o[xu]=!0,rd("selectionchange",!1,o))}}function Mm(i,o,l,h){switch(qa(o)){case 1:var p=kt;break;case 4:p=Kh;break;default:p=Ha}l=p.bind(null,o,l,i),p=void 0,!_e||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function id(i,o,l,h,p){var y=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var V=S.tag;if((V===3||V===4)&&(V=S.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;S=S.return}for(;k!==null;){if(S=Zs(k),S===null)return;if(V=S.tag,V===5||V===6){h=y=S;continue e}k=k.parentNode}}h=h.return}Y(function(){var G=y,ue=dn(l),fe=[];e:{var le=Nm.get(i);if(le!==void 0){var Ee=Fo,Ce=i;switch(i){case"keypress":if(Uo(l)===0)break e;case"keydown":case"keyup":Ee=g;break;case"focusin":Ce="focus",Ee=$o;break;case"focusout":Ce="blur",Ee=$o;break;case"beforeblur":case"afterblur":Ee=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=J;break;case km:case xm:case bm:Ee=Oi;break;case Dm:Ee=yt;break;case"scroll":Ee=Gh;break;case"wheel":Ee=ot;break;case"copy":case"cut":case"paste":Ee=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=I}var Pe=(o&4)!==0,jt=!Pe&&i==="scroll",q=Pe?le!==null?le+"Capture":null:le;Pe=[];for(var F=G,K;F!==null;){K=F;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,q!==null&&(pe=ne(F,q),pe!=null&&Pe.push(nl(F,pe,K)))),jt)break;F=F.return}0<Pe.length&&(le=new Ee(le,Ce,null,l,ue),fe.push({event:le,listeners:Pe}))}}if(!(o&7)){e:{if(le=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",le&&l!==Vn&&(Ce=l.relatedTarget||l.fromElement)&&(Zs(Ce)||Ce[Vi]))break e;if((Ee||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,Ee?(Ce=l.relatedTarget||l.toElement,Ee=G,Ce=Ce?Zs(Ce):null,Ce!==null&&(jt=nt(Ce),Ce!==jt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ee=null,Ce=G),Ee!==Ce)){if(Pe=zo,pe="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=I,pe="onPointerLeave",q="onPointerEnter",F="pointer"),jt=Ee==null?le:Xo(Ee),K=Ce==null?le:Xo(Ce),le=new Pe(pe,F+"leave",Ee,l,ue),le.target=jt,le.relatedTarget=K,pe=null,Zs(ue)===G&&(Pe=new Pe(q,F+"enter",Ce,l,ue),Pe.target=K,Pe.relatedTarget=jt,pe=Pe),jt=pe,Ee&&Ce)t:{for(Pe=Ee,q=Ce,F=0,K=Pe;K;K=Qo(K))F++;for(K=0,pe=q;pe;pe=Qo(pe))K++;for(;0<F-K;)Pe=Qo(Pe),F--;for(;0<K-F;)q=Qo(q),K--;for(;F--;){if(Pe===q||q!==null&&Pe===q.alternate)break t;Pe=Qo(Pe),q=Qo(q)}Pe=null}else Pe=null;Ee!==null&&Um(fe,le,Ee,Pe,!1),Ce!==null&&jt!==null&&Um(fe,jt,Ce,Pe,!0)}}e:{if(le=G?Xo(G):window,Ee=le.nodeName&&le.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&le.type==="file")var Ae=XE;else if(ym(le))if(_m)Ae=tT;else{Ae=ZE;var Ne=JE}else(Ee=le.nodeName)&&Ee.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=eT);if(Ae&&(Ae=Ae(i,G))){vm(fe,Ae,l,ue);break e}Ne&&Ne(i,le,G),i==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&kr(le,"number",le.value)}switch(Ne=G?Xo(G):window,i){case"focusin":(ym(Ne)||Ne.contentEditable==="true")&&(Ko=Ne,Jh=G,Za=null);break;case"focusout":Za=Jh=Ko=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Pm(fe,l,ue);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Pm(fe,l,ue)}var Le;if(Bt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Wo?mm(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Js&&l.locale!=="ko"&&(Wo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Wo&&(Le=Wa()):(ir=ue,Mo="value"in ir?ir.value:ir.textContent,Wo=!0)),Ne=bu(G,Fe),0<Ne.length&&(Fe=new Qa(Fe,i,null,l,ue),fe.push({event:Fe,listeners:Ne}),Le?Fe.data=Le:(Le=gm(l),Le!==null&&(Fe.data=Le)))),(Le=sr?KE(i,l):GE(i,l))&&(G=bu(G,"onBeforeInput"),0<G.length&&(ue=new Qa("onBeforeInput","beforeinput",null,l,ue),fe.push({event:ue,listeners:G}),ue.data=Le))}Vm(fe,o)})}function nl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function bu(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ne(i,l),y!=null&&h.unshift(nl(i,y,p)),y=ne(i,o),y!=null&&h.push(nl(i,y,p))),i=i.return}return h}function Qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Um(i,o,l,h,p){for(var y=o._reactName,S=[];l!==null&&l!==h;){var k=l,V=k.alternate,G=k.stateNode;if(V!==null&&V===h)break;k.tag===5&&G!==null&&(k=G,p?(V=ne(l,y),V!=null&&S.unshift(nl(l,V,k))):p||(V=ne(l,y),V!=null&&S.push(nl(l,V,k)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var lT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Fm(i){return(typeof i=="string"?i:""+i).replace(lT,`
`).replace(uT,"")}function Du(i,o,l){if(o=Fm(o),Fm(i)!==o&&l)throw Error(t(425))}function Nu(){}var sd=null,od=null;function ad(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(i){return jm.resolve(null).then(i).catch(dT)}:ld;function dT(i){setTimeout(function(){throw i})}function ud(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),zr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);zr(o)}function ds(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function zm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),ci="__reactFiber$"+Yo,rl="__reactProps$"+Yo,Vi="__reactContainer$"+Yo,cd="__reactEvents$"+Yo,fT="__reactListeners$"+Yo,pT="__reactHandles$"+Yo;function Zs(i){var o=i[ci];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Vi]||l[ci]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=zm(i);i!==null;){if(l=i[ci])return l;i=zm(i)}return o}i=l,l=i.parentNode}return null}function il(i){return i=i[ci]||i[Vi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Lu(i){return i[rl]||null}var hd=[],Jo=-1;function fs(i){return{current:i}}function Rt(i){0>Jo||(i.current=hd[Jo],hd[Jo]=null,Jo--)}function Et(i,o){Jo++,hd[Jo]=i.current,i.current=o}var ps={},Rn=fs(ps),Wn=fs(!1),eo=ps;function Zo(i,o){var l=i.type.contextTypes;if(!l)return ps;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function Kn(i){return i=i.childContextTypes,i!=null}function Ou(){Rt(Wn),Rt(Rn)}function Bm(i,o,l){if(Rn.current!==ps)throw Error(t(168));Et(Rn,o),Et(Wn,l)}function $m(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,be(i)||"Unknown",p));return re({},l,h)}function Vu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ps,eo=Rn.current,Et(Rn,i),Et(Wn,Wn.current),!0}function Hm(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=$m(i,o,eo),h.__reactInternalMemoizedMergedChildContext=i,Rt(Wn),Rt(Rn),Et(Rn,i)):Rt(Wn),Et(Wn,l)}var Mi=null,Mu=!1,dd=!1;function qm(i){Mi===null?Mi=[i]:Mi.push(i)}function mT(i){Mu=!0,qm(i)}function ms(){if(!dd&&Mi!==null){dd=!0;var i=0,o=rt;try{var l=Mi;for(rt=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Mi=null,Mu=!1}catch(p){throw Mi!==null&&(Mi=Mi.slice(i+1)),fn(st,ms),p}finally{rt=o,dd=!1}}return null}var ea=[],ta=0,Uu=null,Fu=0,vr=[],_r=0,to=null,Ui=1,Fi="";function no(i,o){ea[ta++]=Fu,ea[ta++]=Uu,Uu=i,Fu=o}function Wm(i,o,l){vr[_r++]=Ui,vr[_r++]=Fi,vr[_r++]=to,to=i;var h=Ui;i=Fi;var p=32-Mn(h)-1;h&=~(1<<p),l+=1;var y=32-Mn(o)+p;if(30<y){var S=p-p%5;y=(h&(1<<S)-1).toString(32),h>>=S,p-=S,Ui=1<<32-Mn(o)+p|l<<p|h,Fi=y+i}else Ui=1<<y|l<<p|h,Fi=i}function fd(i){i.return!==null&&(no(i,1),Wm(i,1,0))}function pd(i){for(;i===Uu;)Uu=ea[--ta],ea[ta]=null,Fu=ea[--ta],ea[ta]=null;for(;i===to;)to=vr[--_r],vr[_r]=null,Fi=vr[--_r],vr[_r]=null,Ui=vr[--_r],vr[_r]=null}var or=null,ar=null,xt=!1,Hr=null;function Km(i,o){var l=Sr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Gm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,or=i,ar=ds(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,or=i,ar=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=to!==null?{id:Ui,overflow:Fi}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Sr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,or=i,ar=null,!0):!1;default:return!1}}function md(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gd(i){if(xt){var o=ar;if(o){var l=o;if(!Gm(i,o)){if(md(i))throw Error(t(418));o=ds(l.nextSibling);var h=or;o&&Gm(i,o)?Km(h,l):(i.flags=i.flags&-4097|2,xt=!1,or=i)}}else{if(md(i))throw Error(t(418));i.flags=i.flags&-4097|2,xt=!1,or=i}}}function Qm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;or=i}function ju(i){if(i!==or)return!1;if(!xt)return Qm(i),xt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ad(i.type,i.memoizedProps)),o&&(o=ar)){if(md(i))throw Ym(),Error(t(418));for(;o;)Km(i,o),o=ds(o.nextSibling)}if(Qm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){ar=ds(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}ar=null}}else ar=or?ds(i.stateNode.nextSibling):null;return!0}function Ym(){for(var i=ar;i;)i=ds(i.nextSibling)}function na(){ar=or=null,xt=!1}function yd(i){Hr===null?Hr=[i]:Hr.push(i)}var gT=te.ReactCurrentBatchConfig;function sl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var k=p.refs;S===null?delete k[y]:k[y]=S},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function zu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Xm(i){var o=i._init;return o(i._payload)}function Jm(i){function o(q,F){if(i){var K=q.deletions;K===null?(q.deletions=[F],q.flags|=16):K.push(F)}}function l(q,F){if(!i)return null;for(;F!==null;)o(q,F),F=F.sibling;return null}function h(q,F){for(q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function p(q,F){return q=Ss(q,F),q.index=0,q.sibling=null,q}function y(q,F,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<F?(q.flags|=2,F):K):(q.flags|=2,F)):(q.flags|=1048576,F)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function k(q,F,K,pe){return F===null||F.tag!==6?(F=uf(K,q.mode,pe),F.return=q,F):(F=p(F,K),F.return=q,F)}function V(q,F,K,pe){var Ae=K.type;return Ae===A?ue(q,F,K.props.children,pe,K.key):F!==null&&(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===de&&Xm(Ae)===F.type)?(pe=p(F,K.props),pe.ref=sl(q,F,K),pe.return=q,pe):(pe=hc(K.type,K.key,K.props,null,q.mode,pe),pe.ref=sl(q,F,K),pe.return=q,pe)}function G(q,F,K,pe){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=cf(K,q.mode,pe),F.return=q,F):(F=p(F,K.children||[]),F.return=q,F)}function ue(q,F,K,pe,Ae){return F===null||F.tag!==7?(F=co(K,q.mode,pe,Ae),F.return=q,F):(F=p(F,K),F.return=q,F)}function fe(q,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return F=uf(""+F,q.mode,K),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return K=hc(F.type,F.key,F.props,null,q.mode,K),K.ref=sl(q,null,F),K.return=q,K;case oe:return F=cf(F,q.mode,K),F.return=q,F;case de:var pe=F._init;return fe(q,pe(F._payload),K)}if(tn(F)||ee(F))return F=co(F,q.mode,K,null),F.return=q,F;zu(q,F)}return null}function le(q,F,K,pe){var Ae=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ae!==null?null:k(q,F,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case M:return K.key===Ae?V(q,F,K,pe):null;case oe:return K.key===Ae?G(q,F,K,pe):null;case de:return Ae=K._init,le(q,F,Ae(K._payload),pe)}if(tn(K)||ee(K))return Ae!==null?null:ue(q,F,K,pe,null);zu(q,K)}return null}function Ee(q,F,K,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return q=q.get(K)||null,k(F,q,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case M:return q=q.get(pe.key===null?K:pe.key)||null,V(F,q,pe,Ae);case oe:return q=q.get(pe.key===null?K:pe.key)||null,G(F,q,pe,Ae);case de:var Ne=pe._init;return Ee(q,F,K,Ne(pe._payload),Ae)}if(tn(pe)||ee(pe))return q=q.get(K)||null,ue(F,q,pe,Ae,null);zu(F,pe)}return null}function Ce(q,F,K,pe){for(var Ae=null,Ne=null,Le=F,Fe=F=0,an=null;Le!==null&&Fe<K.length;Fe++){Le.index>Fe?(an=Le,Le=null):an=Le.sibling;var ct=le(q,Le,K[Fe],pe);if(ct===null){Le===null&&(Le=an);break}i&&Le&&ct.alternate===null&&o(q,Le),F=y(ct,F,Fe),Ne===null?Ae=ct:Ne.sibling=ct,Ne=ct,Le=an}if(Fe===K.length)return l(q,Le),xt&&no(q,Fe),Ae;if(Le===null){for(;Fe<K.length;Fe++)Le=fe(q,K[Fe],pe),Le!==null&&(F=y(Le,F,Fe),Ne===null?Ae=Le:Ne.sibling=Le,Ne=Le);return xt&&no(q,Fe),Ae}for(Le=h(q,Le);Fe<K.length;Fe++)an=Ee(Le,q,Fe,K[Fe],pe),an!==null&&(i&&an.alternate!==null&&Le.delete(an.key===null?Fe:an.key),F=y(an,F,Fe),Ne===null?Ae=an:Ne.sibling=an,Ne=an);return i&&Le.forEach(function(Is){return o(q,Is)}),xt&&no(q,Fe),Ae}function Pe(q,F,K,pe){var Ae=ee(K);if(typeof Ae!="function")throw Error(t(150));if(K=Ae.call(K),K==null)throw Error(t(151));for(var Ne=Ae=null,Le=F,Fe=F=0,an=null,ct=K.next();Le!==null&&!ct.done;Fe++,ct=K.next()){Le.index>Fe?(an=Le,Le=null):an=Le.sibling;var Is=le(q,Le,ct.value,pe);if(Is===null){Le===null&&(Le=an);break}i&&Le&&Is.alternate===null&&o(q,Le),F=y(Is,F,Fe),Ne===null?Ae=Is:Ne.sibling=Is,Ne=Is,Le=an}if(ct.done)return l(q,Le),xt&&no(q,Fe),Ae;if(Le===null){for(;!ct.done;Fe++,ct=K.next())ct=fe(q,ct.value,pe),ct!==null&&(F=y(ct,F,Fe),Ne===null?Ae=ct:Ne.sibling=ct,Ne=ct);return xt&&no(q,Fe),Ae}for(Le=h(q,Le);!ct.done;Fe++,ct=K.next())ct=Ee(Le,q,Fe,ct.value,pe),ct!==null&&(i&&ct.alternate!==null&&Le.delete(ct.key===null?Fe:ct.key),F=y(ct,F,Fe),Ne===null?Ae=ct:Ne.sibling=ct,Ne=ct);return i&&Le.forEach(function(QT){return o(q,QT)}),xt&&no(q,Fe),Ae}function jt(q,F,K,pe){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case M:e:{for(var Ae=K.key,Ne=F;Ne!==null;){if(Ne.key===Ae){if(Ae=K.type,Ae===A){if(Ne.tag===7){l(q,Ne.sibling),F=p(Ne,K.props.children),F.return=q,q=F;break e}}else if(Ne.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===de&&Xm(Ae)===Ne.type){l(q,Ne.sibling),F=p(Ne,K.props),F.ref=sl(q,Ne,K),F.return=q,q=F;break e}l(q,Ne);break}else o(q,Ne);Ne=Ne.sibling}K.type===A?(F=co(K.props.children,q.mode,pe,K.key),F.return=q,q=F):(pe=hc(K.type,K.key,K.props,null,q.mode,pe),pe.ref=sl(q,F,K),pe.return=q,q=pe)}return S(q);case oe:e:{for(Ne=K.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){l(q,F.sibling),F=p(F,K.children||[]),F.return=q,q=F;break e}else{l(q,F);break}else o(q,F);F=F.sibling}F=cf(K,q.mode,pe),F.return=q,q=F}return S(q);case de:return Ne=K._init,jt(q,F,Ne(K._payload),pe)}if(tn(K))return Ce(q,F,K,pe);if(ee(K))return Pe(q,F,K,pe);zu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(l(q,F.sibling),F=p(F,K),F.return=q,q=F):(l(q,F),F=uf(K,q.mode,pe),F.return=q,q=F),S(q)):l(q,F)}return jt}var ra=Jm(!0),Zm=Jm(!1),Bu=fs(null),$u=null,ia=null,vd=null;function _d(){vd=ia=$u=null}function wd(i){var o=Bu.current;Rt(Bu),i._currentValue=o}function Ed(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function sa(i,o){$u=i,vd=ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Gn=!0),i.firstContext=null)}function wr(i){var o=i._currentValue;if(vd!==i)if(i={context:i,memoizedValue:o,next:null},ia===null){if($u===null)throw Error(t(308));ia=i,$u.dependencies={lanes:0,firstContext:i}}else ia=ia.next=i;return o}var ro=null;function Td(i){ro===null?ro=[i]:ro.push(i)}function eg(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,Td(o)):(l.next=p.next,p.next=l),o.interleaved=l,ji(i,h)}function ji(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var gs=!1;function Sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ys(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,ut&2){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,ji(i,l)}return p=h.interleaved,p===null?(o.next=o,Td(h)):(o.next=p.next,p.next=o),h.interleaved=o,ji(i,l)}function Hu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,os(i,l)}}function ng(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function qu(i,o,l,h){var p=i.updateQueue;gs=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var V=k,G=V.next;V.next=null,S===null?y=G:S.next=G,S=V;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,k=ue.lastBaseUpdate,k!==S&&(k===null?ue.firstBaseUpdate=G:k.next=G,ue.lastBaseUpdate=V))}if(y!==null){var fe=p.baseState;S=0,ue=G=V=null,k=y;do{var le=k.lane,Ee=k.eventTime;if((h&le)===le){ue!==null&&(ue=ue.next={eventTime:Ee,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ce=i,Pe=k;switch(le=o,Ee=l,Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){fe=Ce.call(Ee,fe,le);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,le=typeof Ce=="function"?Ce.call(Ee,fe,le):Ce,le==null)break e;fe=re({},fe,le);break e;case 2:gs=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,le=p.effects,le===null?p.effects=[k]:le.push(k))}else Ee={eventTime:Ee,lane:le,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ue===null?(G=ue=Ee,V=fe):ue=ue.next=Ee,S|=le;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;le=k,k=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);if(ue===null&&(V=fe),p.baseState=V,p.firstBaseUpdate=G,p.lastBaseUpdate=ue,o=p.shared.interleaved,o!==null){p=o;do S|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);oo|=S,i.lanes=S,i.memoizedState=fe}}function rg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var ol={},hi=fs(ol),al=fs(ol),ll=fs(ol);function io(i){if(i===ol)throw Error(t(174));return i}function Id(i,o){switch(Et(ll,o),Et(al,i),Et(hi,ol),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:vt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=vt(o,i)}Rt(hi),Et(hi,o)}function oa(){Rt(hi),Rt(al),Rt(ll)}function ig(i){io(ll.current);var o=io(hi.current),l=vt(o,i.type);o!==l&&(Et(al,i),Et(hi,l))}function Rd(i){al.current===i&&(Rt(hi),Rt(al))}var Dt=fs(0);function Wu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Cd=[];function Pd(){for(var i=0;i<Cd.length;i++)Cd[i]._workInProgressVersionPrimary=null;Cd.length=0}var Ku=te.ReactCurrentDispatcher,Ad=te.ReactCurrentBatchConfig,so=0,Nt=null,Gt=null,sn=null,Gu=!1,ul=!1,cl=0,yT=0;function Cn(){throw Error(t(321))}function kd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!$r(i[l],o[l]))return!1;return!0}function xd(i,o,l,h,p,y){if(so=y,Nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ku.current=i===null||i.memoizedState===null?ET:TT,i=l(h,p),ul){y=0;do{if(ul=!1,cl=0,25<=y)throw Error(t(301));y+=1,sn=Gt=null,o.updateQueue=null,Ku.current=ST,i=l(h,p)}while(ul)}if(Ku.current=Xu,o=Gt!==null&&Gt.next!==null,so=0,sn=Gt=Nt=null,Gu=!1,o)throw Error(t(300));return i}function bd(){var i=cl!==0;return cl=0,i}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Nt.memoizedState=sn=i:sn=sn.next=i,sn}function Er(){if(Gt===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var o=sn===null?Nt.memoizedState:sn.next;if(o!==null)sn=o,Gt=i;else{if(i===null)throw Error(t(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},sn===null?Nt.memoizedState=sn=i:sn=sn.next=i}return sn}function hl(i,o){return typeof o=="function"?o(i):o}function Dd(i){var o=Er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Gt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=S=null,V=null,G=y;do{var ue=G.lane;if((so&ue)===ue)V!==null&&(V=V.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:i(h,G.action);else{var fe={lane:ue,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};V===null?(k=V=fe,S=h):V=V.next=fe,Nt.lanes|=ue,oo|=ue}G=G.next}while(G!==null&&G!==y);V===null?S=h:V.next=k,$r(h,o.memoizedState)||(Gn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=V,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,Nt.lanes|=y,oo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Nd(i){var o=Er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=i(y,S.action),S=S.next;while(S!==p);$r(y,o.memoizedState)||(Gn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function sg(){}function og(i,o){var l=Nt,h=Er(),p=o(),y=!$r(h.memoizedState,p);if(y&&(h.memoizedState=p,Gn=!0),h=h.queue,Ld(ug.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,dl(9,lg.bind(null,l,h,p,o),void 0,null),on===null)throw Error(t(349));so&30||ag(l,o,p)}return p}function ag(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function lg(i,o,l,h){o.value=l,o.getSnapshot=h,cg(o)&&hg(i)}function ug(i,o,l){return l(function(){cg(o)&&hg(i)})}function cg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!$r(i,l)}catch{return!0}}function hg(i){var o=ji(i,1);o!==null&&Gr(o,i,1,-1)}function dg(i){var o=di();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:i},o.queue=i,i=i.dispatch=wT.bind(null,Nt,i),[o.memoizedState,i]}function dl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function fg(){return Er().memoizedState}function Qu(i,o,l,h){var p=di();Nt.flags|=i,p.memoizedState=dl(1|o,l,void 0,h===void 0?null:h)}function Yu(i,o,l,h){var p=Er();h=h===void 0?null:h;var y=void 0;if(Gt!==null){var S=Gt.memoizedState;if(y=S.destroy,h!==null&&kd(h,S.deps)){p.memoizedState=dl(o,l,y,h);return}}Nt.flags|=i,p.memoizedState=dl(1|o,l,y,h)}function pg(i,o){return Qu(8390656,8,i,o)}function Ld(i,o){return Yu(2048,8,i,o)}function mg(i,o){return Yu(4,2,i,o)}function gg(i,o){return Yu(4,4,i,o)}function yg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function vg(i,o,l){return l=l!=null?l.concat([i]):null,Yu(4,4,yg.bind(null,o,i),l)}function Od(){}function _g(i,o){var l=Er();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&kd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function wg(i,o){var l=Er();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&kd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Eg(i,o,l){return so&21?($r(l,o)||(l=Gs(),Nt.lanes|=l,oo|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Gn=!0),i.memoizedState=l)}function vT(i,o){var l=rt;rt=l!==0&&4>l?l:4,i(!0);var h=Ad.transition;Ad.transition={};try{i(!1),o()}finally{rt=l,Ad.transition=h}}function Tg(){return Er().memoizedState}function _T(i,o,l){var h=Es(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sg(i))Ig(o,l);else if(l=eg(i,o,l,h),l!==null){var p=jn();Gr(l,i,h,p),Rg(l,o,h)}}function wT(i,o,l){var h=Es(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sg(i))Ig(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,k=y(S,l);if(p.hasEagerState=!0,p.eagerState=k,$r(k,S)){var V=o.interleaved;V===null?(p.next=p,Td(o)):(p.next=V.next,V.next=p),o.interleaved=p;return}}catch{}finally{}l=eg(i,o,p,h),l!==null&&(p=jn(),Gr(l,i,h,p),Rg(l,o,h))}}function Sg(i){var o=i.alternate;return i===Nt||o!==null&&o===Nt}function Ig(i,o){ul=Gu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Rg(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,os(i,l)}}var Xu={readContext:wr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},ET={readContext:wr,useCallback:function(i,o){return di().memoizedState=[i,o===void 0?null:o],i},useContext:wr,useEffect:pg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Qu(4194308,4,yg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Qu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Qu(4,2,i,o)},useMemo:function(i,o){var l=di();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=di();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=_T.bind(null,Nt,i),[h.memoizedState,i]},useRef:function(i){var o=di();return i={current:i},o.memoizedState=i},useState:dg,useDebugValue:Od,useDeferredValue:function(i){return di().memoizedState=i},useTransition:function(){var i=dg(!1),o=i[0];return i=vT.bind(null,i[1]),di().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=Nt,p=di();if(xt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),on===null)throw Error(t(349));so&30||ag(h,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,pg(ug.bind(null,h,y,i),[i]),h.flags|=2048,dl(9,lg.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=di(),o=on.identifierPrefix;if(xt){var l=Fi,h=Ui;l=(h&~(1<<32-Mn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=cl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=yT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},TT={readContext:wr,useCallback:_g,useContext:wr,useEffect:Ld,useImperativeHandle:vg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:Dd,useRef:fg,useState:function(){return Dd(hl)},useDebugValue:Od,useDeferredValue:function(i){var o=Er();return Eg(o,Gt.memoizedState,i)},useTransition:function(){var i=Dd(hl)[0],o=Er().memoizedState;return[i,o]},useMutableSource:sg,useSyncExternalStore:og,useId:Tg,unstable_isNewReconciler:!1},ST={readContext:wr,useCallback:_g,useContext:wr,useEffect:Ld,useImperativeHandle:vg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:Nd,useRef:fg,useState:function(){return Nd(hl)},useDebugValue:Od,useDeferredValue:function(i){var o=Er();return Gt===null?o.memoizedState=i:Eg(o,Gt.memoizedState,i)},useTransition:function(){var i=Nd(hl)[0],o=Er().memoizedState;return[i,o]},useMutableSource:sg,useSyncExternalStore:og,useId:Tg,unstable_isNewReconciler:!1};function qr(i,o){if(i&&i.defaultProps){o=re({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Vd(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:re({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ju={isMounted:function(i){return(i=i._reactInternals)?nt(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=jn(),p=Es(i),y=zi(h,p);y.payload=o,l!=null&&(y.callback=l),o=ys(i,y,p),o!==null&&(Gr(o,i,p,h),Hu(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=jn(),p=Es(i),y=zi(h,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=ys(i,y,p),o!==null&&(Gr(o,i,p,h),Hu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=jn(),h=Es(i),p=zi(l,h);p.tag=2,o!=null&&(p.callback=o),o=ys(i,p,h),o!==null&&(Gr(o,i,h,l),Hu(o,i,h))}};function Cg(i,o,l,h,p,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!Ja(l,h)||!Ja(p,y):!0}function Pg(i,o,l){var h=!1,p=ps,y=o.contextType;return typeof y=="object"&&y!==null?y=wr(y):(p=Kn(o)?eo:Rn.current,h=o.contextTypes,y=(h=h!=null)?Zo(i,p):ps),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ju,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function Ag(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Ju.enqueueReplaceState(o,o.state,null)}function Md(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Sd(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=wr(y):(y=Kn(o)?eo:Rn.current,p.context=Zo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Vd(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Ju.enqueueReplaceState(p,p.state,null),qu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function aa(i,o){try{var l="",h=o;do l+=ve(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function Ud(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Fd(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var IT=typeof WeakMap=="function"?WeakMap:Map;function kg(i,o,l){l=zi(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){sc||(sc=!0,ef=h),Fd(i,o)},l}function xg(i,o,l){l=zi(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){Fd(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Fd(i,o),typeof h!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function bg(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new IT;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=UT.bind(null,i,o,l),o.then(i,i))}function Dg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Ng(i,o,l,h,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=zi(-1,1),o.tag=2,ys(l,o,1))),l.lanes|=1),i)}var RT=te.ReactCurrentOwner,Gn=!1;function Fn(i,o,l,h){o.child=i===null?Zm(o,null,l,h):ra(o,i.child,l,h)}function Lg(i,o,l,h,p){l=l.render;var y=o.ref;return sa(o,p),h=xd(i,o,l,h,y,p),l=bd(),i!==null&&!Gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Bi(i,o,p)):(xt&&l&&fd(o),o.flags|=1,Fn(i,o,h,p),o.child)}function Og(i,o,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!lf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Vg(i,o,y,h,p)):(i=hc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&p)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(S,h)&&i.ref===o.ref)return Bi(i,o,p)}return o.flags|=1,i=Ss(y,h),i.ref=o.ref,i.return=o,o.child=i}function Vg(i,o,l,h,p){if(i!==null){var y=i.memoizedProps;if(Ja(y,h)&&i.ref===o.ref)if(Gn=!1,o.pendingProps=h=y,(i.lanes&p)!==0)i.flags&131072&&(Gn=!0);else return o.lanes=i.lanes,Bi(i,o,p)}return jd(i,o,l,h,p)}function Mg(i,o,l){var h=o.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(ua,lr),lr|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Et(ua,lr),lr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Et(ua,lr),lr|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Et(ua,lr),lr|=h;return Fn(i,o,p,l),o.child}function Ug(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function jd(i,o,l,h,p){var y=Kn(l)?eo:Rn.current;return y=Zo(o,y),sa(o,p),l=xd(i,o,l,h,y,p),h=bd(),i!==null&&!Gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Bi(i,o,p)):(xt&&h&&fd(o),o.flags|=1,Fn(i,o,l,p),o.child)}function Fg(i,o,l,h,p){if(Kn(l)){var y=!0;Vu(o)}else y=!1;if(sa(o,p),o.stateNode===null)ec(i,o),Pg(o,l,h),Md(o,l,h,p),h=!0;else if(i===null){var S=o.stateNode,k=o.memoizedProps;S.props=k;var V=S.context,G=l.contextType;typeof G=="object"&&G!==null?G=wr(G):(G=Kn(l)?eo:Rn.current,G=Zo(o,G));var ue=l.getDerivedStateFromProps,fe=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==h||V!==G)&&Ag(o,S,h,G),gs=!1;var le=o.memoizedState;S.state=le,qu(o,h,S,p),V=o.memoizedState,k!==h||le!==V||Wn.current||gs?(typeof ue=="function"&&(Vd(o,l,ue,h),V=o.memoizedState),(k=gs||Cg(o,l,k,h,le,V,G))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=V),S.props=h,S.state=V,S.context=G,h=k):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,tg(i,o),k=o.memoizedProps,G=o.type===o.elementType?k:qr(o.type,k),S.props=G,fe=o.pendingProps,le=S.context,V=l.contextType,typeof V=="object"&&V!==null?V=wr(V):(V=Kn(l)?eo:Rn.current,V=Zo(o,V));var Ee=l.getDerivedStateFromProps;(ue=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==fe||le!==V)&&Ag(o,S,h,V),gs=!1,le=o.memoizedState,S.state=le,qu(o,h,S,p);var Ce=o.memoizedState;k!==fe||le!==Ce||Wn.current||gs?(typeof Ee=="function"&&(Vd(o,l,Ee,h),Ce=o.memoizedState),(G=gs||Cg(o,l,G,h,le,Ce,V)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Ce,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Ce,V)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ce),S.props=h,S.state=Ce,S.context=V,h=G):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),h=!1)}return zd(i,o,l,h,y,p)}function zd(i,o,l,h,p,y){Ug(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return p&&Hm(o,l,!1),Bi(i,o,y);h=o.stateNode,RT.current=o;var k=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=ra(o,i.child,null,y),o.child=ra(o,null,k,y)):Fn(i,o,k,y),o.memoizedState=h.state,p&&Hm(o,l,!0),o.child}function jg(i){var o=i.stateNode;o.pendingContext?Bm(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Bm(i,o.context,!1),Id(i,o.containerInfo)}function zg(i,o,l,h,p){return na(),yd(p),o.flags|=256,Fn(i,o,l,h),o.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function $d(i){return{baseLanes:i,cachePool:null,transitions:null}}function Bg(i,o,l){var h=o.pendingProps,p=Dt.current,y=!1,S=(o.flags&128)!==0,k;if((k=S)||(k=i!==null&&i.memoizedState===null?!1:(p&2)!==0),k?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Et(Dt,p&1),i===null)return gd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=h.children,i=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=S):y=dc(S,h,0,null),i=co(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=$d(l),o.memoizedState=Bd,i):Hd(o,S));if(p=i.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return CT(i,o,S,h,k,p,l);if(y){y=h.fallback,S=o.mode,p=i.child,k=p.sibling;var V={mode:"hidden",children:h.children};return!(S&1)&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=V,o.deletions=null):(h=Ss(p,V),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=Ss(k,y):(y=co(y,S,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=i.child.memoizedState,S=S===null?$d(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~l,o.memoizedState=Bd,h}return y=i.child,i=y.sibling,h=Ss(y,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Hd(i,o){return o=dc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Zu(i,o,l,h){return h!==null&&yd(h),ra(o,i.child,null,l),i=Hd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CT(i,o,l,h,p,y,S){if(l)return o.flags&256?(o.flags&=-257,h=Ud(Error(t(422))),Zu(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=dc({mode:"visible",children:h.children},p,0,null),y=co(y,p,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,o.mode&1&&ra(o,i.child,null,S),o.child.memoizedState=$d(S),o.memoizedState=Bd,y);if(!(o.mode&1))return Zu(i,o,S,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=Ud(y,h,void 0),Zu(i,o,S,h)}if(k=(S&i.childLanes)!==0,Gn||k){if(h=on,h!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|S)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ji(i,p),Gr(h,i,p,-1))}return af(),h=Ud(Error(t(421))),Zu(i,o,S,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=FT.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,ar=ds(p.nextSibling),or=o,xt=!0,Hr=null,i!==null&&(vr[_r++]=Ui,vr[_r++]=Fi,vr[_r++]=to,Ui=i.id,Fi=i.overflow,to=o),o=Hd(o,h.children),o.flags|=4096,o)}function $g(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Ed(i.return,o,l)}function qd(i,o,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Hg(i,o,l){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(Fn(i,o,h.children,l),h=Dt.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$g(i,l,o);else if(i.tag===19)$g(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Et(Dt,h),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Wu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),qd(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Wu(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}qd(o,!0,l,null,y);break;case"together":qd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ec(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Bi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),oo|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ss(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ss(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function PT(i,o,l){switch(o.tag){case 3:jg(o),na();break;case 5:ig(o);break;case 1:Kn(o.type)&&Vu(o);break;case 4:Id(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Et(Bu,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Et(Dt,Dt.current&1),o.flags|=128,null):l&o.child.childLanes?Bg(i,o,l):(Et(Dt,Dt.current&1),i=Bi(i,o,l),i!==null?i.sibling:null);Et(Dt,Dt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return Hg(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Et(Dt,Dt.current),h)break;return null;case 22:case 23:return o.lanes=0,Mg(i,o,l)}return Bi(i,o,l)}var qg,Wd,Wg,Kg;qg=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wd=function(){},Wg=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,io(hi.current);var y=null;switch(l){case"input":p=Pr(i,p),h=Pr(i,h),y=[];break;case"select":p=re({},p,{value:void 0}),h=re({},h,{value:void 0}),y=[];break;case"textarea":p=er(i,p),h=er(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Nu)}nr(l,h);var S;l=null;for(G in p)if(!h.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var k=p[G];for(S in k)k.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in h){var V=h[G];if(k=p!=null?p[G]:void 0,h.hasOwnProperty(G)&&V!==k&&(V!=null||k!=null))if(G==="style")if(k){for(S in k)!k.hasOwnProperty(S)||V&&V.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in V)V.hasOwnProperty(S)&&k[S]!==V[S]&&(l||(l={}),l[S]=V[S])}else l||(y||(y=[]),y.push(G,l)),l=V;else G==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,k=k?k.__html:void 0,V!=null&&k!==V&&(y=y||[]).push(G,V)):G==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(G,""+V):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(V!=null&&G==="onScroll"&&It("scroll",i),y||k===V||(y=[])):(y=y||[]).push(G,V))}l&&(y=y||[]).push("style",l);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},Kg=function(i,o,l,h){l!==h&&(o.flags|=4)};function fl(i,o){if(!xt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Pn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function AT(i,o,l){var h=o.pendingProps;switch(pd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(o),null;case 1:return Kn(o.type)&&Ou(),Pn(o),null;case 3:return h=o.stateNode,oa(),Rt(Wn),Rt(Rn),Pd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ju(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Hr!==null&&(rf(Hr),Hr=null))),Wd(i,o),Pn(o),null;case 5:Rd(o);var p=io(ll.current);if(l=o.type,i!==null&&o.stateNode!=null)Wg(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Pn(o),null}if(i=io(hi.current),ju(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[ci]=o,h[rl]=y,i=(o.mode&1)!==0,l){case"dialog":It("cancel",h),It("close",h);break;case"iframe":case"object":case"embed":It("load",h);break;case"video":case"audio":for(p=0;p<el.length;p++)It(el[p],h);break;case"source":It("error",h);break;case"img":case"image":case"link":It("error",h),It("load",h);break;case"details":It("toggle",h);break;case"input":mr(h,y),It("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},It("invalid",h);break;case"textarea":Vt(h,y),It("invalid",h)}nr(l,y),p=null;for(var S in y)if(y.hasOwnProperty(S)){var k=y[S];S==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&Du(h.textContent,k,i),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Du(h.textContent,k,i),p=["children",""+k]):s.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&It("scroll",h)}switch(l){case"input":en(h),Ar(h,y,!0);break;case"textarea":en(h),Tn(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Nu)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(l,{is:h.is}):(i=S.createElement(l),l==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,l),i[ci]=o,i[rl]=h,qg(i,o,!1,!1),o.stateNode=i;e:{switch(S=ri(l,h),l){case"dialog":It("cancel",i),It("close",i),p=h;break;case"iframe":case"object":case"embed":It("load",i),p=h;break;case"video":case"audio":for(p=0;p<el.length;p++)It(el[p],i);p=h;break;case"source":It("error",i),p=h;break;case"img":case"image":case"link":It("error",i),It("load",i),p=h;break;case"details":It("toggle",i),p=h;break;case"input":mr(i,h),p=Pr(i,h),It("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=re({},h,{value:void 0}),It("invalid",i);break;case"textarea":Vt(i,h),p=er(i,h),It("invalid",i);break;default:p=h}nr(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var V=k[y];y==="style"?Ai(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&xr(i,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&At(i,V):typeof V=="number"&&At(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?V!=null&&y==="onScroll"&&It("scroll",i):V!=null&&X(i,y,V,S))}switch(l){case"input":en(i),Ar(i,h,!1);break;case"textarea":en(i),Tn(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Xe(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Wt(i,!!h.multiple,y,!1):h.defaultValue!=null&&Wt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pn(o),null;case 6:if(i&&o.stateNode!=null)Kg(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=io(ll.current),io(hi.current),ju(o)){if(h=o.stateNode,l=o.memoizedProps,h[ci]=o,(y=h.nodeValue!==l)&&(i=or,i!==null))switch(i.tag){case 3:Du(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Du(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ci]=o,o.stateNode=h}return Pn(o),null;case 13:if(Rt(Dt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(xt&&ar!==null&&o.mode&1&&!(o.flags&128))Ym(),na(),o.flags|=98560,y=!1;else if(y=ju(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ci]=o}else na(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Pn(o),y=!1}else Hr!==null&&(rf(Hr),Hr=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||Dt.current&1?Qt===0&&(Qt=3):af())),o.updateQueue!==null&&(o.flags|=4),Pn(o),null);case 4:return oa(),Wd(i,o),i===null&&tl(o.stateNode.containerInfo),Pn(o),null;case 10:return wd(o.type._context),Pn(o),null;case 17:return Kn(o.type)&&Ou(),Pn(o),null;case 19:if(Rt(Dt),y=o.memoizedState,y===null)return Pn(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)fl(y,!1);else{if(Qt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(S=Wu(i),S!==null){for(o.flags|=128,fl(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Et(Dt,Dt.current&1|2),o.child}i=i.sibling}y.tail!==null&&mt()>ca&&(o.flags|=128,h=!0,fl(y,!1),o.lanes=4194304)}else{if(!h)if(i=Wu(S),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!xt)return Pn(o),null}else 2*mt()-y.renderingStartTime>ca&&l!==1073741824&&(o.flags|=128,h=!0,fl(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(l=y.last,l!==null?l.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=mt(),o.sibling=null,l=Dt.current,Et(Dt,h?l&1|2:l&1),o):(Pn(o),null);case 22:case 23:return of(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?lr&1073741824&&(Pn(o),o.subtreeFlags&6&&(o.flags|=8192)):Pn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function kT(i,o){switch(pd(o),o.tag){case 1:return Kn(o.type)&&Ou(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return oa(),Rt(Wn),Rt(Rn),Pd(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Rd(o),null;case 13:if(Rt(Dt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Rt(Dt),null;case 4:return oa(),null;case 10:return wd(o.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var tc=!1,An=!1,xT=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function la(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Ut(i,o,h)}else l.current=null}function Kd(i,o,l){try{l()}catch(h){Ut(i,o,h)}}var Gg=!1;function bT(i,o){if(sd=us,i=Cm(),Xh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,k=-1,V=-1,G=0,ue=0,fe=i,le=null;t:for(;;){for(var Ee;fe!==l||p!==0&&fe.nodeType!==3||(k=S+p),fe!==y||h!==0&&fe.nodeType!==3||(V=S+h),fe.nodeType===3&&(S+=fe.nodeValue.length),(Ee=fe.firstChild)!==null;)le=fe,fe=Ee;for(;;){if(fe===i)break t;if(le===l&&++G===p&&(k=S),le===y&&++ue===h&&(V=S),(Ee=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=Ee}l=k===-1||V===-1?null:{start:k,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(od={focusedElem:i,selectionRange:l},us=!1,Ie=o;Ie!==null;)if(o=Ie,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ie=i;else for(;Ie!==null;){o=Ie;try{var Ce=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Pe=Ce.memoizedProps,jt=Ce.memoizedState,q=o.stateNode,F=q.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:qr(o.type,Pe),jt);q.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Ut(o,o.return,pe)}if(i=o.sibling,i!==null){i.return=o.return,Ie=i;break}Ie=o.return}return Ce=Gg,Gg=!1,Ce}function pl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Kd(o,l,y)}p=p.next}while(p!==h)}}function nc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Gd(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Qg(i){var o=i.alternate;o!==null&&(i.alternate=null,Qg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ci],delete o[rl],delete o[cd],delete o[fT],delete o[pT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Yg(i){return i.tag===5||i.tag===3||i.tag===4}function Xg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Nu));else if(h!==4&&(i=i.child,i!==null))for(Qd(i,o,l),i=i.sibling;i!==null;)Qd(i,o,l),i=i.sibling}function Yd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Yd(i,o,l),i=i.sibling;i!==null;)Yd(i,o,l),i=i.sibling}var yn=null,Wr=!1;function vs(i,o,l){for(l=l.child;l!==null;)Jg(i,o,l),l=l.sibling}function Jg(i,o,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount($n,l)}catch{}switch(l.tag){case 5:An||la(l,o);case 6:var h=yn,p=Wr;yn=null,vs(i,o,l),yn=h,Wr=p,yn!==null&&(Wr?(i=yn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):yn.removeChild(l.stateNode));break;case 18:yn!==null&&(Wr?(i=yn,l=l.stateNode,i.nodeType===8?ud(i.parentNode,l):i.nodeType===1&&ud(i,l),zr(i)):ud(yn,l.stateNode));break;case 4:h=yn,p=Wr,yn=l.stateNode.containerInfo,Wr=!0,vs(i,o,l),yn=h,Wr=p;break;case 0:case 11:case 14:case 15:if(!An&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,S=y.destroy;y=y.tag,S!==void 0&&(y&2||y&4)&&Kd(l,o,S),p=p.next}while(p!==h)}vs(i,o,l);break;case 1:if(!An&&(la(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){Ut(l,o,k)}vs(i,o,l);break;case 21:vs(i,o,l);break;case 22:l.mode&1?(An=(h=An)||l.memoizedState!==null,vs(i,o,l),An=h):vs(i,o,l);break;default:vs(i,o,l)}}function Zg(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new xT),o.forEach(function(h){var p=jT.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Kr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,S=o,k=S;e:for(;k!==null;){switch(k.tag){case 5:yn=k.stateNode,Wr=!1;break e;case 3:yn=k.stateNode.containerInfo,Wr=!0;break e;case 4:yn=k.stateNode.containerInfo,Wr=!0;break e}k=k.return}if(yn===null)throw Error(t(160));Jg(y,S,p),yn=null,Wr=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(G){Ut(p,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ey(o,i),o=o.sibling}function ey(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kr(o,i),fi(i),h&4){try{pl(3,i,i.return),nc(3,i)}catch(Pe){Ut(i,i.return,Pe)}try{pl(5,i,i.return)}catch(Pe){Ut(i,i.return,Pe)}}break;case 1:Kr(o,i),fi(i),h&512&&l!==null&&la(l,l.return);break;case 5:if(Kr(o,i),fi(i),h&512&&l!==null&&la(l,l.return),i.flags&32){var p=i.stateNode;try{At(p,"")}catch(Pe){Ut(i,i.return,Pe)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,S=l!==null?l.memoizedProps:y,k=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&ti(p,y),ri(k,S);var G=ri(k,y);for(S=0;S<V.length;S+=2){var ue=V[S],fe=V[S+1];ue==="style"?Ai(p,fe):ue==="dangerouslySetInnerHTML"?xr(p,fe):ue==="children"?At(p,fe):X(p,ue,fe,G)}switch(k){case"input":ni(p,y);break;case"textarea":hn(p,y);break;case"select":var le=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?Wt(p,!!y.multiple,Ee,!1):le!==!!y.multiple&&(y.defaultValue!=null?Wt(p,!!y.multiple,y.defaultValue,!0):Wt(p,!!y.multiple,y.multiple?[]:"",!1))}p[rl]=y}catch(Pe){Ut(i,i.return,Pe)}}break;case 6:if(Kr(o,i),fi(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(Pe){Ut(i,i.return,Pe)}}break;case 3:if(Kr(o,i),fi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{zr(o.containerInfo)}catch(Pe){Ut(i,i.return,Pe)}break;case 4:Kr(o,i),fi(i);break;case 13:Kr(o,i),fi(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Zd=mt())),h&4&&Zg(i);break;case 22:if(ue=l!==null&&l.memoizedState!==null,i.mode&1?(An=(G=An)||ue,Kr(o,i),An=G):Kr(o,i),fi(i),h&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ue&&i.mode&1)for(Ie=i,ue=i.child;ue!==null;){for(fe=Ie=ue;Ie!==null;){switch(le=Ie,Ee=le.child,le.tag){case 0:case 11:case 14:case 15:pl(4,le,le.return);break;case 1:la(le,le.return);var Ce=le.stateNode;if(typeof Ce.componentWillUnmount=="function"){h=le,l=le.return;try{o=h,Ce.props=o.memoizedProps,Ce.state=o.memoizedState,Ce.componentWillUnmount()}catch(Pe){Ut(h,l,Pe)}}break;case 5:la(le,le.return);break;case 22:if(le.memoizedState!==null){ry(fe);continue}}Ee!==null?(Ee.return=le,Ie=Ee):ry(fe)}ue=ue.sibling}e:for(ue=null,fe=i;;){if(fe.tag===5){if(ue===null){ue=fe;try{p=fe.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=fe.stateNode,V=fe.memoizedProps.style,S=V!=null&&V.hasOwnProperty("display")?V.display:null,k.style.display=br("display",S))}catch(Pe){Ut(i,i.return,Pe)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=G?"":fe.memoizedProps}catch(Pe){Ut(i,i.return,Pe)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===i)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===i)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===i)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Kr(o,i),fi(i),h&4&&Zg(i);break;case 21:break;default:Kr(o,i),fi(i)}}function fi(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Yg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(At(p,""),h.flags&=-33);var y=Xg(i);Yd(i,y,p);break;case 3:case 4:var S=h.stateNode.containerInfo,k=Xg(i);Qd(i,k,S);break;default:throw Error(t(161))}}catch(V){Ut(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function DT(i,o,l){Ie=i,ty(i)}function ty(i,o,l){for(var h=(i.mode&1)!==0;Ie!==null;){var p=Ie,y=p.child;if(p.tag===22&&h){var S=p.memoizedState!==null||tc;if(!S){var k=p.alternate,V=k!==null&&k.memoizedState!==null||An;k=tc;var G=An;if(tc=S,(An=V)&&!G)for(Ie=p;Ie!==null;)S=Ie,V=S.child,S.tag===22&&S.memoizedState!==null?iy(p):V!==null?(V.return=S,Ie=V):iy(p);for(;y!==null;)Ie=y,ty(y),y=y.sibling;Ie=p,tc=k,An=G}ny(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,Ie=y):ny(i)}}function ny(i){for(;Ie!==null;){var o=Ie;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:An||nc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!An)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:qr(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&rg(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}rg(o,S,l)}break;case 5:var k=o.stateNode;if(l===null&&o.flags&4){l=k;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ue=G.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&zr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||o.flags&512&&Gd(o)}catch(le){Ut(o,o.return,le)}}if(o===i){Ie=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ie=l;break}Ie=o.return}}function ry(i){for(;Ie!==null;){var o=Ie;if(o===i){Ie=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ie=l;break}Ie=o.return}}function iy(i){for(;Ie!==null;){var o=Ie;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{nc(4,o)}catch(V){Ut(o,l,V)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(V){Ut(o,p,V)}}var y=o.return;try{Gd(o)}catch(V){Ut(o,y,V)}break;case 5:var S=o.return;try{Gd(o)}catch(V){Ut(o,S,V)}}}catch(V){Ut(o,o.return,V)}if(o===i){Ie=null;break}var k=o.sibling;if(k!==null){k.return=o.return,Ie=k;break}Ie=o.return}}var NT=Math.ceil,rc=te.ReactCurrentDispatcher,Xd=te.ReactCurrentOwner,Tr=te.ReactCurrentBatchConfig,ut=0,on=null,$t=null,vn=0,lr=0,ua=fs(0),Qt=0,ml=null,oo=0,ic=0,Jd=0,gl=null,Qn=null,Zd=0,ca=1/0,$i=null,sc=!1,ef=null,_s=null,oc=!1,ws=null,ac=0,yl=0,tf=null,lc=-1,uc=0;function jn(){return ut&6?mt():lc!==-1?lc:lc=mt()}function Es(i){return i.mode&1?ut&2&&vn!==0?vn&-vn:gT.transition!==null?(uc===0&&(uc=Gs()),uc):(i=rt,i!==0||(i=window.event,i=i===void 0?16:qa(i.type)),i):1}function Gr(i,o,l,h){if(50<yl)throw yl=0,tf=null,Error(t(185));ss(i,l,h),(!(ut&2)||i!==on)&&(i===on&&(!(ut&2)&&(ic|=l),Qt===4&&Ts(i,vn)),Yn(i,h),l===1&&ut===0&&!(o.mode&1)&&(ca=mt()+500,Mu&&ms()))}function Yn(i,o){var l=i.callbackNode;bi(i,o);var h=Ks(i,i===on?vn:0);if(h===0)l!==null&&ki(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&ki(l),o===1)i.tag===0?mT(oy.bind(null,i)):qm(oy.bind(null,i)),hT(function(){!(ut&6)&&ms()}),l=null;else{switch(as(h)){case 1:l=st;break;case 4:l=Tt;break;case 16:l=pn;break;case 536870912:l=St;break;default:l=pn}l=py(l,sy.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function sy(i,o){if(lc=-1,uc=0,ut&6)throw Error(t(327));var l=i.callbackNode;if(ha()&&i.callbackNode!==l)return null;var h=Ks(i,i===on?vn:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=cc(i,h);else{o=h;var p=ut;ut|=2;var y=ly();(on!==i||vn!==o)&&($i=null,ca=mt()+500,lo(i,o));do try{VT();break}catch(k){ay(i,k)}while(!0);_d(),rc.current=y,ut=p,$t!==null?o=0:(on=null,vn=0,o=Qt)}if(o!==0){if(o===2&&(p=rr(i),p!==0&&(h=p,o=nf(i,p))),o===1)throw l=ml,lo(i,0),Ts(i,h),Yn(i,mt()),l;if(o===6)Ts(i,h);else{if(p=i.current.alternate,!(h&30)&&!LT(p)&&(o=cc(i,h),o===2&&(y=rr(i),y!==0&&(h=y,o=nf(i,y))),o===1))throw l=ml,lo(i,0),Ts(i,h),Yn(i,mt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:uo(i,Qn,$i);break;case 3:if(Ts(i,h),(h&130023424)===h&&(o=Zd+500-mt(),10<o)){if(Ks(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){jn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=ld(uo.bind(null,i,Qn,$i),o);break}uo(i,Qn,$i);break;case 4:if(Ts(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var S=31-Mn(h);y=1<<S,S=o[S],S>p&&(p=S),h&=~y}if(h=p,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*NT(h/1960))-h,10<h){i.timeoutHandle=ld(uo.bind(null,i,Qn,$i),h);break}uo(i,Qn,$i);break;case 5:uo(i,Qn,$i);break;default:throw Error(t(329))}}}return Yn(i,mt()),i.callbackNode===l?sy.bind(null,i):null}function nf(i,o){var l=gl;return i.current.memoizedState.isDehydrated&&(lo(i,o).flags|=256),i=cc(i,o),i!==2&&(o=Qn,Qn=l,o!==null&&rf(o)),i}function rf(i){Qn===null?Qn=i:Qn.push.apply(Qn,i)}function LT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!$r(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ts(i,o){for(o&=~Jd,o&=~ic,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Mn(o),h=1<<l;i[l]=-1,o&=~h}}function oy(i){if(ut&6)throw Error(t(327));ha();var o=Ks(i,0);if(!(o&1))return Yn(i,mt()),null;var l=cc(i,o);if(i.tag!==0&&l===2){var h=rr(i);h!==0&&(o=h,l=nf(i,h))}if(l===1)throw l=ml,lo(i,0),Ts(i,o),Yn(i,mt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,uo(i,Qn,$i),Yn(i,mt()),null}function sf(i,o){var l=ut;ut|=1;try{return i(o)}finally{ut=l,ut===0&&(ca=mt()+500,Mu&&ms())}}function ao(i){ws!==null&&ws.tag===0&&!(ut&6)&&ha();var o=ut;ut|=1;var l=Tr.transition,h=rt;try{if(Tr.transition=null,rt=1,i)return i()}finally{rt=h,Tr.transition=l,ut=o,!(ut&6)&&ms()}}function of(){lr=ua.current,Rt(ua)}function lo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,cT(l)),$t!==null)for(l=$t.return;l!==null;){var h=l;switch(pd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:oa(),Rt(Wn),Rt(Rn),Pd();break;case 5:Rd(h);break;case 4:oa();break;case 13:Rt(Dt);break;case 19:Rt(Dt);break;case 10:wd(h.type._context);break;case 22:case 23:of()}l=l.return}if(on=i,$t=i=Ss(i.current,null),vn=lr=o,Qt=0,ml=null,Jd=ic=oo=0,Qn=gl=null,ro!==null){for(o=0;o<ro.length;o++)if(l=ro[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=p,h.next=S}l.pending=h}ro=null}return i}function ay(i,o){do{var l=$t;try{if(_d(),Ku.current=Xu,Gu){for(var h=Nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Gu=!1}if(so=0,sn=Gt=Nt=null,ul=!1,cl=0,Xd.current=null,l===null||l.return===null){Qt=1,ml=o,$t=null;break}e:{var y=i,S=l.return,k=l,V=o;if(o=vn,k.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var G=V,ue=k,fe=ue.tag;if(!(ue.mode&1)&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Ee=Dg(S);if(Ee!==null){Ee.flags&=-257,Ng(Ee,S,k,y,o),Ee.mode&1&&bg(y,G,o),o=Ee,V=G;var Ce=o.updateQueue;if(Ce===null){var Pe=new Set;Pe.add(V),o.updateQueue=Pe}else Ce.add(V);break e}else{if(!(o&1)){bg(y,G,o),af();break e}V=Error(t(426))}}else if(xt&&k.mode&1){var jt=Dg(S);if(jt!==null){!(jt.flags&65536)&&(jt.flags|=256),Ng(jt,S,k,y,o),yd(aa(V,k));break e}}y=V=aa(V,k),Qt!==4&&(Qt=2),gl===null?gl=[y]:gl.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=kg(y,V,o);ng(y,q);break e;case 1:k=V;var F=y.type,K=y.stateNode;if(!(y.flags&128)&&(typeof F.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_s===null||!_s.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var pe=xg(y,k,o);ng(y,pe);break e}}y=y.return}while(y!==null)}cy(l)}catch(Ae){o=Ae,$t===l&&l!==null&&($t=l=l.return);continue}break}while(!0)}function ly(){var i=rc.current;return rc.current=Xu,i===null?Xu:i}function af(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),on===null||!(oo&268435455)&&!(ic&268435455)||Ts(on,vn)}function cc(i,o){var l=ut;ut|=2;var h=ly();(on!==i||vn!==o)&&($i=null,lo(i,o));do try{OT();break}catch(p){ay(i,p)}while(!0);if(_d(),ut=l,rc.current=h,$t!==null)throw Error(t(261));return on=null,vn=0,Qt}function OT(){for(;$t!==null;)uy($t)}function VT(){for(;$t!==null&&!ii();)uy($t)}function uy(i){var o=fy(i.alternate,i,lr);i.memoizedProps=i.pendingProps,o===null?cy(i):$t=o,Xd.current=null}function cy(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=kT(l,o),l!==null){l.flags&=32767,$t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Qt=6,$t=null;return}}else if(l=AT(l,o,lr),l!==null){$t=l;return}if(o=o.sibling,o!==null){$t=o;return}$t=o=i}while(o!==null);Qt===0&&(Qt=5)}function uo(i,o,l){var h=rt,p=Tr.transition;try{Tr.transition=null,rt=1,MT(i,o,l,h)}finally{Tr.transition=p,rt=h}return null}function MT(i,o,l,h){do ha();while(ws!==null);if(ut&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(wt(i,y),i===on&&($t=on=null,vn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||oc||(oc=!0,py(pn,function(){return ha(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Tr.transition,Tr.transition=null;var S=rt;rt=1;var k=ut;ut|=4,Xd.current=null,bT(i,l),ey(l,i),rT(od),us=!!sd,od=sd=null,i.current=l,DT(l),Vr(),ut=k,rt=S,Tr.transition=y}else i.current=l;if(oc&&(oc=!1,ws=i,ac=p),y=i.pendingLanes,y===0&&(_s=null),Do(l.stateNode),Yn(i,mt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(sc)throw sc=!1,i=ef,ef=null,i;return ac&1&&i.tag!==0&&ha(),y=i.pendingLanes,y&1?i===tf?yl++:(yl=0,tf=i):yl=0,ms(),null}function ha(){if(ws!==null){var i=as(ac),o=Tr.transition,l=rt;try{if(Tr.transition=null,rt=16>i?16:i,ws===null)var h=!1;else{if(i=ws,ws=null,ac=0,ut&6)throw Error(t(331));var p=ut;for(ut|=4,Ie=i.current;Ie!==null;){var y=Ie,S=y.child;if(Ie.flags&16){var k=y.deletions;if(k!==null){for(var V=0;V<k.length;V++){var G=k[V];for(Ie=G;Ie!==null;){var ue=Ie;switch(ue.tag){case 0:case 11:case 15:pl(8,ue,y)}var fe=ue.child;if(fe!==null)fe.return=ue,Ie=fe;else for(;Ie!==null;){ue=Ie;var le=ue.sibling,Ee=ue.return;if(Qg(ue),ue===G){Ie=null;break}if(le!==null){le.return=Ee,Ie=le;break}Ie=Ee}}}var Ce=y.alternate;if(Ce!==null){var Pe=Ce.child;if(Pe!==null){Ce.child=null;do{var jt=Pe.sibling;Pe.sibling=null,Pe=jt}while(Pe!==null)}}Ie=y}}if(y.subtreeFlags&2064&&S!==null)S.return=y,Ie=S;else e:for(;Ie!==null;){if(y=Ie,y.flags&2048)switch(y.tag){case 0:case 11:case 15:pl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Ie=q;break e}Ie=y.return}}var F=i.current;for(Ie=F;Ie!==null;){S=Ie;var K=S.child;if(S.subtreeFlags&2064&&K!==null)K.return=S,Ie=K;else e:for(S=F;Ie!==null;){if(k=Ie,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:nc(9,k)}}catch(Ae){Ut(k,k.return,Ae)}if(k===S){Ie=null;break e}var pe=k.sibling;if(pe!==null){pe.return=k.return,Ie=pe;break e}Ie=k.return}}if(ut=p,ms(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot($n,i)}catch{}h=!0}return h}finally{rt=l,Tr.transition=o}}return!1}function hy(i,o,l){o=aa(l,o),o=kg(i,o,1),i=ys(i,o,1),o=jn(),i!==null&&(ss(i,1,o),Yn(i,o))}function Ut(i,o,l){if(i.tag===3)hy(i,i,l);else for(;o!==null;){if(o.tag===3){hy(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_s===null||!_s.has(h))){i=aa(l,i),i=xg(o,i,1),o=ys(o,i,1),i=jn(),o!==null&&(ss(o,1,i),Yn(o,i));break}}o=o.return}}function UT(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=jn(),i.pingedLanes|=i.suspendedLanes&l,on===i&&(vn&l)===l&&(Qt===4||Qt===3&&(vn&130023424)===vn&&500>mt()-Zd?lo(i,0):Jd|=l),Yn(i,o)}function dy(i,o){o===0&&(i.mode&1?(o=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):o=1);var l=jn();i=ji(i,o),i!==null&&(ss(i,o,l),Yn(i,l))}function FT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),dy(i,l)}function jT(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),dy(i,l)}var fy;fy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wn.current)Gn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Gn=!1,PT(i,o,l);Gn=!!(i.flags&131072)}else Gn=!1,xt&&o.flags&1048576&&Wm(o,Fu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ec(i,o),i=o.pendingProps;var p=Zo(o,Rn.current);sa(o,l),p=xd(null,o,h,i,p,l);var y=bd();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Kn(h)?(y=!0,Vu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Sd(o),p.updater=Ju,o.stateNode=p,p._reactInternals=o,Md(o,h,i,l),o=zd(null,o,h,!0,y,l)):(o.tag=0,xt&&y&&fd(o),Fn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(ec(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=BT(h),i=qr(h,i),p){case 0:o=jd(null,o,h,i,l);break e;case 1:o=Fg(null,o,h,i,l);break e;case 11:o=Lg(null,o,h,i,l);break e;case 14:o=Og(null,o,h,qr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:qr(h,p),jd(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:qr(h,p),Fg(i,o,h,p,l);case 3:e:{if(jg(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,tg(i,o),qu(o,h,null,l);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=aa(Error(t(423)),o),o=zg(i,o,h,l,p);break e}else if(h!==p){p=aa(Error(t(424)),o),o=zg(i,o,h,l,p);break e}else for(ar=ds(o.stateNode.containerInfo.firstChild),or=o,xt=!0,Hr=null,l=Zm(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),h===p){o=Bi(i,o,l);break e}Fn(i,o,h,l)}o=o.child}return o;case 5:return ig(o),i===null&&gd(o),h=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,S=p.children,ad(h,p)?S=null:y!==null&&ad(h,y)&&(o.flags|=32),Ug(i,o),Fn(i,o,S,l),o.child;case 6:return i===null&&gd(o),null;case 13:return Bg(i,o,l);case 4:return Id(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ra(o,null,h,l):Fn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:qr(h,p),Lg(i,o,h,p,l);case 7:return Fn(i,o,o.pendingProps,l),o.child;case 8:return Fn(i,o,o.pendingProps.children,l),o.child;case 12:return Fn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,S=p.value,Et(Bu,h._currentValue),h._currentValue=S,y!==null)if($r(y.value,S)){if(y.children===p.children&&!Wn.current){o=Bi(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var k=y.dependencies;if(k!==null){S=y.child;for(var V=k.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=zi(-1,l&-l),V.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ue=G.pending;ue===null?V.next=V:(V.next=ue.next,ue.next=V),G.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Ed(y.return,l,o),k.lanes|=l;break}V=V.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,k=S.alternate,k!==null&&(k.lanes|=l),Ed(S,l,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Fn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,sa(o,l),p=wr(p),h=h(p),o.flags|=1,Fn(i,o,h,l),o.child;case 14:return h=o.type,p=qr(h,o.pendingProps),p=qr(h.type,p),Og(i,o,h,p,l);case 15:return Vg(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:qr(h,p),ec(i,o),o.tag=1,Kn(h)?(i=!0,Vu(o)):i=!1,sa(o,l),Pg(o,h,p),Md(o,h,p,l),zd(null,o,h,!0,i,l);case 19:return Hg(i,o,l);case 22:return Mg(i,o,l)}throw Error(t(156,o.tag))};function py(i,o){return fn(i,o)}function zT(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,o,l,h){return new zT(i,o,l,h)}function lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function BT(i){if(typeof i=="function")return lf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===ze)return 14}return 2}function Ss(i,o){var l=i.alternate;return l===null?(l=Sr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function hc(i,o,l,h,p,y){var S=2;if(h=i,typeof i=="function")lf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case A:return co(l.children,p,y,o);case R:S=8,p|=8;break;case P:return i=Sr(12,l,o,p|2),i.elementType=P,i.lanes=y,i;case x:return i=Sr(13,l,o,p),i.elementType=x,i.lanes=y,i;case Qe:return i=Sr(19,l,o,p),i.elementType=Qe,i.lanes=y,i;case se:return dc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:S=10;break e;case L:S=9;break e;case z:S=11;break e;case ze:S=14;break e;case de:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Sr(S,l,o,p),o.elementType=i,o.type=h,o.lanes=y,o}function co(i,o,l,h){return i=Sr(7,i,h,o),i.lanes=l,i}function dc(i,o,l,h){return i=Sr(22,i,h,o),i.elementType=se,i.lanes=l,i.stateNode={isHidden:!1},i}function uf(i,o,l){return i=Sr(6,i,null,o),i.lanes=l,i}function cf(i,o,l){return o=Sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $T(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function hf(i,o,l,h,p,y,S,k,V){return i=new $T(i,o,l,k,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Sr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(y),i}function HT(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function my(i){if(!i)return ps;i=i._reactInternals;e:{if(nt(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Kn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Kn(l))return $m(i,l,o)}return o}function gy(i,o,l,h,p,y,S,k,V){return i=hf(l,h,!0,i,p,y,S,k,V),i.context=my(null),l=i.current,h=jn(),p=Es(l),y=zi(h,p),y.callback=o??null,ys(l,y,p),i.current.lanes=p,ss(i,p,h),Yn(i,h),i}function fc(i,o,l,h){var p=o.current,y=jn(),S=Es(p);return l=my(l),o.context===null?o.context=l:o.pendingContext=l,o=zi(y,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=ys(p,o,S),i!==null&&(Gr(i,p,S,y),Hu(i,p,S)),S}function pc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function df(i,o){yy(i,o),(i=i.alternate)&&yy(i,o)}function qT(){return null}var vy=typeof reportError=="function"?reportError:function(i){console.error(i)};function ff(i){this._internalRoot=i}mc.prototype.render=ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));fc(i,o,null,null)},mc.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ao(function(){fc(null,i,null,null)}),o[Vi]=null}};function mc(i){this._internalRoot=i}mc.prototype.unstable_scheduleHydration=function(i){if(i){var o=mu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<oi.length&&o!==0&&o<oi[l].priority;l++);oi.splice(l,0,i),l===0&&vu(i)}};function pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function gc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _y(){}function WT(i,o,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var G=pc(S);y.call(G)}}var S=gy(o,h,i,0,null,!1,!1,"",_y);return i._reactRootContainer=S,i[Vi]=S.current,tl(i.nodeType===8?i.parentNode:i),ao(),S}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var G=pc(V);k.call(G)}}var V=hf(i,0,!1,null,null,!1,!1,"",_y);return i._reactRootContainer=V,i[Vi]=V.current,tl(i.nodeType===8?i.parentNode:i),ao(function(){fc(o,V,l,h)}),V}function yc(i,o,l,h,p){var y=l._reactRootContainer;if(y){var S=y;if(typeof p=="function"){var k=p;p=function(){var V=pc(S);k.call(V)}}fc(o,S,i,p)}else S=WT(l,o,i,p,h);return pc(S)}fu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=rs(o.pendingLanes);l!==0&&(os(o,l|1),Yn(o,mt()),!(ut&6)&&(ca=mt()+500,ms()))}break;case 13:ao(function(){var h=ji(i,1);if(h!==null){var p=jn();Gr(h,i,1,p)}}),df(i,1)}},Oo=function(i){if(i.tag===13){var o=ji(i,134217728);if(o!==null){var l=jn();Gr(o,i,134217728,l)}df(i,134217728)}},pu=function(i){if(i.tag===13){var o=Es(i),l=ji(i,o);if(l!==null){var h=jn();Gr(l,i,o,h)}df(i,o)}},mu=function(){return rt},gu=function(i,o){var l=rt;try{return rt=i,o()}finally{rt=l}},Nr=function(i,o,l){switch(o){case"input":if(ni(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=Lu(h);if(!p)throw Error(t(90));ei(h),ni(h,p)}}}break;case"textarea":hn(i,l);break;case"select":o=l.value,o!=null&&Wt(i,!!l.multiple,o,!1)}},Bn=sf,O=ao;var KT={usingClientEntryPoint:!1,Events:[il,Xo,Lu,_t,nn,sf]},vl={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GT={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Or(i),i===null?null:i.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{$n=vc.inject(GT),In=vc}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT,Xn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(o))throw Error(t(200));return HT(i,o,null,l)},Xn.createRoot=function(i,o){if(!pf(i))throw Error(t(299));var l=!1,h="",p=vy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=hf(i,1,!1,null,null,l,!1,h,p),i[Vi]=o.current,tl(i.nodeType===8?i.parentNode:i),new ff(o)},Xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Or(o),i=i===null?null:i.stateNode,i},Xn.flushSync=function(i){return ao(i)},Xn.hydrate=function(i,o,l){if(!gc(o))throw Error(t(200));return yc(null,i,o,!0,l)},Xn.hydrateRoot=function(i,o,l){if(!pf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",S=vy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=gy(o,null,i,1,l??null,p,!1,y,S),i[Vi]=o.current,tl(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new mc(o)},Xn.render=function(i,o,l){if(!gc(o))throw Error(t(200));return yc(null,i,o,!1,l)},Xn.unmountComponentAtNode=function(i){if(!gc(i))throw Error(t(40));return i._reactRootContainer?(ao(function(){yc(null,null,i,!1,function(){i._reactRootContainer=null,i[Vi]=null})}),!0):!1},Xn.unstable_batchedUpdates=sf,Xn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!gc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return yc(i,o,l,!1,h)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var Py;function O_(){if(Py)return yf.exports;Py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yf.exports=nS(),yf.exports}var Ay;function rS(){if(Ay)return _c;Ay=1;var n=O_();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var iS=rS(),wl={},ky;function sS(){if(ky)return wl;ky=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.parse=u,wl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,w){const C=new a,N=E.length;if(N<2)return C;const b=(w==null?void 0:w.decode)||v;let j=0;do{const Z=E.indexOf("=",j);if(Z===-1)break;const X=E.indexOf(";",j),te=X===-1?N:X;if(Z>te){j=E.lastIndexOf(";",Z-1)+1;continue}const M=d(E,j,Z),oe=f(E,Z,M),A=E.slice(M,oe);if(C[A]===void 0){let R=d(E,Z+1,te),P=f(E,te,R);const D=b(E.slice(R,P));C[A]=D}j=te+1}while(j<N);return C}function d(E,w,C){do{const N=E.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<C);return C}function f(E,w,C){for(;w>C;){const N=E.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return C}function m(E,w,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const b=N(w);if(!e.test(b))throw new TypeError(`argument val is invalid: ${w}`);let j=E+"="+b;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return s.call(E)==="[object Date]"}return wl}sS();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xy="popstate";function oS(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return jl("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ms(s)}return lS(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function by(n,e){return{usr:n.state,key:n.key,idx:e}}function jl(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:t,key:e&&e.key||r||aS()}}function Ms({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function lS(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function T(){d="POP";let b=v(),j=b==null?null:b-m;m=b,f&&f({action:d,location:N.location,delta:j})}function E(b,j){d="PUSH";let Z=jl(N.location,b,j);m=v()+1;let X=by(Z,m),te=N.createHref(Z);try{u.pushState(X,"",te)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(te)}a&&f&&f({action:d,location:N.location,delta:1})}function w(b,j){d="REPLACE";let Z=jl(N.location,b,j);m=v();let X=by(Z,m),te=N.createHref(Z);u.replaceState(X,"",te),a&&f&&f({action:d,location:N.location,delta:0})}function C(b){let j=s.location.origin!=="null"?s.location.origin:s.location.href,Z=typeof b=="string"?b:Ms(b);return Z=Z.replace(/ $/,"%20"),et(j,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,j)}let N={get action(){return d},get location(){return n(s,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(xy,T),f=b,()=>{s.removeEventListener(xy,T),f=null}},createHref(b){return e(s,b)},createURL:C,encodeLocation(b){let j=C(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:w,go(b){return u.go(b)}};return N}var uS=new Set(["lazy","caseSensitive","path","id","index","children"]);function cS(n){return n.index===!0}function qc(n,e,t=[],r={}){return n.map((s,a)=>{let u=[...t,String(a)],d=typeof s.id=="string"?s.id:u.join("-");if(et(s.index!==!0||!s.children,"Cannot specify children on an index route"),et(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),cS(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=qc(s.children,e,u,r)),f}})}function Ps(n,e,t="/"){return Dc(n,e,t,!1)}function Dc(n,e,t,r){let s=typeof e=="string"?Hs(e):e,a=Xr(s.pathname||"/",t);if(a==null)return null;let u=V_(n);dS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=SS(a);d=ES(u[f],m,r)}return d}function hS(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function V_(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=_i([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),V_(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:_S(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of M_(a.path))s(a,u,f)}),e}function M_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=M_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function dS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fS=/^:[\w-]+$/,pS=3,mS=2,gS=1,yS=10,vS=-2,Dy=n=>n==="*";function _S(n,e){let t=n.split("/"),r=t.length;return t.some(Dy)&&(r+=vS),e&&(r+=mS),t.filter(s=>!Dy(s)).reduce((s,a)=>s+(fS.test(a)?pS:a===""?gS:yS),r)}function wS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function ES(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",T=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!T&&m&&t&&!r[r.length-1].route.index&&(T=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),u.push({params:s,pathname:_i([a,T.pathname]),pathnameBase:CS(_i([a,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(a=_i([a,T.pathnameBase]))}return u}function Wc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=TS(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:T},E)=>{if(v==="*"){let C=d[E]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[E];return T&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function TS(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function IS(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Hs(n):n;return{pathname:t?t.startsWith("/")?t:RS(t,e):e,search:PS(r),hash:AS(s)}}function RS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yh(n){let e=U_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vh(n,e,t,r=!1){let s;typeof n=="string"?s=Hs(n):(s={...n},et(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),T-=1;s.pathname=E.join("/")}d=T>=0?e[T]:"/"}let f=IS(s,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),CS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kc=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _h(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var F_=["POST","PUT","PATCH","DELETE"],kS=new Set(F_),xS=["GET",...F_],bS=new Set(xS),DS=new Set([301,302,303,307,308]),NS=new Set([307,308]),Ef={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},El={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),j_="remix-router-transitions",z_=Symbol("ResetLoaderData");function VS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||OS,s={},a=qc(n.routes,r,void 0,s),u,d=n.basename||"/",f=n.dataStrategy||zS,m=n.patchRoutesOnNavigation,v={...n.future},T=null,E=new Set,w=null,C=null,N=null,b=n.hydrationData!=null,j=Ps(a,n.history.location,d),Z=null;if(j==null&&!m){let O=Ir(404,{pathname:n.history.location.pathname}),{matches:B,route:Y}=$y(a);j=B,Z={[Y.id]:O}}j&&!n.hydrationData&&Je(j,a,n.history.location.pathname).active&&(j=null);let X;if(j)if(j.some(O=>O.route.lazy))X=!1;else if(!j.some(O=>O.route.loader))X=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let Y=j.findIndex(ne=>B[ne.route.id]!==void 0);X=j.slice(0,Y+1).every(ne=>!jf(ne.route,O,B))}else X=j.every(Y=>!jf(Y.route,O,B))}else{X=!1,j=[];let O=Je(null,a,n.history.location.pathname);O.active&&O.matches&&(j=O.matches)}let te,M={historyAction:n.history.action,location:n.history.location,matches:j,initialized:X,navigation:Ef,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},oe="POP",A=!1,R,P=!1,D=new Map,L=null,z=!1,x=!1,Qe=new Set,ze=new Map,de=0,se=-1,Q=new Map,ee=new Set,re=new Map,U=new Map,W=new Set,ae=new Map,ye,ve=null;function He(){if(T=n.history.listen(({action:O,location:B,delta:Y})=>{if(ye){ye(),ye=void 0;return}un(ae.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=ri({currentLocation:M.location,nextLocation:B,historyAction:O});if(ne&&Y!=null){let _e=new Promise(Se=>{ye=Se});n.history.go(Y*-1),nr(ne,{state:"blocked",location:B,proceed(){nr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),_e.then(()=>n.history.go(Y))},reset(){let Se=new Map(M.blockers);Se.set(ne,El),Me({blockers:Se})}});return}return qt(O,B)}),t){JS(e,D);let O=()=>ZS(e,D);e.addEventListener("pagehide",O),L=()=>e.removeEventListener("pagehide",O)}return M.initialized||qt("POP",M.location,{initialHydration:!0}),te}function be(){T&&T(),L&&L(),E.clear(),R&&R.abort(),M.fetchers.forEach((O,B)=>Ln(B)),M.blockers.forEach((O,B)=>Dr(B))}function Xe(O){return E.add(O),()=>E.delete(O)}function Me(O,B={}){M={...M,...O};let Y=[],ne=[];M.fetchers.forEach((_e,Se)=>{_e.state==="idle"&&(W.has(Se)?Y.push(Se):ne.push(Se))}),[...E].forEach(_e=>_e(M,{deletedFetchers:Y,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Y.forEach(_e=>Ln(_e)),ne.forEach(_e=>M.fetchers.delete(_e))}function ht(O,B,{flushSync:Y}={}){var me,Ve;let ne=M.actionData!=null&&M.navigation.formMethod!=null&&Qr(M.navigation.formMethod)&&M.navigation.state==="loading"&&((me=O.state)==null?void 0:me._isRedirect)!==!0,_e;B.actionData?Object.keys(B.actionData).length>0?_e=B.actionData:_e=null:ne?_e=M.actionData:_e=null;let Se=B.loaderData?zy(M.loaderData,B.loaderData,B.matches||[],B.errors):M.loaderData,De=M.blockers;De.size>0&&(De=new Map(De),De.forEach((Ke,ft)=>De.set(ft,El)));let we=A===!0||M.navigation.formMethod!=null&&Qr(M.navigation.formMethod)&&((Ve=O.state)==null?void 0:Ve._isRedirect)!==!0;u&&(a=u,u=void 0),z||oe==="POP"||(oe==="PUSH"?n.history.push(O,O.state):oe==="REPLACE"&&n.history.replace(O,O.state));let Re;if(oe==="POP"){let Ke=D.get(M.location.pathname);Ke&&Ke.has(O.pathname)?Re={currentLocation:M.location,nextLocation:O}:D.has(O.pathname)&&(Re={currentLocation:O,nextLocation:M.location})}else if(P){let Ke=D.get(M.location.pathname);Ke?Ke.add(O.pathname):(Ke=new Set([O.pathname]),D.set(M.location.pathname,Ke)),Re={currentLocation:M.location,nextLocation:O}}Me({...B,actionData:_e,loaderData:Se,historyAction:oe,location:O,initialized:!0,navigation:Ef,revalidation:"idle",restoreScrollPosition:We(O,B.matches||M.matches),preventScrollReset:we,blockers:De},{viewTransitionOpts:Re,flushSync:Y===!0}),oe="POP",A=!1,P=!1,z=!1,x=!1,ve==null||ve.resolve(),ve=null}async function en(O,B){if(typeof O=="number"){n.history.go(O);return}let Y=Ff(M.location,M.matches,d,O,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ne,submission:_e,error:Se}=Ny(!1,Y,B),De=M.location,we=jl(M.location,ne,B&&B.state);we={...we,...n.history.encodeLocation(we)};let Re=B&&B.replace!=null?B.replace:void 0,me="PUSH";Re===!0?me="REPLACE":Re===!1||_e!=null&&Qr(_e.formMethod)&&_e.formAction===M.location.pathname+M.location.search&&(me="REPLACE");let Ve=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Ke=(B&&B.flushSync)===!0,ft=ri({currentLocation:De,nextLocation:we,historyAction:me});if(ft){nr(ft,{state:"blocked",location:we,proceed(){nr(ft,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),en(O,B)},reset(){let Mt=new Map(M.blockers);Mt.set(ft,El),Me({blockers:Mt})}});return}await qt(me,we,{submission:_e,pendingError:Se,preventScrollReset:Ve,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Ke})}function ei(){ve||(ve=e1()),hn(),Me({revalidation:"loading"});let O=ve.promise;return M.navigation.state==="submitting"?O:M.navigation.state==="idle"?(qt(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),O):(qt(oe||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:P===!0}),O)}async function qt(O,B,Y){R&&R.abort(),R=null,oe=O,z=(Y&&Y.startUninterruptedRevalidation)===!0,ke(M.location,M.matches),A=(Y&&Y.preventScrollReset)===!0,P=(Y&&Y.enableViewTransition)===!0;let ne=u||a,_e=Y&&Y.overrideNavigation,Se=Ps(ne,B,d),De=(Y&&Y.flushSync)===!0,we=Je(Se,ne,B.pathname);if(we.active&&we.matches&&(Se=we.matches),!Se){let{error:nt,notFoundMatches:lt,route:pt}=Vn(B.pathname);ht(B,{matches:lt,loaderData:{},errors:{[pt.id]:nt}},{flushSync:De});return}if(M.initialized&&!x&&KS(M.location,B)&&!(Y&&Y.submission&&Qr(Y.submission.formMethod))){ht(B,{matches:Se},{flushSync:De});return}R=new AbortController;let Re=da(n.history,B,R.signal,Y&&Y.submission),me;if(Y&&Y.pendingError)me=[fo(Se).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Qr(Y.submission.formMethod)){let nt=await Pr(Re,B,Y.submission,Se,we.active,{replace:Y.replace,flushSync:De});if(nt.shortCircuited)return;if(nt.pendingActionResult){let[lt,pt]=nt.pendingActionResult;if(dr(pt)&&_h(pt.error)&&pt.error.status===404){R=null,ht(B,{matches:nt.matches,loaderData:{},errors:{[lt]:pt.error}});return}}Se=nt.matches||Se,me=nt.pendingActionResult,_e=Tf(B,Y.submission),De=!1,we.active=!1,Re=da(n.history,Re.url,Re.signal)}let{shortCircuited:Ve,matches:Ke,loaderData:ft,errors:Mt}=await mr(Re,B,Se,we.active,_e,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,De,me);Ve||(R=null,ht(B,{matches:Ke||Se,...By(me),loaderData:ft,errors:Mt}))}async function Pr(O,B,Y,ne,_e,Se={}){hn();let De=YS(B,Y);if(Me({navigation:De},{flushSync:Se.flushSync===!0}),_e){let me=await _t(ne,B.pathname,O.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let Ve=fo(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[Ve,{type:"error",error:me.error}]}}else if(me.matches)ne=me.matches;else{let{notFoundMatches:Ve,error:Ke,route:ft}=Vn(B.pathname);return{matches:Ve,pendingActionResult:[ft.id,{type:"error",error:Ke}]}}}let we,Re=Cl(ne,B);if(!Re.route.action&&!Re.route.lazy)we={type:"error",error:Ir(405,{method:O.method,pathname:B.pathname,routeId:Re.route.id})};else if(we=(await er("action",M,O,[Re],ne,null))[Re.route.id],O.signal.aborted)return{shortCircuited:!0};if(mo(we)){let me;return Se&&Se.replace!=null?me=Se.replace:me=Uy(we.response.headers.get("Location"),new URL(O.url),d)===M.location.pathname+M.location.search,await Wt(O,we,!0,{submission:Y,replace:me}),{shortCircuited:!0}}if(dr(we)){let me=fo(ne,Re.route.id);return(Se&&Se.replace)!==!0&&(oe="PUSH"),{matches:ne,pendingActionResult:[me.route.id,we]}}return{matches:ne,pendingActionResult:[Re.route.id,we]}}async function mr(O,B,Y,ne,_e,Se,De,we,Re,me,Ve){let Ke=_e||Tf(B,Se),ft=Se||De||qy(Ke),Mt=!z&&!Re;if(ne){if(Mt){let Tt=ti(Ve);Me({navigation:Ke,...Tt!==void 0?{actionData:Tt}:{}},{flushSync:me})}let st=await _t(Y,B.pathname,O.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){let Tt=fo(st.partialMatches).route.id;return{matches:st.partialMatches,loaderData:{},errors:{[Tt]:st.error}}}else if(st.matches)Y=st.matches;else{let{error:Tt,notFoundMatches:pn,route:Mr}=Vn(B.pathname);return{matches:pn,loaderData:{},errors:{[Mr.id]:Tt}}}}let nt=u||a,[lt,pt]=Oy(n.history,M,Y,ft,B,Re===!0,x,Qe,W,re,ee,nt,d,Ve);if(se=++de,lt.length===0&&pt.length===0){let st=On();return ht(B,{matches:Y,loaderData:{},errors:Ve&&dr(Ve[1])?{[Ve[0]]:Ve[1].error}:null,...By(Ve),...st?{fetchers:new Map(M.fetchers)}:{}},{flushSync:me}),{shortCircuited:!0}}if(Mt){let st={};if(!ne){st.navigation=Ke;let Tt=ti(Ve);Tt!==void 0&&(st.actionData=Tt)}pt.length>0&&(st.fetchers=ni(pt)),Me(st,{flushSync:me})}pt.forEach(st=>{At(st.key),st.controller&&ze.set(st.key,st.controller)});let Lr=()=>pt.forEach(st=>At(st.key));R&&R.signal.addEventListener("abort",Lr);let{loaderResults:Or,fetcherResults:Sn}=await Vt(M,Y,lt,pt,O);if(O.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Lr),pt.forEach(st=>ze.delete(st.key));let fn=wc(Or);if(fn)return await Wt(O,fn.result,!0,{replace:we}),{shortCircuited:!0};if(fn=wc(Sn),fn)return ee.add(fn.key),await Wt(O,fn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:ki,errors:ii}=jy(M,Y,Or,Ve,pt,Sn);Re&&M.errors&&(ii={...M.errors,...ii});let Vr=On(),mt=br(se),xi=Vr||mt||pt.length>0;return{matches:Y,loaderData:ki,errors:ii,...xi?{fetchers:new Map(M.fetchers)}:{}}}function ti(O){if(O&&!dr(O[1]))return{[O[0]]:O[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function ni(O){return O.forEach(B=>{let Y=M.fetchers.get(B.key),ne=Tl(void 0,Y?Y.data:void 0);M.fetchers.set(B.key,ne)}),new Map(M.fetchers)}async function Ar(O,B,Y,ne){At(O);let _e=(ne&&ne.flushSync)===!0,Se=u||a,De=Ff(M.location,M.matches,d,Y,B,ne==null?void 0:ne.relative),we=Ps(Se,De,d),Re=Je(we,Se,De);if(Re.active&&Re.matches&&(we=Re.matches),!we){dt(O,B,Ir(404,{pathname:De}),{flushSync:_e});return}let{path:me,submission:Ve,error:Ke}=Ny(!0,De,ne);if(Ke){dt(O,B,Ke,{flushSync:_e});return}let ft=Cl(we,me),Mt=(ne&&ne.preventScrollReset)===!0;if(Ve&&Qr(Ve.formMethod)){await kr(O,B,me,ft,we,Re.active,_e,Mt,Ve);return}re.set(O,{routeId:B,path:me}),await tn(O,B,me,ft,we,Re.active,_e,Mt,Ve)}async function kr(O,B,Y,ne,_e,Se,De,we,Re){hn(),re.delete(O);function me(St){if(!St.route.action&&!St.route.lazy){let $n=Ir(405,{method:Re.formMethod,pathname:Y,routeId:B});return dt(O,B,$n,{flushSync:De}),!0}return!1}if(!Se&&me(ne))return;let Ve=M.fetchers.get(O);Tn(O,XS(Re,Ve),{flushSync:De});let Ke=new AbortController,ft=da(n.history,Y,Ke.signal,Re);if(Se){let St=await _t(_e,Y,ft.signal);if(St.type==="aborted")return;if(St.type==="error"){dt(O,B,St.error,{flushSync:De});return}else if(St.matches){if(_e=St.matches,ne=Cl(_e,Y),me(ne))return}else{dt(O,B,Ir(404,{pathname:Y}),{flushSync:De});return}}ze.set(O,Ke);let Mt=de,lt=(await er("action",M,ft,[ne],_e,O))[ne.route.id];if(ft.signal.aborted){ze.get(O)===Ke&&ze.delete(O);return}if(W.has(O)){if(mo(lt)||dr(lt)){Tn(O,Cs(void 0));return}}else{if(mo(lt))if(ze.delete(O),se>Mt){Tn(O,Cs(void 0));return}else return ee.add(O),Tn(O,Tl(Re)),Wt(ft,lt,!1,{fetcherSubmission:Re,preventScrollReset:we});if(dr(lt)){dt(O,B,lt.error);return}}let pt=M.navigation.location||M.location,Lr=da(n.history,pt,Ke.signal),Or=u||a,Sn=M.navigation.state!=="idle"?Ps(Or,M.navigation.location,d):M.matches;et(Sn,"Didn't find any matches after fetcher action");let fn=++de;Q.set(O,fn);let ki=Tl(Re,lt.data);M.fetchers.set(O,ki);let[ii,Vr]=Oy(n.history,M,Sn,Re,pt,!1,x,Qe,W,re,ee,Or,d,[ne.route.id,lt]);Vr.filter(St=>St.key!==O).forEach(St=>{let $n=St.key,In=M.fetchers.get($n),Do=Tl(void 0,In?In.data:void 0);M.fetchers.set($n,Do),At($n),St.controller&&ze.set($n,St.controller)}),Me({fetchers:new Map(M.fetchers)});let mt=()=>Vr.forEach(St=>At(St.key));Ke.signal.addEventListener("abort",mt);let{loaderResults:xi,fetcherResults:st}=await Vt(M,Sn,ii,Vr,Lr);if(Ke.signal.aborted)return;Ke.signal.removeEventListener("abort",mt),Q.delete(O),ze.delete(O),Vr.forEach(St=>ze.delete(St.key));let Tt=wc(xi);if(Tt)return Wt(Lr,Tt.result,!1,{preventScrollReset:we});if(Tt=wc(st),Tt)return ee.add(Tt.key),Wt(Lr,Tt.result,!1,{preventScrollReset:we});let{loaderData:pn,errors:Mr}=jy(M,Sn,xi,void 0,Vr,st);if(M.fetchers.has(O)){let St=Cs(lt.data);M.fetchers.set(O,St)}br(fn),M.navigation.state==="loading"&&fn>se?(et(oe,"Expected pending action"),R&&R.abort(),ht(M.navigation.location,{matches:Sn,loaderData:pn,errors:Mr,fetchers:new Map(M.fetchers)})):(Me({errors:Mr,loaderData:zy(M.loaderData,pn,Sn,Mr),fetchers:new Map(M.fetchers)}),x=!1)}async function tn(O,B,Y,ne,_e,Se,De,we,Re){let me=M.fetchers.get(O);Tn(O,Tl(Re,me?me.data:void 0),{flushSync:De});let Ve=new AbortController,Ke=da(n.history,Y,Ve.signal);if(Se){let lt=await _t(_e,Y,Ke.signal);if(lt.type==="aborted")return;if(lt.type==="error"){dt(O,B,lt.error,{flushSync:De});return}else if(lt.matches)_e=lt.matches,ne=Cl(_e,Y);else{dt(O,B,Ir(404,{pathname:Y}),{flushSync:De});return}}ze.set(O,Ve);let ft=de,nt=(await er("loader",M,Ke,[ne],_e,O))[ne.route.id];if(ze.get(O)===Ve&&ze.delete(O),!Ke.signal.aborted){if(W.has(O)){Tn(O,Cs(void 0));return}if(mo(nt))if(se>ft){Tn(O,Cs(void 0));return}else{ee.add(O),await Wt(Ke,nt,!1,{preventScrollReset:we});return}if(dr(nt)){dt(O,B,nt.error);return}Tn(O,Cs(nt.data))}}async function Wt(O,B,Y,{submission:ne,fetcherSubmission:_e,preventScrollReset:Se,replace:De}={}){B.response.headers.has("X-Remix-Revalidate")&&(x=!0);let we=B.response.headers.get("Location");et(we,"Expected a Location header on the redirect Response"),we=Uy(we,new URL(O.url),d);let Re=jl(M.location,we,{_isRedirect:!0});if(t){let nt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))nt=!0;else if(mp.test(we)){const lt=n.history.createURL(we);nt=lt.origin!==e.location.origin||Xr(lt.pathname,d)==null}if(nt){De?e.location.replace(we):e.location.assign(we);return}}R=null;let me=De===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:Ke,formEncType:ft}=M.navigation;!ne&&!_e&&Ve&&Ke&&ft&&(ne=qy(M.navigation));let Mt=ne||_e;if(NS.has(B.response.status)&&Mt&&Qr(Mt.formMethod))await qt(me,Re,{submission:{...Mt,formAction:we},preventScrollReset:Se||A,enableViewTransition:Y?P:void 0});else{let nt=Tf(Re,ne);await qt(me,Re,{overrideNavigation:nt,fetcherSubmission:_e,preventScrollReset:Se||A,enableViewTransition:Y?P:void 0})}}async function er(O,B,Y,ne,_e,Se){let De,we={};try{De=await BS(f,O,B,Y,ne,_e,Se,s,r)}catch(Re){return ne.forEach(me=>{we[me.route.id]={type:"error",error:Re}}),we}for(let[Re,me]of Object.entries(De))if(GS(me)){let Ve=me.result;we[Re]={type:"redirect",response:qS(Ve,Y,Re,_e,d)}}else we[Re]=await HS(me);return we}async function Vt(O,B,Y,ne,_e){let Se=er("loader",O,_e,Y,B,null),De=Promise.all(ne.map(async me=>{if(me.matches&&me.match&&me.controller){let Ke=(await er("loader",O,da(n.history,me.path,me.controller.signal),[me.match],me.matches,me.key))[me.match.route.id];return{[me.key]:Ke}}else return Promise.resolve({[me.key]:{type:"error",error:Ir(404,{pathname:me.path})}})})),we=await Se,Re=(await De).reduce((me,Ve)=>Object.assign(me,Ve),{});return{loaderResults:we,fetcherResults:Re}}function hn(){x=!0,re.forEach((O,B)=>{ze.has(B)&&Qe.add(B),At(B)})}function Tn(O,B,Y={}){M.fetchers.set(O,B),Me({fetchers:new Map(M.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function dt(O,B,Y,ne={}){let _e=fo(M.matches,B);Ln(O),Me({errors:{[_e.route.id]:Y},fetchers:new Map(M.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function vt(O){return U.set(O,(U.get(O)||0)+1),W.has(O)&&W.delete(O),M.fetchers.get(O)||LS}function Ln(O){let B=M.fetchers.get(O);ze.has(O)&&!(B&&B.state==="loading"&&Q.has(O))&&At(O),re.delete(O),Q.delete(O),ee.delete(O),W.delete(O),Qe.delete(O),M.fetchers.delete(O)}function xr(O){let B=(U.get(O)||0)-1;B<=0?(U.delete(O),W.add(O)):U.set(O,B),Me({fetchers:new Map(M.fetchers)})}function At(O){let B=ze.get(O);B&&(B.abort(),ze.delete(O))}function tr(O){for(let B of O){let Y=vt(B),ne=Cs(Y.data);M.fetchers.set(B,ne)}}function On(){let O=[],B=!1;for(let Y of ee){let ne=M.fetchers.get(Y);et(ne,`Expected fetcher: ${Y}`),ne.state==="loading"&&(ee.delete(Y),O.push(Y),B=!0)}return tr(O),B}function br(O){let B=[];for(let[Y,ne]of Q)if(ne<O){let _e=M.fetchers.get(Y);et(_e,`Expected fetcher: ${Y}`),_e.state==="loading"&&(At(Y),Q.delete(Y),B.push(Y))}return tr(B),B.length>0}function Ai(O,B){let Y=M.blockers.get(O)||El;return ae.get(O)!==B&&ae.set(O,B),Y}function Dr(O){M.blockers.delete(O),ae.delete(O)}function nr(O,B){let Y=M.blockers.get(O)||El;et(Y.state==="unblocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="proceeding"||Y.state==="blocked"&&B.state==="unblocked"||Y.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${B.state}`);let ne=new Map(M.blockers);ne.set(O,B),Me({blockers:ne})}function ri({currentLocation:O,nextLocation:B,historyAction:Y}){if(ae.size===0)return;ae.size>1&&un(!1,"A router only supports one blocker at a time");let ne=Array.from(ae.entries()),[_e,Se]=ne[ne.length-1],De=M.blockers.get(_e);if(!(De&&De.state==="proceeding")&&Se({currentLocation:O,nextLocation:B,historyAction:Y}))return _e}function Vn(O){let B=Ir(404,{pathname:O}),Y=u||a,{matches:ne,route:_e}=$y(Y);return{notFoundMatches:ne,route:_e,error:B}}function dn(O,B,Y){if(w=O,N=B,C=Y||null,!b&&M.navigation===Ef){b=!0;let ne=We(M.location,M.matches);ne!=null&&Me({restoreScrollPosition:ne})}return()=>{w=null,N=null,C=null}}function Nr(O,B){return C&&C(O,B.map(ne=>hS(ne,M.loaderData)))||O.key}function ke(O,B){if(w&&N){let Y=Nr(O,B);w[Y]=N()}}function We(O,B){if(w){let Y=Nr(O,B),ne=w[Y];if(typeof ne=="number")return ne}return null}function Je(O,B,Y){if(m)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Dc(B,Y,d,!0)}}else return{active:!0,matches:Dc(B,Y,d,!0)||[]};return{active:!1,matches:null}}async function _t(O,B,Y){if(!m)return{type:"success",matches:O};let ne=O;for(;;){let _e=u==null,Se=u||a,De=s;try{await m({path:B,matches:ne,patch:(me,Ve)=>{Y.aborted||My(me,Ve,Se,De,r)}})}catch(me){return{type:"error",error:me,partialMatches:ne}}finally{_e&&!Y.aborted&&(a=[...a])}if(Y.aborted)return{type:"aborted"};let we=Ps(Se,B,d);if(we)return{type:"success",matches:we};let Re=Dc(Se,B,d,!0);if(!Re||ne.length===Re.length&&ne.every((me,Ve)=>me.route.id===Re[Ve].route.id))return{type:"success",matches:null};ne=Re}}function nn(O){s={},u=qc(O,r,void 0,s)}function Bn(O,B){let Y=u==null;My(O,B,u||a,s,r),Y&&(a=[...a],Me({}))}return te={get basename(){return d},get future(){return v},get state(){return M},get routes(){return a},get window(){return e},initialize:He,subscribe:Xe,enableScrollRestoration:dn,navigate:en,fetch:Ar,revalidate:ei,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:vt,deleteFetcher:xr,dispose:be,getBlocker:Ai,deleteBlocker:Dr,patchRoutes:Bn,_internalFetchControllers:ze,_internalSetRoutes:nn},te}function MS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ff(n,e,t,r,s,a){let u,d;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){d=m;break}}else u=e,d=e[e.length-1];let f=vh(r||".",yh(u),Xr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let m=gp(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(f.search),T=v.getAll("index");v.delete("index"),T.filter(w=>w).forEach(w=>v.append("index",w));let E=v.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:_i([t,f.pathname])),Ms(f)}function Ny(n,e,t){if(!t||!MS(t))return{path:e};if(t.formMethod&&!QS(t.formMethod))return{path:e,error:Ir(405,{method:t.formMethod})};let r=()=>({path:e,error:Ir(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=$_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Qr(a))return r();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[w,C])=>`${E}${w}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Qr(a))return r();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=zf(t.formData),f=t.formData;else if(t.body instanceof FormData)d=zf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=Fy(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=Fy(d)}catch{return r()}let m={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Qr(m.formMethod))return{path:e,submission:m};let v=Hs(e);return n&&v.search&&gp(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ms(v),submission:m}}function Ly(n,e,t=!1){let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function Oy(n,e,t,r,s,a,u,d,f,m,v,T,E,w){let C=w?dr(w[1])?w[1].error:w[1].data:void 0,N=n.createURL(e.location),b=n.createURL(s),j=t;a&&e.errors?j=Ly(t,Object.keys(e.errors)[0],!0):w&&dr(w[1])&&(j=Ly(t,w[0]));let Z=w?w[1].statusCode:void 0,X=Z&&Z>=400,te=j.filter((oe,A)=>{let{route:R}=oe;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return jf(R,e.loaderData,e.errors);if(US(e.loaderData,e.matches[A],oe))return!0;let P=e.matches[A],D=oe;return Vy(oe,{currentUrl:N,currentParams:P.params,nextUrl:b,nextParams:D.params,...r,actionResult:C,actionStatus:Z,defaultShouldRevalidate:X?!1:u||N.pathname+N.search===b.pathname+b.search||N.search!==b.search||FS(P,D)})}),M=[];return m.forEach((oe,A)=>{if(a||!t.some(z=>z.route.id===oe.routeId)||f.has(A))return;let R=Ps(T,oe.path,E);if(!R){M.push({key:A,routeId:oe.routeId,path:oe.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(A),D=Cl(R,oe.path),L=!1;v.has(A)?L=!1:d.has(A)?(d.delete(A),L=!0):P&&P.state!=="idle"&&P.data===void 0?L=u:L=Vy(D,{currentUrl:N,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:t[t.length-1].params,...r,actionResult:C,actionStatus:Z,defaultShouldRevalidate:X?!1:u}),L&&M.push({key:A,routeId:oe.routeId,path:oe.path,matches:R,match:D,controller:new AbortController})}),[te,M]}function jf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function US(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function FS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Vy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function My(n,e,t,r,s){let a;if(n){let f=r[n];et(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let u=e.filter(f=>!a.some(m=>B_(f,m))),d=qc(u,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...d)}function B_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>B_(t,a))}):!1}async function jS(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];et(s,"No route found in manifest");let a={};for(let u in r){let f=s[u]!==void 0&&u!=="hasErrorBoundary";un(!f,`Route "${s.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!uS.has(u)&&(a[u]=r[u])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function zS({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,s,a)=>Object.assign(r,{[e[a].route.id]:s}),{})}async function BS(n,e,t,r,s,a,u,d,f,m){let v=a.map(w=>w.route.lazy?jS(w.route,f,d):void 0),T=a.map((w,C)=>{let N=v[C],b=s.some(Z=>Z.route.id===w.route.id);return{...w,shouldLoad:b,resolve:async Z=>(Z&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(b=!0),b?$S(e,r,w,N,Z,m):Promise.resolve({type:"data",result:void 0}))}}),E=await n({matches:T,request:r,params:a[0].params,fetcherKey:u,context:m});try{await Promise.all(v)}catch{}return E}async function $S(n,e,t,r,s,a){let u,d,f=m=>{let v,T=new Promise((C,N)=>v=N);d=()=>v(),e.signal.addEventListener("abort",d);let E=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:a},...C!==void 0?[C]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(N=>E(N)):E())}}catch(C){return{type:"error",result:C}}})();return Promise.race([w,T])};try{let m=t.route[n];if(r)if(m){let v,[T]=await Promise.all([f(m).catch(E=>{v=E}),r]);if(v!==void 0)throw v;u=T}else if(await r,m=t.route[n],m)u=await f(m);else if(n==="action"){let v=new URL(e.url),T=v.pathname+v.search;throw Ir(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)u=await f(m);else{let v=new URL(e.url),T=v.pathname+v.search;throw Ir(404,{pathname:T})}}catch(m){return{type:"error",result:m}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function HS(n){var r,s,a,u;let{result:e,type:t}=n;if(H_(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new Kc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Hy(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new Kc(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:_h(e)?e.status:void 0}}return Hy(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function qS(n,e,t,r,s){let a=n.headers.get("Location");if(et(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!mp.test(a)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);a=Ff(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function Uy(n,e,t){if(mp.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Xr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function da(n,e,t,r){let s=n.createURL($_(e)).toString(),a={signal:t};if(r&&Qr(r.formMethod)){let{formMethod:u,formEncType:d}=r;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=zf(r.formData):a.body=r.formData}return new Request(s,a)}function zf(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Fy(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function WS(n,e,t,r=!1,s=!1){let a={},u=null,d,f=!1,m={},v=t&&dr(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let E=T.route.id,w=e[E];if(et(!mo(w),"Cannot handle redirect results in processLoaderData"),dr(w)){let C=w.error;if(v!==void 0&&(C=v,v=void 0),u=u||{},s)u[E]=C;else{let N=fo(n,E);u[N.route.id]==null&&(u[N.route.id]=C)}r||(a[E]=z_),f||(f=!0,d=_h(w.error)?w.error.status:500),w.headers&&(m[E]=w.headers)}else a[E]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(m[E]=w.headers)}),v!==void 0&&t&&(u={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:m}}function jy(n,e,t,r,s,a){let{loaderData:u,errors:d}=WS(e,t,r);return s.forEach(f=>{let{key:m,match:v,controller:T}=f,E=a[m];if(et(E,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(dr(E)){let w=fo(n.matches,v==null?void 0:v.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:E.error}),n.fetchers.delete(m)}else if(mo(E))et(!1,"Unhandled fetcher revalidation redirect");else{let w=Cs(E.data);n.fetchers.set(m,w)}}),{loaderData:u,errors:d}}function zy(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==z_).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function By(n){return n?dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function fo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function $y(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ir(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Kc(n||500,u,new Error(d),!0)}function wc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(mo(s))return{key:r,result:s}}}function $_(n){let e=typeof n=="string"?Hs(n):n;return Ms({...e,hash:""})}function KS(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function GS(n){return H_(n.result)&&DS.has(n.result.status)}function dr(n){return n.type==="error"}function mo(n){return(n&&n.type)==="redirect"}function Hy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function H_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function QS(n){return bS.has(n.toUpperCase())}function Qr(n){return kS.has(n.toUpperCase())}function gp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Cl(n,e){let t=typeof e=="string"?Hs(e).search:e.search;if(n[n.length-1].route.index&&gp(t||""))return n[n.length-1];let r=U_(n);return r[r.length-1]}function qy(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Tf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function JS(n,e){try{let t=n.sessionStorage.getItem(j_);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function ZS(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(j_,JSON.stringify(t))}catch(r){un(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function e1(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ro=$.createContext(null);Ro.displayName="DataRouter";var Xl=$.createContext(null);Xl.displayName="DataRouterState";var yp=$.createContext({isTransitioning:!1});yp.displayName="ViewTransition";var q_=$.createContext(new Map);q_.displayName="Fetchers";var t1=$.createContext(null);t1.displayName="Await";var Zr=$.createContext(null);Zr.displayName="Navigation";var wh=$.createContext(null);wh.displayName="Location";var Cr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var vp=$.createContext(null);vp.displayName="RouteError";function n1(n,{relative:e}={}){et(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Zr),{hash:s,pathname:a,search:u}=Jl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:_i([t,a])),r.createHref({pathname:d,search:u,hash:s})}function Oa(){return $.useContext(wh)!=null}function ns(){return et(Oa(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(wh).location}var W_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(n){$.useContext(Zr).static||$.useLayoutEffect(n)}function G_(){let{isDataRoute:n}=$.useContext(Cr);return n?g1():r1()}function r1(){et(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Ro),{basename:e,navigator:t}=$.useContext(Zr),{matches:r}=$.useContext(Cr),{pathname:s}=ns(),a=JSON.stringify(yh(r)),u=$.useRef(!1);return K_(()=>{u.current=!0}),$.useCallback((f,m={})=>{if(un(u.current,W_),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=vh(f,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_i([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,s,n])}var i1=$.createContext(null);function s1(n){let e=$.useContext(Cr).outlet;return e&&$.createElement(i1.Provider,{value:n},e)}function pL(){let{matches:n}=$.useContext(Cr),e=n[n.length-1];return e?e.params:{}}function Jl(n,{relative:e}={}){let{matches:t}=$.useContext(Cr),{pathname:r}=ns(),s=JSON.stringify(yh(t));return $.useMemo(()=>vh(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function o1(n,e,t,r){et(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(Zr),{matches:a}=$.useContext(Cr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";Y_(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=ns(),E;E=T;let w=E.pathname||"/",C=w;if(m!=="/"){let j=m.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Ps(n,{pathname:C});return un(v||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),un(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),h1(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:_i([m,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:_i([m,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r)}function a1(){let n=Q_(),e=_h(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,u)}var l1=$.createElement(a1,null),u1=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Cr.Provider,{value:this.props.routeContext},$.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c1({routeContext:n,match:e,children:t}){let r=$.useContext(Ro);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Cr.Provider,{value:n},t)}function h1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:v,errors:T}=t,E=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let T,E=!1,w=null,C=null;t&&(T=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||l1,u&&(d<0&&v===0?(Y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):d===v&&(E=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,v+1)),b=()=>{let j;return T?j=w:E?j=C:m.route.Component?j=$.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=f,$.createElement(c1,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?$.createElement(u1,{location:t.location,revalidation:t.revalidation,component:w,error:T,children:b(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):b()},null)}function _p(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d1(n){let e=$.useContext(Ro);return et(e,_p(n)),e}function f1(n){let e=$.useContext(Xl);return et(e,_p(n)),e}function p1(n){let e=$.useContext(Cr);return et(e,_p(n)),e}function wp(n){let e=p1(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m1(){return wp("useRouteId")}function Q_(){var r;let n=$.useContext(vp),e=f1("useRouteError"),t=wp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function g1(){let{router:n}=d1("useNavigate"),e=wp("useNavigate"),t=$.useRef(!1);return K_(()=>{t.current=!0}),$.useCallback(async(s,a={})=>{un(t.current,W_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Wy={};function Y_(n,e,t){!e&&!Wy[n]&&(Wy[n]=!0,un(!1,t))}var Ky={};function Gy(n,e){!n&&!Ky[e]&&(Ky[e]=!0,console.warn(e))}function y1(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var v1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function _1({router:n,flushSync:e}){let[t,r]=$.useState(n.state),[s,a]=$.useState(),[u,d]=$.useState({isTransitioning:!1}),[f,m]=$.useState(),[v,T]=$.useState(),[E,w]=$.useState(),C=$.useRef(new Map),N=$.useCallback((X,{deletedFetchers:te,flushSync:M,viewTransitionOpts:oe})=>{te.forEach(R=>C.current.delete(R)),X.fetchers.forEach((R,P)=>{R.data!==void 0&&C.current.set(P,R.data)}),Gy(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Gy(oe==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!oe||!A){e&&M?e(()=>r(X)):$.startTransition(()=>r(X));return}if(e&&M){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(X))});R.finished.finally(()=>{e(()=>{m(void 0),T(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>T(R));return}v?(f&&f.resolve(),v.skipTransition(),w({state:X,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(a(X),d({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,e,v,f]);$.useLayoutEffect(()=>n.subscribe(N),[n,N]),$.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new v1)},[u]),$.useEffect(()=>{if(f&&s&&n.window){let X=s,te=f.promise,M=n.window.document.startViewTransition(async()=>{$.startTransition(()=>r(X)),await te});M.finished.finally(()=>{m(void 0),T(void 0),a(void 0),d({isTransitioning:!1})}),T(M)}},[s,f,n.window]),$.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,v,t.location,s]),$.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),w(void 0))},[u.isTransitioning,E]);let b=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:X=>n.navigate(X),push:(X,te,M)=>n.navigate(X,{state:te,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(X,te,M)=>n.navigate(X,{replace:!0,state:te,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),j=n.basename||"/",Z=$.useMemo(()=>({router:n,navigator:b,static:!1,basename:j}),[n,b,j]);return $.createElement($.Fragment,null,$.createElement(Ro.Provider,{value:Z},$.createElement(Xl.Provider,{value:t},$.createElement(q_.Provider,{value:C.current},$.createElement(yp.Provider,{value:u},$.createElement(S1,{basename:j,location:t.location,navigationType:t.historyAction,navigator:b},$.createElement(w1,{routes:n.routes,future:n.future,state:t})))))),null)}var w1=$.memo(E1);function E1({routes:n,future:e,state:t}){return o1(n,void 0,t,e)}function T1({to:n,replace:e,state:t,relative:r}){et(Oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(Zr);un(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(Cr),{pathname:u}=ns(),d=G_(),f=vh(n,yh(a),u,r==="path"),m=JSON.stringify(f);return $.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:r})},[d,m,r,e,t]),null}function gL(n){return s1(n.context)}function S1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){et(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Hs(t));let{pathname:f="/",search:m="",hash:v="",state:T=null,key:E="default"}=t,w=$.useMemo(()=>{let C=Xr(f,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:T,key:E},navigationType:r}},[u,f,m,v,T,E,r]);return un(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:$.createElement(Zr.Provider,{value:d},$.createElement(wh.Provider,{children:e,value:w}))}var Nc="get",Lc="application/x-www-form-urlencoded";function Eh(n){return n!=null&&typeof n.tagName=="string"}function I1(n){return Eh(n)&&n.tagName.toLowerCase()==="button"}function R1(n){return Eh(n)&&n.tagName.toLowerCase()==="form"}function C1(n){return Eh(n)&&n.tagName.toLowerCase()==="input"}function P1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function A1(n,e){return n.button===0&&(!e||e==="_self")&&!P1(n)}var Ec=null;function k1(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(n){return n!=null&&!x1.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):n}function b1(n,e){let t,r,s,a,u;if(R1(n)){let d=n.getAttribute("action");r=d?Xr(d,e):null,t=n.getAttribute("method")||Nc,s=Sf(n.getAttribute("enctype"))||Lc,a=new FormData(n)}else if(I1(n)||C1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Xr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Nc,s=Sf(n.getAttribute("formenctype"))||Sf(d.getAttribute("enctype"))||Lc,a=new FormData(d,n),!k1()){let{name:m,type:v,value:T}=n;if(v==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,T)}}else{if(Eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,r=null,s=Lc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Ep(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function D1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function L1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await D1(a,t);return u.links?u.links():[]}return[]}));return U1(r.flat(1).filter(N1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qy(n,e,t,r,s,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var T;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function O1(n,e){return V1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function V1(n){return[...new Set(n)]}function M1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function U1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(M1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function F1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function j1(){let n=$.useContext(Ro);return Ep(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function z1(){let n=$.useContext(Xl);return Ep(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tp=$.createContext(void 0);Tp.displayName="FrameworkContext";function X_(){let n=$.useContext(Tp);return Ep(n,"You must render this element inside a <HydratedRouter> element"),n}function B1(n,e){let t=$.useContext(Tp),[r,s]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=e,E=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=j=>{j.forEach(Z=>{u(Z.isIntersecting)})},b=new IntersectionObserver(N,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[n]),$.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Sl(d,w),onBlur:Sl(f,C),onMouseEnter:Sl(m,w),onMouseLeave:Sl(v,C),onTouchStart:Sl(T,w)}]:[!1,E,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $1({page:n,...e}){let{router:t}=j1(),r=$.useMemo(()=>Ps(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(q1,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function H1(n){let{manifest:e,routeModules:t}=X_(),[r,s]=$.useState([]);return $.useEffect(()=>{let a=!1;return L1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function q1({page:n,matches:e,...t}){let r=ns(),{manifest:s,routeModules:a}=X_(),{loaderData:u,matches:d}=z1(),f=$.useMemo(()=>Qy(n,e,d,s,r,"data"),[n,e,d,s,r]),m=$.useMemo(()=>Qy(n,e,d,s,r,"assets"),[n,e,d,s,r]),v=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(e.forEach(b=>{var Z;let j=s.routes[b.route.id];!j||!j.hasLoader||(!f.some(X=>X.route.id===b.route.id)&&b.route.id in u&&((Z=a[b.route.id])!=null&&Z.shouldRevalidate)||j.hasClientLoader?C=!0:w.add(b.route.id))}),w.size===0)return[];let N=F1(n);return C&&w.size>0&&N.searchParams.set("_routes",e.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[u,r,s,f,e,n,a]),T=$.useMemo(()=>O1(m,s),[m,s]),E=H1(m);return $.createElement($.Fragment,null,v.map(w=>$.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),T.map(w=>$.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),E.map(({key:w,link:C})=>$.createElement("link",{key:w,...C})))}function W1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var J_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J_&&(window.__reactRouterVersion="7.0.2")}catch{}function K1(n,e){return VS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:oS({window:e==null?void 0:e.window}),hydrationData:G1(),routes:n,mapRouteProperties:y1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function G1(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Q1(n.errors)}),n}function Q1(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Kc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var Z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:T,...E},w){let{basename:C}=$.useContext(Zr),N=typeof m=="string"&&Z_.test(m),b,j=!1;if(typeof m=="string"&&N&&(b=m,J_))try{let P=new URL(window.location.href),D=m.startsWith("//")?new URL(P.protocol+m):new URL(m),L=Xr(D.pathname,C);D.origin===P.origin&&L!=null?m=L+D.search+D.hash:j=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=n1(m,{relative:s}),[X,te,M]=B1(r,E),oe=Z1(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:T});function A(P){e&&e(P),P.defaultPrevented||oe(P)}let R=$.createElement("a",{...E,...M,href:b||Z,onClick:j||a?e:A,ref:W1(w,te),target:f,"data-discover":!N&&t==="render"?"true":void 0});return X&&!N?$.createElement($.Fragment,null,R,$.createElement($1,{page:Z})):R});e0.displayName="Link";var Y1=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...m},v){let T=Jl(u,{relative:m.relative}),E=ns(),w=$.useContext(Xl),{navigator:C,basename:N}=$.useContext(Zr),b=w!=null&&iI(T)&&d===!0,j=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,Z=E.pathname,X=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,j=j.toLowerCase()),X&&N&&(X=Xr(X,N)||X);const te=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=Z===j||!s&&Z.startsWith(j)&&Z.charAt(te)==="/",oe=X!=null&&(X===j||!s&&X.startsWith(j)&&X.charAt(j.length)==="/"),A={isActive:M,isPending:oe,isTransitioning:b},R=M?e:void 0,P;typeof r=="function"?P=r(A):P=[r,M?"active":null,oe?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(A):a;return $.createElement(e0,{...m,"aria-current":R,className:P,ref:v,style:D,to:u,viewTransition:d},typeof f=="function"?f(A):f)});Y1.displayName="NavLink";var X1=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Nc,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:T,...E},w)=>{let C=nI(),N=rI(d,{relative:m}),b=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&Z_.test(d),Z=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let te=X.nativeEvent.submitter,M=(te==null?void 0:te.getAttribute("formmethod"))||u;C(te||X.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:s,state:a,relative:m,preventScrollReset:v,viewTransition:T})};return $.createElement("form",{ref:w,method:b,action:N,onSubmit:r?f:Z,...E,"data-discover":!j&&n==="render"?"true":void 0})});X1.displayName="Form";function J1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(n){let e=$.useContext(Ro);return et(e,J1(n)),e}function Z1(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=G_(),f=ns(),m=Jl(n,{relative:a});return $.useCallback(v=>{if(A1(v,e)){v.preventDefault();let T=t!==void 0?t:Ms(f)===Ms(m);d(n,{replace:T,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,m,t,r,e,n,s,a,u])}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:n}=t0("useSubmit"),{basename:e}=$.useContext(Zr),t=m1();return $.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=b1(r,e);if(s.navigate===!1){let v=s.fetcherKey||tI();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function rI(n,{relative:e}={}){let{basename:t}=$.useContext(Zr),r=$.useContext(Cr);et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Jl(n||".",{relative:e})},u=ns();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:_i([t,a.pathname])),Ms(a)}function iI(n,e={}){let t=$.useContext(yp);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t0("useViewTransitionState"),s=Jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Xr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Xr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wc(s.pathname,u)!=null||Wc(s.pathname,a)!=null}new TextEncoder;var n0=O_();const sI=L_(n0);/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oI(n){return $.createElement(_1,{flushSync:n0.flushSync,...n})}const aI="modulepreload",lI=function(n){return"/"+n},Yy={},Ft=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(f=>{if(f=lI(f),f in Yy)return;Yy[f]=!0;const m=f.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const T=document.createElement("link");if(T.rel=m?"stylesheet":aI,m||(T.as="script"),T.crossOrigin="",T.href=f,d&&T.setAttribute("nonce",d),document.head.appendChild(T),m)return new Promise((E,w)=>{T.addEventListener("load",E),T.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...d},f)=>$.createElement("svg",{ref:f,...cI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:r0("lucide",s),...d},[...u.map(([m,v])=>$.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=(n,e)=>{const t=$.forwardRef(({className:r,...s},a)=>$.createElement(hI,{ref:a,iconNode:e,className:r0(`lucide-${uI(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=dI("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pI=()=>Ge.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Ge.jsx(fI,{className:"h-8 w-8 animate-spin text-blue-500"})}),pi=()=>{const n=Q_();return Ge.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Ge.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg",children:[Ge.jsx("div",{className:"flex items-center justify-center mb-6"}),Ge.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"Oops! Something went wrong"}),Ge.jsx("p",{className:"text-gray-600 text-center mb-6",children:(n==null?void 0:n.message)||"An unexpected error occurred"}),Ge.jsx("div",{className:"text-center",children:Ge.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Return Home"})})]})})},mI={admin:["admin","editor","star"],editor:["editor","star"],star:["star"],viewer:["viewer"]},gI=[{path:"/dashboard",requiredRoles:["admin","editor","viewer"]},{path:"/dashboard/home",requiredRoles:["admin","editor"]},{path:"/dashboard/users",requiredRoles:["admin","editor"]},{path:"/dashboard/apartments",requiredRoles:["admin","editor"]},{path:"/dashboard/notifications",requiredRoles:["admin","editor"]},{path:"/dashboard/Send_Notification",requiredRoles:["admin","editor"]},{path:"/dashboard/createAd",requiredRoles:["admin","viewer"]},{path:"/dashboard/website_data",requiredRoles:["admin","editor"]},{path:"/dashboard/employees",requiredRoles:["admin"]},{path:"/dashboard/ads-list",requiredRoles:["admin","editor"]},{path:"/dashboard/privacy",requiredRoles:["admin"]},{path:"/dashboard/contact",requiredRoles:["admin","editor"]}],yI=(n,e)=>{if(!n||!e.length)return!1;const t=mI[n]||[];return e.some(r=>t.includes(r))},vI=n=>{const e=gI.find(t=>n.startsWith(t.path));return(e==null?void 0:e.requiredRoles)||[]};var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},_I=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,v=a>>2,T=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,w=m&63;f||(w=64,u||(E=64)),r.push(t[v],t[T],t[E],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_I(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||T==null)throw new wI;const E=a<<2|d>>4;if(r.push(E),m!==64){const w=d<<4&240|m>>2;if(r.push(w),T!==64){const C=m<<6&192|T;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EI=function(n){const e=i0(n);return s0.encodeByteArray(e,!0)},Gc=function(n){return EI(n).replace(/\./g,"")},o0=function(n){try{return s0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=()=>TI().__FIREBASE_DEFAULTS__,II=()=>{if(typeof process>"u"||typeof Xy>"u")return;const n=Xy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&o0(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return SI()||II()||RI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a0=n=>{var e,t;return(t=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l0=n=>{const e=a0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},u0=()=>{var n;return(n=Th())===null||n===void 0?void 0:n.config},c0=n=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gc(JSON.stringify(t)),Gc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function AI(){var n;const e=(n=Th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const n=Dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NI(){return!AI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="FirebaseError";class Pi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=VI,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?MI(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Pi(s,d,r)}}function MI(n,e){return n.replace(UI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UI=/\{\$([^}]+)}/g;function FI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Jy(a)&&Jy(u)){if(!Qc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Jy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jI(n,e){const t=new zI(n,e);return t.subscribe.bind(t)}class zI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");BI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=If),s.error===void 0&&(s.error=If),s.complete===void 0&&(s.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Us{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new CI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qI(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(n){return n===ho?void 0:n}function qI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const KI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},GI=Ze.INFO,QI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},YI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=QI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sp=class{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=YI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}};const XI=(n,e)=>e.some(t=>n instanceof t);let Zy,ev;function JI(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZI(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Bf=new WeakMap,f0=new WeakMap,Rf=new WeakMap,Ip=new WeakMap;function eR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ls(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&d0.set(t,n)}).catch(()=>{}),Ip.set(e,n),e}function tR(n){if(Bf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Bf.set(n,e)}let $f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nR(n){$f=n($f)}function rR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cf(this),e,...t);return f0.set(r,e.sort?e.sort():[e]),Ls(r)}:ZI().includes(n)?function(...e){return n.apply(Cf(this),e),Ls(d0.get(this))}:function(...e){return Ls(n.apply(Cf(this),e))}}function iR(n){return typeof n=="function"?rR(n):(n instanceof IDBTransaction&&tR(n),XI(n,JI())?new Proxy(n,$f):n)}function Ls(n){if(n instanceof IDBRequest)return eR(n);if(Rf.has(n))return Rf.get(n);const e=iR(n);return e!==n&&(Rf.set(n,e),Ip.set(e,n)),e}const Cf=n=>Ip.get(n);function sR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Ls(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ls(u.result),f.oldVersion,f.newVersion,Ls(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const oR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Pf=new Map;function tv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=aR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return Pf.set(e,a),a}nR(n=>({...n,get:(e,t,r)=>tv(e,t)||n.get(e,t,r),has:(e,t)=>!!tv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function uR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",nv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Sp("@firebase/app"),cR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",fR="@firebase/app-check-compat",pR="@firebase/app-check",mR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",vR="@firebase/data-connect",_R="@firebase/database-compat",wR="@firebase/functions",ER="@firebase/functions-compat",TR="@firebase/installations",SR="@firebase/installations-compat",IR="@firebase/messaging",RR="@firebase/messaging-compat",CR="@firebase/performance",PR="@firebase/performance-compat",AR="@firebase/remote-config",kR="@firebase/remote-config-compat",xR="@firebase/storage",bR="@firebase/storage-compat",DR="@firebase/firestore",NR="@firebase/vertexai",LR="@firebase/firestore-compat",OR="firebase",VR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",MR={[Hf]:"fire-core",[cR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[pR]:"fire-app-check",[fR]:"fire-app-check-compat",[mR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[vR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[wR]:"fire-fn",[ER]:"fire-fn-compat",[TR]:"fire-iid",[SR]:"fire-iid-compat",[IR]:"fire-fcm",[RR]:"fire-fcm-compat",[CR]:"fire-perf",[PR]:"fire-perf-compat",[AR]:"fire-rc",[kR]:"fire-rc-compat",[xR]:"fire-gcs",[bR]:"fire-gcs-compat",[DR]:"fire-fst",[LR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[OR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,UR=new Map,Wf=new Map;function rv(n,e){try{n.container.addComponent(e)}catch(t){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _o(n){const e=n.name;if(Wf.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,n);for(const t of Yc.values())rv(t,n);for(const t of UR.values())rv(t,n);return!0}function Sh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Zl("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=VR;function p0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Os.create("bad-app-name",{appName:String(s)});if(t||(t=u0()),!t)throw Os.create("no-options");const a=Yc.get(s);if(a){if(Qc(t,a.options)&&Qc(r,a.config))return a;throw Os.create("duplicate-app",{appName:s})}const u=new WI(s);for(const f of Wf.values())u.addComponent(f);const d=new jR(t,r,u);return Yc.set(s,d),d}function Rp(n=qf){const e=Yc.get(n);if(!e&&n===qf&&u0())return p0();if(!e)throw Os.create("no-app",{appName:n});return e}function wi(n,e,t){var r;let s=(r=MR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}_o(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",BR=1,zl="firebase-heartbeat-store";let Af=null;function m0(){return Af||(Af=sR(zR,BR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Af}async function $R(n){try{const t=(await m0()).transaction(zl),r=await t.objectStore(zl).get(g0(n));return await t.done,r}catch(e){if(e instanceof Pi)Ji.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(t.message)}}}async function iv(n,e){try{const r=(await m0()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,g0(n)),await r.done}catch(t){if(t instanceof Pi)Ji.warn(t.message);else{const r=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(r.message)}}}function g0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,qR=30*24*60*60*1e3;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=qR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sv(),{heartbeatsToSend:r,unsentEntries:s}=KR(this._heartbeatsCache.heartbeats),a=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ji.warn(t),""}}}function sv(){return new Date().toISOString().substring(0,10)}function KR(n,e=HR){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),ov(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),ov(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class GR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $R(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ov(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){_o(new Us("platform-logger",e=>new lR(e),"PRIVATE")),_o(new Us("heartbeat",e=>new WR(e),"PRIVATE")),wi(Hf,nv,n),wi(Hf,nv,"esm2017"),wi("fire-js","")}QR("");var av=function(){return av=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},av.apply(this,arguments)};function Cp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function vL(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=y0,v0=new Zl("auth","Firebase",y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Sp("@firebase/auth");function XR(n,...e){Xc.logLevel<=Ze.WARN&&Xc.warn(`Auth (${Co}): ${n}`,...e)}function Oc(n,...e){Xc.logLevel<=Ze.ERROR&&Xc.error(`Auth (${Co}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(n,...e){throw Pp(n,...e)}function Ei(n,...e){return Pp(n,...e)}function _0(n,e,t){const r=Object.assign(Object.assign({},YR()),{[e]:t});return new Zl("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return _0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return v0.create(n,...e)}function Ue(n,e,...t){if(!n)throw Pp(e,...t)}function qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Oc(e),new Error(e)}function Zi(n,e){n||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JR(){return lv()==="http:"||lv()==="https:"}function lv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||xI()||"connection"in navigator)?navigator.onLine:!0}function eC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zi(t>e,"Short delay should be less than long delay!"),this.isMobile=PI()||bI()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){Zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new tu(3e4,6e4);function qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ws(n,e,t,r,s={}){return E0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=eu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return kI()||(m.referrerPolicy="no-referrer"),w0.fetch()(T0(n,n.config.apiHost,t,d),m)})}async function E0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tC),e);try{const s=new iC(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Tc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Tc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _0(n,v,m);Jr(n,v)}}catch(s){if(s instanceof Pi)throw s;Jr(n,"network-request-failed",{message:String(s)})}}async function nu(n,e,t,r,s={}){const a=await Ws(n,e,t,r,s);return"mfaPendingCredential"in a&&Jr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function T0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Ap(n.config,s):`${n.config.apiScheme}://${s}`}function rC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),nC.get())})}}function Tc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ei(n,e,r);return s.customData._tokenResponse=t,s}function uv(n){return n!==void 0&&n.enterprise!==void 0}class sC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oC(n,e){return Ws(n,"GET","/v2/recaptchaConfig",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e){return Ws(n,"POST","/v1/accounts:delete",e)}async function S0(n,e){return Ws(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lC(n,e=!1){const t=cn(n),r=await t.getIdToken(e),s=kp(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Nl(kf(s.auth_time)),issuedAtTime:Nl(kf(s.iat)),expirationTime:Nl(kf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kf(n){return Number(n)*1e3}function kp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=o0(t);return s?JSON.parse(s):(Oc("Failed to decode base64 JWT payload"),null)}catch(s){return Oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cv(n){const e=kp(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Pi&&uC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Bl(n,S0(t,{idToken:r}));Ue(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?I0(a.providerUserInfo):[],d=dC(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?m:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Gf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function hC(n){const e=cn(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function I0(n){return n.map(e=>{var{providerId:t}=e,r=Cp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e){const t=await E0(n,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=T0(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",w0.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pC(n,e){return Ws(n,"POST","/v2/accounts:revokeToken",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=cv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await fC(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ia;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lC(this,e)}reload(){return hC(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Bl(this,aC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,m,v;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,w=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:te,isAnonymous:M,providerData:oe,stsTokenManager:A}=t;Ue(X&&A,e,"internal-error");const R=Ia.fromJSON(this.name,A);Ue(typeof X=="string",e,"internal-error"),Rs(T,e.name),Rs(E,e.name),Ue(typeof te=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),Rs(w,e.name),Rs(C,e.name),Rs(N,e.name),Rs(b,e.name),Rs(j,e.name),Rs(Z,e.name);const P=new Wi({uid:X,auth:e,email:E,emailVerified:te,displayName:T,isAnonymous:M,photoURL:C,phoneNumber:w,tenantId:N,stsTokenManager:R,createdAt:j,lastLoginAt:Z});return oe&&Array.isArray(oe)&&(P.providerData=oe.map(D=>Object.assign({},D))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ia;s.updateFromServerResponse(t);const a=new Wi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?I0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Ia;d.updateFromIdToken(r);const f=new Wi({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;function Ki(n){Zi(n instanceof Function,"Expected a class definition");let e=hv.get(n);return e?(Zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R0.type="NONE";const dv=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Vc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Vc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ra(Ki(dv),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Ki(dv);const u=Vc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){const T=Wi._fromJSON(e,v);m!==a&&(d=T),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ra(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ra(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b0(e))return"Blackberry";if(D0(e))return"Webos";if(P0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C0(n=Dn()){return/firefox\//i.test(n)}function P0(n=Dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(n=Dn()){return/crios\//i.test(n)}function k0(n=Dn()){return/iemobile/i.test(n)}function x0(n=Dn()){return/android/i.test(n)}function b0(n=Dn()){return/blackberry/i.test(n)}function D0(n=Dn()){return/webos/i.test(n)}function xp(n=Dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mC(n=Dn()){var e;return xp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gC(){return DI()&&document.documentMode===10}function N0(n=Dn()){return xp(n)||x0(n)||D0(n)||b0(n)||/windows phone/i.test(n)||k0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n,e=[]){let t;switch(n){case"Browser":t=fv(Dn());break;case"Worker":t=`${fv(Dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e={}){return Ws(n,"GET","/v2/passwordPolicy",qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=6;class wC{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:_C,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new yC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ki(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await S0(this,{idToken:e}),r=await Wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Gi(this));const t=e?cn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vC(this),t=new wC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ki(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Po(n){return cn(n)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(n){Ih=n}function O0(n){return Ih.loadJS(n)}function SC(){return Ih.recaptchaEnterpriseScript}function IC(){return Ih.gapiScript}function RC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CC{constructor(){this.enterprise=new PC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AC="recaptcha-enterprise",V0="NO_RECAPTCHA";class kC{constructor(e){this.type=AC,this.auth=Po(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{oC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new sC(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;uv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(V0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&uv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=SC();f.length!==0&&(f+=d),O0(f).then(()=>{s(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function mv(n,e,t,r=!1,s=!1){const a=new kC(n);let u;if(s)u=V0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Qf(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mv(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n,e){const t=Sh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Qc(a,e??{}))return s;Jr(s,"already-initialized")}return t.initialize({options:e})}function bC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DC(n,e,t){const r=Po(n);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=M0(e),{host:u,port:d}=NC(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),LC()}function M0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NC(n){const e=M0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:gv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:gv(u)}}}function gv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function OC(n,e){return Ws(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,e){return nu(n,"POST","/v1/accounts:signInWithPassword",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))}async function UC(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends bp{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $l(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,t,"signInWithPassword",VC);case"emailLink":return MC(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",OC);case"emailLink":return UC(e,{idToken:t,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n,e){return nu(n,"POST","/v1/accounts:signInWithIdp",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class wo extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Cp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new wo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ca(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ca(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ca(e,t)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(n){const e=Pl(Al(n)).link,t=e?Pl(Al(e)).deep_link_id:null,r=Pl(Al(n)).deep_link_id;return(r?Pl(Al(r)).link:null)||r||t||e||n}class Dp{constructor(e){var t,r,s,a,u,d;const f=Pl(Al(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,T=jC((s=f.mode)!==null&&s!==void 0?s:null);Ue(m&&v&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=zC(e);try{return new Dp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dp.parseLink(t);return Ue(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ru{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ks.credential(t,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ru{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ru{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){return nu(n,"POST","/v1/accounts:signUp",qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Wi._fromIdTokenResponse(e,r,s),u=yv(r);return new Eo({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=yv(r);return new Eo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function yv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Pi{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Zc(e,t,r,s)}}function F0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(n,a,e,r):a})}async function $C(n,e,t=!1){const r=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,t=!1){const{auth:r}=n;if(gi(r.app))return Promise.reject(Gi(r));const s="reauthenticate";try{const a=await Bl(n,F0(r,s,e,n),t);Ue(a.idToken,r,"internal-error");const u=kp(a.idToken);Ue(u,r,"internal-error");const{sub:d}=u;return Ue(n.uid===d,r,"user-mismatch"),Eo._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(n,e,t=!1){if(gi(n.app))return Promise.reject(Gi(n));const r="signIn",s=await F0(n,r,e),a=await Eo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function qC(n,e){return j0(Po(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(n){const e=Po(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WC(n,e,t){if(gi(n.app))return Promise.reject(Gi(n));const r=Po(n),u=await Qf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&z0(n),f}),d=await Eo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function KC(n,e,t){return gi(n.app)?Promise.reject(Gi(n)):qC(cn(n),Va.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z0(n),r})}function GC(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function QC(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function B0(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function YC(n){return cn(n).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1e3,JC=10;class H0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);gC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}H0.type="LOCAL";const ZC=H0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}q0.type="SESSION";const W0=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await eP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Np("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(T){const E=T;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function nP(n){Ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function rP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sP(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",oP=1,th="firebaseLocalStorage",Q0="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ch(n,e){return n.transaction([th],e?"readwrite":"readonly").objectStore(th)}function aP(){const n=indexedDB.deleteDatabase(G0);return new iu(n).toPromise()}function Yf(){const n=indexedDB.open(G0,oP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(th,{keyPath:Q0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(th)?e(r):(r.close(),await aP(),e(await Yf()))})})}async function vv(n,e,t){const r=Ch(n,!0).put({[Q0]:e,value:t});return new iu(r).toPromise()}async function lP(n,e){const t=Ch(n,!1).get(e),r=await new iu(t).toPromise();return r===void 0?null:r.value}function _v(n,e){const t=Ch(n,!0).delete(e);return new iu(t).toPromise()}const uP=800,cP=3;class Y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yf();return await vv(e,eh,"1"),await _v(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_v(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ch(s,!1).getAll();return new iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y0.type="LOCAL";const hP=Y0;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n,e){return e?Ki(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fP(n){return j0(n.auth,new Lp(n),n.bypassAuthState)}function pP(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),HC(t,new Lp(n),n.bypassAuthState)}async function mP(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),$C(t,new Lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fP;case"linkViaPopup":case"linkViaRedirect":return mP;case"reauthViaPopup":case"reauthViaRedirect":return pP;default:Jr(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new tu(2e3,1e4);class Sa extends X0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gP.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="pendingRedirect",Mc=new Map;class vP extends X0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const r=await _P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _P(n,e){const t=TP(e),r=EP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function wP(n,e){Mc.set(n._key(),e)}function EP(n){return Ki(n._redirectPersistence)}function TP(n){return Vc(yP,n.config.apiKey,n.name)}async function SP(n,e,t=!1){if(gi(n.app))return Promise.reject(Gi(n));const r=Po(n),s=dP(r,e),u=await new vP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=10*60*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!J0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IP&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function J0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e={}){return Ws(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kP=/^https?/;async function xP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PP(n);for(const t of e)try{if(bP(t))return}catch{}Jr(n,"unauthorized-domain")}function bP(n){const e=Kf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!kP.test(t))return!1;if(AP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new tu(3e4,6e4);function Ev(){const n=Ti().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NP(n){return new Promise((e,t)=>{var r,s,a;function u(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),t(Ei(n,"network-request-failed"))},timeout:DP.get()})}if(!((s=(r=Ti().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ti().gapi)===null||a===void 0)&&a.load)u();else{const d=RC("iframefcb");return Ti()[d]=()=>{gapi.load?u():t(Ei(n,"network-request-failed"))},O0(`${IC()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function LP(n){return Uc=Uc||NP(n),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new tu(5e3,15e3),VP="__/auth/iframe",MP="emulator/auth/iframe",UP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jP(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,MP):`https://${n.config.authDomain}/${VP}`,r={apiKey:e.apiKey,appName:n.name,v:Co},s=FP.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${eu(r).slice(1)}`}async function zP(n){const e=await LP(n),t=Ti().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:jP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(n,"network-request-failed"),d=Ti().setTimeout(()=>{a(u)},OP.get());function f(){Ti().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$P=500,HP=600,qP="_blank",WP="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(n,e,t,r=$P,s=HP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},BP),{width:r.toString(),height:s.toString(),top:a,left:u}),m=Dn().toLowerCase();t&&(d=A0(m)?qP:t),C0(m)&&(e=e||WP,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[w,C])=>`${E}${w}=${C},`,"");if(mC(m)&&d!=="_self")return GP(e||"",d),new Tv(null);const T=window.open(e||"",d,v);Ue(T,n,"popup-blocked");try{T.focus()}catch{}return new Tv(T)}function GP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="__/auth/handler",YP="emulator/auth/handler",XP=encodeURIComponent("fac");async function Sv(n,e,t,r,s,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Co,eventId:s};if(e instanceof U0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",FI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))u[v]=T}if(e instanceof ru){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${XP}=${encodeURIComponent(f)}`:"";return`${JP(n)}?${eu(d).slice(1)}${m}`}function JP({config:n}){return n.emulator?Ap(n,YP):`https://${n.authDomain}/${QP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="webStorageSupport";class ZP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=SP,this._overrideRedirectResult=wP}async _openPopup(e,t,r,s){var a;Zi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Sv(e,t,r,Kf(),s);return KP(e,u,Np())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Sv(e,t,r,Kf(),s);return nP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await zP(e),r=new RP(e);return t.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xf,{type:xf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[xf];u!==void 0&&t(!!u),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return N0()||P0()||xp()}}const eA=ZP;var Iv="@firebase/auth",Rv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rA(n){_o(new Us("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L0(n)},m=new EC(r,s,a,f);return bC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_o(new Us("auth-internal",e=>{const t=Po(e.getProvider("auth").getImmediate());return(r=>new tA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Iv,Rv,nA(n)),wi(Iv,Rv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=5*60,sA=c0("authIdTokenMaxAge")||iA;let Cv=null;const oA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sA)return;const s=t==null?void 0:t.token;Cv!==s&&(Cv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aA(n=Rp()){const e=Sh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xC(n,{popupRedirectResolver:eA,persistence:[hP,ZC,W0]}),r=c0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=oA(a.toString());QC(t,u,()=>u(t.currentUser)),GC(t,d=>u(d))}}const s=a0("auth");return s&&DC(t,`http://${s}`),t}function lA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ei("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",lA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rA("Browser");var uA="firebase",cA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(uA,cA,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,Z0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function P(){}P.prototype=R.prototype,A.D=R.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(D,L,z){for(var x=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)x[Qe-2]=arguments[Qe];return R.prototype[L].apply(D,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,R,P){P||(P=0);var D=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)D[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)D[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=A.g[0],P=A.g[1],L=A.g[2];var z=A.g[3],x=R+(z^P&(L^z))+D[0]+3614090360&4294967295;R=P+(x<<7&4294967295|x>>>25),x=z+(L^R&(P^L))+D[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(P^z&(R^P))+D[2]+606105819&4294967295,L=z+(x<<17&4294967295|x>>>15),x=P+(R^L&(z^R))+D[3]+3250441966&4294967295,P=L+(x<<22&4294967295|x>>>10),x=R+(z^P&(L^z))+D[4]+4118548399&4294967295,R=P+(x<<7&4294967295|x>>>25),x=z+(L^R&(P^L))+D[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(P^z&(R^P))+D[6]+2821735955&4294967295,L=z+(x<<17&4294967295|x>>>15),x=P+(R^L&(z^R))+D[7]+4249261313&4294967295,P=L+(x<<22&4294967295|x>>>10),x=R+(z^P&(L^z))+D[8]+1770035416&4294967295,R=P+(x<<7&4294967295|x>>>25),x=z+(L^R&(P^L))+D[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(P^z&(R^P))+D[10]+4294925233&4294967295,L=z+(x<<17&4294967295|x>>>15),x=P+(R^L&(z^R))+D[11]+2304563134&4294967295,P=L+(x<<22&4294967295|x>>>10),x=R+(z^P&(L^z))+D[12]+1804603682&4294967295,R=P+(x<<7&4294967295|x>>>25),x=z+(L^R&(P^L))+D[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(P^z&(R^P))+D[14]+2792965006&4294967295,L=z+(x<<17&4294967295|x>>>15),x=P+(R^L&(z^R))+D[15]+1236535329&4294967295,P=L+(x<<22&4294967295|x>>>10),x=R+(L^z&(P^L))+D[1]+4129170786&4294967295,R=P+(x<<5&4294967295|x>>>27),x=z+(P^L&(R^P))+D[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^P&(z^R))+D[11]+643717713&4294967295,L=z+(x<<14&4294967295|x>>>18),x=P+(z^R&(L^z))+D[0]+3921069994&4294967295,P=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(P^L))+D[5]+3593408605&4294967295,R=P+(x<<5&4294967295|x>>>27),x=z+(P^L&(R^P))+D[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^P&(z^R))+D[15]+3634488961&4294967295,L=z+(x<<14&4294967295|x>>>18),x=P+(z^R&(L^z))+D[4]+3889429448&4294967295,P=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(P^L))+D[9]+568446438&4294967295,R=P+(x<<5&4294967295|x>>>27),x=z+(P^L&(R^P))+D[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^P&(z^R))+D[3]+4107603335&4294967295,L=z+(x<<14&4294967295|x>>>18),x=P+(z^R&(L^z))+D[8]+1163531501&4294967295,P=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(P^L))+D[13]+2850285829&4294967295,R=P+(x<<5&4294967295|x>>>27),x=z+(P^L&(R^P))+D[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^P&(z^R))+D[7]+1735328473&4294967295,L=z+(x<<14&4294967295|x>>>18),x=P+(z^R&(L^z))+D[12]+2368359562&4294967295,P=L+(x<<20&4294967295|x>>>12),x=R+(P^L^z)+D[5]+4294588738&4294967295,R=P+(x<<4&4294967295|x>>>28),x=z+(R^P^L)+D[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^P)+D[11]+1839030562&4294967295,L=z+(x<<16&4294967295|x>>>16),x=P+(L^z^R)+D[14]+4259657740&4294967295,P=L+(x<<23&4294967295|x>>>9),x=R+(P^L^z)+D[1]+2763975236&4294967295,R=P+(x<<4&4294967295|x>>>28),x=z+(R^P^L)+D[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^P)+D[7]+4139469664&4294967295,L=z+(x<<16&4294967295|x>>>16),x=P+(L^z^R)+D[10]+3200236656&4294967295,P=L+(x<<23&4294967295|x>>>9),x=R+(P^L^z)+D[13]+681279174&4294967295,R=P+(x<<4&4294967295|x>>>28),x=z+(R^P^L)+D[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^P)+D[3]+3572445317&4294967295,L=z+(x<<16&4294967295|x>>>16),x=P+(L^z^R)+D[6]+76029189&4294967295,P=L+(x<<23&4294967295|x>>>9),x=R+(P^L^z)+D[9]+3654602809&4294967295,R=P+(x<<4&4294967295|x>>>28),x=z+(R^P^L)+D[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^P)+D[15]+530742520&4294967295,L=z+(x<<16&4294967295|x>>>16),x=P+(L^z^R)+D[2]+3299628645&4294967295,P=L+(x<<23&4294967295|x>>>9),x=R+(L^(P|~z))+D[0]+4096336452&4294967295,R=P+(x<<6&4294967295|x>>>26),x=z+(P^(R|~L))+D[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~P))+D[14]+2878612391&4294967295,L=z+(x<<15&4294967295|x>>>17),x=P+(z^(L|~R))+D[5]+4237533241&4294967295,P=L+(x<<21&4294967295|x>>>11),x=R+(L^(P|~z))+D[12]+1700485571&4294967295,R=P+(x<<6&4294967295|x>>>26),x=z+(P^(R|~L))+D[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~P))+D[10]+4293915773&4294967295,L=z+(x<<15&4294967295|x>>>17),x=P+(z^(L|~R))+D[1]+2240044497&4294967295,P=L+(x<<21&4294967295|x>>>11),x=R+(L^(P|~z))+D[8]+1873313359&4294967295,R=P+(x<<6&4294967295|x>>>26),x=z+(P^(R|~L))+D[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~P))+D[6]+2734768916&4294967295,L=z+(x<<15&4294967295|x>>>17),x=P+(z^(L|~R))+D[13]+1309151649&4294967295,P=L+(x<<21&4294967295|x>>>11),x=R+(L^(P|~z))+D[4]+4149444226&4294967295,R=P+(x<<6&4294967295|x>>>26),x=z+(P^(R|~L))+D[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~P))+D[2]+718787259&4294967295,L=z+(x<<15&4294967295|x>>>17),x=P+(z^(L|~R))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+z&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var P=R-this.blockSize,D=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=P;)s(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<R;)if(D[L++]=A.charCodeAt(z++),L==this.blockSize){s(this,D),L=0;break}}else for(;z<R;)if(D[L++]=A[z++],L==this.blockSize){s(this,D),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var P=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=P&255,P/=256;for(this.u(A),A=Array(16),R=P=0;4>R;++R)for(var D=0;32>D;D+=8)A[P++]=this.g[R]>>>D&255;return A};function a(A,R){var P=d;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=R(A)}function u(A,R){this.h=R;for(var P=[],D=!0,L=A.length-1;0<=L;L--){var z=A[L]|0;D&&z==R||(P[L]=z,D=!1)}this.g=P}var d={};function f(A){return-128<=A&&128>A?a(A,function(R){return new u([R|0],0>R?-1:0)}):new u([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return b(m(-A));for(var R=[],P=1,D=0;A>=P;D++)R[D]=A/P|0,P*=4294967296;return new u(R,0)}function v(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return b(v(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(R,8)),D=T,L=0;L<A.length;L+=8){var z=Math.min(8,A.length-L),x=parseInt(A.substring(L,L+z),R);8>z?(z=m(Math.pow(R,z)),D=D.j(z).add(m(x))):(D=D.j(P),D=D.add(m(x)))}return D}var T=f(0),E=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-b(this).m();for(var A=0,R=1,P=0;P<this.g.length;P++){var D=this.i(P);A+=(0<=D?D:4294967296+D)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(N(this))return"-"+b(this).toString(A);for(var R=m(Math.pow(A,6)),P=this,D="";;){var L=te(P,R).g;P=j(P,L.j(R));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=L,C(P))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function N(A){return A.h==-1}n.l=function(A){return A=j(this,A),N(A)?-1:C(A)?0:1};function b(A){for(var R=A.g.length,P=[],D=0;D<R;D++)P[D]=~A.g[D];return new u(P,~A.h).add(E)}n.abs=function(){return N(this)?b(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0,L=0;L<=R;L++){var z=D+(this.i(L)&65535)+(A.i(L)&65535),x=(z>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);D=x>>>16,z&=65535,x&=65535,P[L]=x<<16|z}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(A,R){return A.add(b(R))}n.j=function(A){if(C(this)||C(A))return T;if(N(this))return N(A)?b(this).j(b(A)):b(b(this).j(A));if(N(A))return b(this.j(b(A)));if(0>this.l(w)&&0>A.l(w))return m(this.m()*A.m());for(var R=this.g.length+A.g.length,P=[],D=0;D<2*R;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<A.g.length;L++){var z=this.i(D)>>>16,x=this.i(D)&65535,Qe=A.i(L)>>>16,ze=A.i(L)&65535;P[2*D+2*L]+=x*ze,Z(P,2*D+2*L),P[2*D+2*L+1]+=z*ze,Z(P,2*D+2*L+1),P[2*D+2*L+1]+=x*Qe,Z(P,2*D+2*L+1),P[2*D+2*L+2]+=z*Qe,Z(P,2*D+2*L+2)}for(D=0;D<R;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=R;D<2*R;D++)P[D]=0;return new u(P,0)};function Z(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function X(A,R){this.g=A,this.h=R}function te(A,R){if(C(R))throw Error("division by zero");if(C(A))return new X(T,T);if(N(A))return R=te(b(A),R),new X(b(R.g),b(R.h));if(N(R))return R=te(A,b(R)),new X(b(R.g),R.h);if(30<A.g.length){if(N(A)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var P=E,D=R;0>=D.l(A);)P=M(P),D=M(D);var L=oe(P,1),z=oe(D,1);for(D=oe(D,2),P=oe(P,2);!C(D);){var x=z.add(D);0>=x.l(A)&&(L=L.add(P),z=x),D=oe(D,1),P=oe(P,1)}return R=j(A,L.j(R)),new X(L,R)}for(L=T;0<=A.l(R);){for(P=Math.max(1,Math.floor(A.m()/R.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=m(P),x=z.j(R);N(x)||0<x.l(A);)P-=D,z=m(P),x=z.j(R);C(z)&&(z=E),L=L.add(z),A=j(A,x)}return new X(L,A)}n.A=function(A){return te(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)&A.i(D);return new u(P,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)|A.i(D);return new u(P,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)^A.i(D);return new u(P,this.h^A.h)};function M(A){for(var R=A.g.length+1,P=[],D=0;D<R;D++)P[D]=A.i(D)<<1|A.i(D-1)>>>31;return new u(P,A.h)}function oe(A,R){var P=R>>5;R%=32;for(var D=A.g.length-P,L=[],z=0;z<D;z++)L[z]=0<R?A.i(z+P)>>>R|A.i(z+P+1)<<32-R:A.i(z+P);return new u(L,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,yo=u}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ew,kl,tw,Fc,Xf,nw,rw,iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var H=c[I];if(!(H in _))break e;_=_[H]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,H={next:function(){if(!I&&_<c.length){var J=_++;return{value:g(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function T(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,E.apply(null,arguments)}function w(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function C(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,H,J){for(var ge=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ge[yt-2]=arguments[yt];return g.prototype[H].apply(I,ge)}}function N(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function b(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const H=c.length||0,J=I.length||0;c.length=H+J;for(let ge=0;ge<J;ge++)c[H+ge]=I[ge]}else c.push(I)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var M=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function oe(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(_ in I)c[_]=I[_];for(let J=0;J<P.length;J++)_=P[J],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){d.setTimeout(()=>{throw c},0)}function x(){var c=ee;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Qe{constructor(){this.h=this.g=null}add(g,_){const I=ze.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var ze=new j(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Q=!1,ee=new Qe,re=()=>{const c=d.Promise.resolve(void 0);se=()=>{c.then(U)}};var U=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){z(_)}var g=ze;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Q=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function ve(c,g){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(M){e:{try{te(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:He[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}C(ve,ae);var He={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Me(c,g,_,I,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=H,this.key=++Xe,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,_,I,H){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ge=qt(c,g,I,H);return-1<ge?(g=c[ge],_||(g.fa=!1)):(g=new Me(g,this.src,J,!!I,H),g.fa=_,c.push(g)),g};function ei(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],H=Array.prototype.indexOf.call(I,g,void 0),J;(J=0<=H)&&Array.prototype.splice.call(I,H,1),J&&(ht(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function qt(c,g,_,I){for(var H=0;H<c.length;++H){var J=c[H];if(!J.da&&J.listener==g&&J.capture==!!_&&J.ha==I)return H}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),mr={};function ti(c,g,_,I,H){if(Array.isArray(g)){for(var J=0;J<g.length;J++)ti(c,g[J],_,I,H);return null}return _=Tn(_),c&&c[be]?c.K(g,_,m(I)?!!I.capture:!!I,H):ni(c,g,_,!1,I,H)}function ni(c,g,_,I,H,J){if(!g)throw Error("Invalid event type");var ge=m(H)?!!H.capture:!!H,yt=Vt(c);if(yt||(c[Pr]=yt=new en(c)),_=yt.add(g,_,I,ge,J),_.proxy)return _;if(I=Ar(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)ye||(H=ge),H===void 0&&(H=!1),c.addEventListener(g.toString(),I,H);else if(c.attachEvent)c.attachEvent(Wt(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ar(){function c(_){return g.call(c.src,c.listener,_)}const g=er;return c}function kr(c,g,_,I,H){if(Array.isArray(g))for(var J=0;J<g.length;J++)kr(c,g[J],_,I,H);else I=m(I)?!!I.capture:!!I,_=Tn(_),c&&c[be]?(c=c.i,g=String(g).toString(),g in c.g&&(J=c.g[g],_=qt(J,_,I,H),-1<_&&(ht(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[g],c.h--)))):c&&(c=Vt(c))&&(g=c.g[g.toString()],c=-1,g&&(c=qt(g,_,I,H)),(_=-1<c?g[c]:null)&&tn(_))}function tn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[be])ei(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Wt(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Vt(g))?(ei(_,c),_.h==0&&(_.src=null,g[Pr]=null)):ht(c)}}}function Wt(c){return c in mr?mr[c]:mr[c]="on"+c}function er(c,g){if(c.da)c=!0;else{g=new ve(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&tn(c),c=_.call(I,g)}return c}function Vt(c){return c=c[Pr],c instanceof en?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(g){return c.handleEvent(g)}),c[hn])}function dt(){W.call(this),this.i=new en(this),this.M=this,this.F=null}C(dt,W),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(c,g,_,I){kr(this,c,g,_,I)};function vt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ae(g,c);else if(g instanceof ae)g.target=g.target||c;else{var H=g;g=new ae(I,c),D(g,H)}if(H=!0,_)for(var J=_.length-1;0<=J;J--){var ge=g.g=_[J];H=Ln(ge,I,!0,g)&&H}if(ge=g.g=c,H=Ln(ge,I,!0,g)&&H,H=Ln(ge,I,!1,g)&&H,_)for(J=0;J<_.length;J++)ge=g.g=_[J],H=Ln(ge,I,!1,g)&&H}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)ht(_[I]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},dt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function Ln(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,J=0;J<g.length;++J){var ge=g[J];if(ge&&!ge.da&&ge.capture==_){var yt=ge.listener,Kt=ge.ha||ge.src;ge.fa&&ei(c.i,ge),H=yt.call(Kt,I)!==!1&&H}}return H&&!I.defaultPrevented}function xr(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function At(c){c.g=xr(()=>{c.g=null,c.i&&(c.i=!1,At(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tr extends W{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(c){W.call(this),this.h=c,this.g={}}C(On,W);var br=[];function Ai(c){oe(c.g,function(g,_){this.g.hasOwnProperty(_)&&tn(g)},c),c.g={}}On.prototype.N=function(){On.aa.N.call(this),Ai(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=d.JSON.stringify,nr=d.JSON.parse,ri=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Vn(){}Vn.prototype.h=null;function dn(c){return c.h||(c.h=c.i())}function Nr(){}var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){ae.call(this,"d")}C(We,ae);function Je(){ae.call(this,"c")}C(Je,ae);var _t={},nn=null;function Bn(){return nn=nn||new dt}_t.La="serverreachability";function O(c){ae.call(this,_t.La,c)}C(O,ae);function B(c){const g=Bn();vt(g,new O(g))}_t.STAT_EVENT="statevent";function Y(c,g){ae.call(this,_t.STAT_EVENT,c),this.stat=g}C(Y,ae);function ne(c){const g=Bn();vt(g,new Y(g,c))}_t.Ma="timingevent";function _e(c,g){ae.call(this,_t.Ma,c),this.size=g}C(_e,ae);function Se(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function we(c,g,_,I,H,J){c.info(function(){if(c.g)if(J)for(var ge="",yt=J.split("&"),Kt=0;Kt<yt.length;Kt++){var ot=yt[Kt].split("=");if(1<ot.length){var rn=ot[0];ot=ot[1];var Bt=rn.split("_");ge=2<=Bt.length&&Bt[1]=="type"?ge+(rn+"="+ot+"&"):ge+(rn+"=redacted&")}}else ge=null;else ge=J;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+g+`
`+_+`
`+ge})}function Re(c,g,_,I,H,J,ge){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+g+`
`+_+`
`+J+" "+ge})}function me(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ke(c,_)+(I?" "+I:"")})}function Ve(c,g){c.info(function(){return"TIMEOUT: "+g})}De.prototype.info=function(){};function Ke(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return Dr(_)}catch{return g}}var ft={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function lt(){}C(lt,Vn),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},nt=new lt;function pt(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}var Or={},Sn={};function fn(c,g,_){c.L=1,c.v=os(rr(g)),c.m=_,c.P=!0,ki(c,null)}function ki(c,g){c.F=Date.now(),mt(c),c.A=rr(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ls(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Lr,c.g=Iu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new tr(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(br[0]=H.toString()),H=br);for(var J=0;J<H.length;J++){var ge=ti(_,H[J],I||g.handleEvent,!1,g.h||g);if(!ge)break;g.g[ge.key]=ge}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),B(),we(c.i,c.u,c.A,c.l,c.R,c.m)}pt.prototype.ca=function(c){c=c.target;const g=this.M;g&&qn(c)==3?g.j():this.Y(c)},pt.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=qn(this.g);var g=this.g.Ba();const yr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||Bt!=4||g==7||(g==8||0>=yr?B(3):B(2)),st(this);var _=this.g.Z();this.X=_;t:if(ii(this)){var I=Wa(this.g);c="";var H=I.length,J=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Tt(this);var ge="";break t}this.h.i=new d.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(J&&g==H-1)});I.length=0,this.h.g+=c,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,Re(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,Kt=this.g;if((yt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(yt)){var ot=yt;break t}}ot=null}if(_=ot)me(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,_);else{this.o=!1,this.s=3,ne(12),pn(this),Tt(this);break e}}if(this.P){_=!0;let sr;for(;!this.J&&this.C<ge.length;)if(sr=Vr(this,ge),sr==Sn){Bt==4&&(this.s=4,ne(14),_=!1),me(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Or){this.s=4,ne(15),me(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else me(this.i,this.l,sr,null),Mr(this,sr);if(ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ge.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)me(this.i,this.l,ge,"[Invalid Chunked Response]"),pn(this),Tt(this);else if(0<ge.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ga(rn),rn.M=!0,ne(11))}}else me(this.i,this.l,ge,null),Mr(this,ge);Bt==4&&pn(this),this.o&&!this.J&&(Bt==4?$o(this.j,this):(this.o=!1,mt(this)))}else Uo(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),pn(this),Tt(this)}}}catch{}finally{}};function ii(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vr(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Sn:(_=Number(g.substring(_,I)),isNaN(_)?Or:(I+=1,I+_>g.length?Sn:(g=g.slice(I,I+_),c.C=I+_,g)))}pt.prototype.cancel=function(){this.J=!0,pn(this)};function mt(c){c.S=Date.now()+c.I,xi(c,c.I)}function xi(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Se(E(c.ba,c),g)}function st(c){c.B&&(d.clearTimeout(c.B),c.B=null)}pt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ve(this.i,this.A),this.L!=2&&(B(),ne(17)),pn(this),this.s=2,Tt(this)):xi(this,this.S-c)};function Tt(c){c.j.G==0||c.J||$o(c.j,c)}function pn(c){st(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ai(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Mr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Mn(_.h,c))){if(!c.K&&Mn(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Bo(_),Br(_);else break e;zo(_),ne(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Se(E(_.Za,_),6e3));if(1>=Do(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&Bo(_),!Z(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let ot=H[g];if(_.T=ot[0],ot=ot[1],_.G==2)if(ot[0]=="c"){_.K=ot[1],_.ia=ot[2];const rn=ot[3];rn!=null&&(_.la=rn,_.j.info("VER="+_.la));const Bt=ot[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const yr=ot[5];yr!=null&&typeof yr=="number"&&0<yr&&(I=1.5*yr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const sr=c.g;if(sr){const Js=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var J=I.h;J.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ba(J,J.h),J.h=null))}if(I.D){const qo=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(I.ya=qo,wt(I.I,I.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ge=c;if(I.qa=Su(I,I.J?I.ia:null,I.W),ge.K){hu(I.h,ge);var yt=ge,Kt=I.L;Kt&&(yt.I=Kt),yt.B&&(st(yt),mt(yt)),I.g=ge}else Xs(I);0<_.i.length&&li(_)}else ot[0]!="stop"&&ot[0]!="close"||Oi(_,7);else _.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Oi(_,7):gn(_):ot[0]!="noop"&&_.l&&_.l.ta(ot),_.v=0)}}B(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function $n(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Do(c){return c.h?1:c.g?c.g.size:0}function Mn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ba(c,g){c.g?c.g.add(g):c.h=g}function hu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}$n.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return N(c.i)}function No(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Lo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function rs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Lo(c),I=No(c),H=I.length,J=0;J<H;J++)g.call(void 0,I[J],_&&_[J],c)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),H=null;if(0<=I){var J=c[_].substring(0,I);H=c[_].substring(I+1)}else J=c[_];g(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bi){this.h=c.h,Gs(this,c.j),this.o=c.o,this.g=c.g,is(this,c.s),this.l=c.l;var g=c.i,_=new si;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ss(this,_),this.m=c.m}else c&&(g=String(c).match(Ks))?(this.h=!1,Gs(this,g[1]||"",!0),this.o=rt(g[2]||""),this.g=rt(g[3]||"",!0),is(this,g[4]),this.l=rt(g[5]||"",!0),ss(this,g[6]||"",!0),this.m=rt(g[7]||"")):(this.h=!1,this.i=new si(null,this.h))}bi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(as(g,Oo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(as(g,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(as(_,_.charAt(0)=="/"?mu:pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",as(_,$a)),c.join("")};function rr(c){return new bi(c)}function Gs(c,g,_){c.j=_?rt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function is(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ss(c,g,_){g instanceof si?(c.i=g,oi(c.i,c.h)):(_||(g=as(g,gu)),c.i=new si(g,c.h))}function wt(c,g,_){c.i.set(g,_)}function os(c){return wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function as(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,pu=/[#\?:]/g,mu=/[#\?]/g,gu=/[#\?@]/g,$a=/#/g;function si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=si.prototype,n.add=function(c,g){mn(this),this.i=null,c=gr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ur(c,g){mn(c),g=gr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fr(c,g){return mn(c),g=gr(c,g),c.g.has(g)}n.forEach=function(c,g){mn(this),this.g.forEach(function(_,I){_.forEach(function(H){c.call(g,H,I,this)},this)},this)},n.na=function(){mn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const H=c[I];for(let J=0;J<H.length;J++)_.push(g[I])}return _},n.V=function(c){mn(this);let g=[];if(typeof c=="string")Fr(this,c)&&(g=g.concat(this.g.get(gr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return mn(this),this.i=null,c=gr(this,c),Fr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ls(c,g,_){Ur(c,g),0<_.length&&(c.i=null,c.g.set(gr(c,g),N(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const J=encodeURIComponent(String(I)),ge=this.V(I);for(I=0;I<ge.length;I++){var H=J;ge[I]!==""&&(H+="="+encodeURIComponent(String(ge[I]))),c.push(H)}}return this.i=c.join("&")};function gr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function oi(c,g){g&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(_,I){var H=I.toLowerCase();I!=H&&(Ur(this,I),ls(this,H,_))},c)),c.j=g}function qh(c,g){const _=new De;if(d.Image){const I=new Image;I.onload=w(Hn,_,"TestLoadImage: loaded",!0,g,I),I.onerror=w(Hn,_,"TestLoadImage: error",!1,g,I),I.onabort=w(Hn,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=w(Hn,_,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function yu(c,g){const _=new De,I=new AbortController,H=setTimeout(()=>{I.abort(),Hn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(H),J.ok?Hn(_,"TestPingServer: ok",!0,g):Hn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Hn(_,"TestPingServer: error",!1,g)})}function Hn(c,g,_,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(_)}catch{}}function Wh(){this.g=new ri}function vu(c,g,_){const I=_||"";try{rs(c,function(H,J){let ge=H;m(H)&&(ge=Dr(H)),g.push(I+J+"="+encodeURIComponent(ge))})}catch(H){throw g.push(I+"type="+encodeURIComponent("_badmap")),H}}function Di(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Di,Vn),Di.prototype.g=function(){return new Qs(this.l,this.j)},Di.prototype.i=function(c){return function(){return c}}({});function Qs(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Qs,dt),n=Qs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?jr(this):zr(this),this.readyState==3&&_u(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jr(this))},n.Qa=function(c){this.g&&(this.response=c,jr(this))},n.ga=function(){this.g&&jr(this)};function jr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ni(c){let g="";return oe(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function us(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Ni(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):wt(c,g,_))}function kt(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(kt,dt);var Kh=/^https?$/i,Ha=["POST","PUT"];n=kt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?dn(this.o):dn(nt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(J){Ys(this,J);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)_.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())_.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ha,g,void 0))||I||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of _)this.g.setRequestHeader(J,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Ys(this,J)}};function Ys(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Vo(c),ir(c)}function Vo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),ir(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)xr(c.Ea,0,c);else if(vt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const ge=c.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ge===0){var H=String(c.D).match(Ks)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),I=!Kh.test(H?H.toLowerCase():"")}_=I}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var J=2<qn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Vo(c)}}finally{ir(c)}}}}function ir(c,g){if(c.g){Mo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Mo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),nr(g)}};function Wa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uo(c){const g={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Z(c[I]))continue;var _=L(c[I]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=g[H]||[];g[H]=J,J.push(_)}A(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ka(c){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,c),this.cb=ai("retryDelaySeedMs",1e4,c),this.Wa=ai("forwardChannelMaxRetries",2,c),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $n(c&&c.concurrentRequestLimit),this.Da=new Wh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){ne(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Su(this,null,this.W),li(this)};function gn(c){if(Fo(c),c.G==3){var g=c.U++,_=rr(c.I);if(wt(_,"SID",c.K),wt(_,"RID",g),wt(_,"TYPE","terminate"),Li(c,_),g=new pt(c,c.j,g),g.L=2,g.v=os(rr(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mt(g)}Tu(c)}function Br(c){c.g&&(Ga(c),c.g.cancel(),c.g=null)}function Fo(c){Br(c),c.u&&(d.clearTimeout(c.u),c.u=null),Bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function li(c){if(!In(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||re(),Q||(se(),Q=!0),ee.add(g,c),c.B=0}}function Gh(c,g){return Do(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Se(E(c.Ga,c,g),Eu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new pt(this,this.j,c);let J=this.o;if(this.S&&(J?(J=R(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=cs(this,H,g),_=rr(this.I),wt(_,"RID",c),wt(_,"CVER",22),this.D&&wt(_,"X-HTTP-Session-Id",this.D),Li(this,_),J&&(this.O?g="headers="+encodeURIComponent(String(Ni(J)))+"&"+g:this.m&&us(_,this.m,J)),Ba(this.h,H),this.Ua&&wt(_,"TYPE","init"),this.P?(wt(_,"$req",g),wt(_,"SID","null"),H.T=!0,fn(H,_,null)):fn(H,_,g),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||In(this.h)||jo(this))};function jo(c,g){var _;g?_=g.l:_=c.U++;const I=rr(c.I);wt(I,"SID",c.K),wt(I,"RID",_),wt(I,"AID",c.T),Li(c,I),c.m&&c.o&&us(I,c.m,c.o),_=new pt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=cs(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ba(c.h,_),fn(_,I,g)}function Li(c,g){c.H&&oe(c.H,function(_,I){wt(g,I,_)}),c.l&&rs({},function(_,I){wt(g,I,_)})}function cs(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let J=-1;for(;;){const ge=["count="+_];J==-1?0<_?(J=H[0].g,ge.push("ofs="+J)):J=0:ge.push("ofs="+J);let yt=!0;for(let Kt=0;Kt<_;Kt++){let ot=H[Kt].g;const rn=H[Kt].map;if(ot-=J,0>ot)J=Math.max(0,H[Kt].g-100),yt=!1;else try{vu(rn,ge,"req"+ot+"_")}catch{I&&I(rn)}}if(yt){I=ge.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Xs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||re(),Q||(se(),Q=!0),ee.add(g,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Se(E(c.Fa,c),Eu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Se(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Br(this),wu(this))};function Ga(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new pt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=rr(c.qa);wt(g,"RID","rpc"),wt(g,"SID",c.K),wt(g,"AID",c.T),wt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&wt(g,"TO",c.ja),wt(g,"TYPE","xmlhttp"),Li(c,g),c.m&&c.o&&us(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=os(rr(g)),_.m=null,_.P=!0,ki(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Br(this),zo(this),ne(19))};function Bo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function $o(c,g){var _=null;if(c.g==g){Bo(c),Ga(c),c.g=null;var I=2}else if(Mn(c.h,g))_=g.D,hu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;I=Bn(),vt(I,new _e(I,_)),li(c)}else Xs(c);else if(H=g.s,H==3||H==0&&0<g.X||!(I==1&&Gh(c,g)||I==2&&zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Eu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const H=!I;I=new bi(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gs(I,"https"),os(I),H?qh(I.toString(),_):yu(I.toString(),_)}else ne(2);c.G=0,c.l&&c.l.sa(g),Tu(c),Fo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Tu(c){if(c.G=0,c.ka=[],c.l){const g=du(c.h);(g.length!=0||c.i.length!=0)&&(b(c.ka,g),b(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Su(c,g,_){var I=_ instanceof bi?rr(_):new bi(_);if(I.g!="")g&&(I.g=g+"."+I.g),is(I,I.s);else{var H=d.location;I=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var J=new bi(null);I&&Gs(J,I),g&&(J.g=g),H&&is(J,H),_&&(J.l=_),I=J}return _=c.D,g=c.ya,_&&g&&wt(I,_,g),wt(I,"VER",c.la),Li(c,I),I}function Iu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new kt(new Di({eb:_})):new kt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}n=Qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ho(){}Ho.prototype.g=function(c,g){return new Un(c,g)};function Un(c,g){dt.call(this),this.g=new Ka(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ui(this)}C(Un,dt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){gn(this.g)},Un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Dr(c),c=_);g.i.push(new St(g.Ya++,c)),g.G==3&&li(g)},Un.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Un.aa.N.call(this)};function Ru(c){We.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Ru,We);function Cu(){Je.call(this),this.status=1}C(Cu,Je);function ui(c){this.g=c}C(ui,Qa),ui.prototype.ua=function(){vt(this.g,"a")},ui.prototype.ta=function(c){vt(this.g,new Ru(c))},ui.prototype.sa=function(c){vt(this.g,new Cu)},ui.prototype.ra=function(){vt(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,iw=function(){return new Ho},rw=function(){return Bn()},nw=_t,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Fc=ft,Mt.COMPLETE="complete",tw=Mt,Nr.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",dt.prototype.listen=dt.prototype.K,kl=Nr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,ew=kt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Sp("@firebase/firestore");function va(){return To.logLevel}function Te(n,...e){if(To.logLevel<=Ze.DEBUG){const t=e.map(Op);To.debug(`Firestore (${Ma}): ${n}`,...t)}}function es(n,...e){if(To.logLevel<=Ze.ERROR){const t=e.map(Op);To.error(`Firestore (${Ma}): ${n}`,...t)}}function Aa(n,...e){if(To.logLevel<=Ze.WARN){const t=e.map(Op);To.warn(`Firestore (${Ma}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+n;throw es(e),new Error(e)}function gt(n,e){n||je()}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xn.UNAUTHENTICATED))}shutdown(){}}class dA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fA{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new sw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new xn(e)}}class pA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){gt(this.o===void 0);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string"),this.R=t.token,new gA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=vA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function it(n,e){return n<e?-1:n>e?1:0}function ka(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Jt(0,0))}static max(){return new $e(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(),r===void 0?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bt extends Hl{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Hl{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(bt.fromString(e))}static fromName(e){return new Oe(bt.fromString(e).popFirst(5))}static empty(){return new Oe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new bt(e.slice()))}}function wA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new Fs(s,Oe.empty(),e)}function EA(n){return new Fs(n.readTime,n.key,-1)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs($e.min(),Oe.empty(),-1)}static max(){return new Fs($e.max(),Oe.empty(),-1)}}function TA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==SA)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new ie((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function RA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ph.oe=-1;function Ah(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function CA(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kv(e)),e=AA(n.get(t),e);return kv(e)}function AA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function kv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=a??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new _n(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,r,s,a){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Yr([])}unionWith(e){let t=new Zt(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lw("Invalid base64 string: "+a):a}}(e);return new En(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const kA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(n){if(gt(!!n),typeof n=="string"){let e=0;const t=kA.exec(n);if(gt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function kh(n){const e=n.mapValue.fields.__previous_value__;return Vp(e)?kh(e):e}function ql(n){const e=js(n.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t,r,s,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vp(n)?4:DA(n)?9007199254740991:bA(n)?10:11:je()}function Ri(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=js(s.timestampValue),d=js(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return zs(s.bytesValue).isEqual(zs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return zt(s.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return zt(s.integerValue)===zt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=zt(s.doubleValue),d=zt(a.doubleValue);return u===d?nh(u)===nh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(xv(u)!==xv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ri(u[f],d[f])))return!1;return!0}(n,e);default:return je()}}function Kl(n,e){return(n.values||[]).find(t=>Ri(t,e))!==void 0}function xa(n,e){if(n===e)return 0;const t=Bs(n),r=Bs(e);if(t!==r)return it(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=zt(a.integerValue||a.doubleValue),f=zt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Dv(n.timestampValue,e.timestampValue);case 4:return Dv(ql(n),ql(e));case 5:return it(n.stringValue,e.stringValue);case 6:return function(a,u){const d=zs(a),f=zs(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=it(d[m],f[m]);if(v!==0)return v}return it(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=it(zt(a.latitude),zt(u.latitude));return d!==0?d:it(zt(a.longitude),zt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Nv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,v;const T=a.fields||{},E=u.fields||{},w=(d=T.value)===null||d===void 0?void 0:d.arrayValue,C=(f=E.value)===null||f===void 0?void 0:f.arrayValue,N=it(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:Nv(w,C)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Rc.mapValue&&u===Rc.mapValue)return 0;if(a===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const E=it(f[T],v[T]);if(E!==0)return E;const w=xa(d[f[T]],m[v[T]]);if(w!==0)return w}return it(f.length,v.length)}(n.mapValue,e.mapValue);default:throw je()}}function Dv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=js(n),r=js(e),s=it(t.seconds,r.seconds);return s!==0?s:it(t.nanos,r.nanos)}function Nv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=xa(t[s],r[s]);if(a)return a}return it(t.length,r.length)}function ba(n){return Jf(n)}function Jf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=js(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Jf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Jf(t.fields[u])}`;return s+"}"}(n.mapValue):je()}function jc(n){switch(Bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(n);return e?16+jc(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+jc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ao(r.fields,(a,u)=>{s+=a.length+jc(u)}),s}(n.mapValue);default:throw je()}}function Zf(n){return!!n&&"integerValue"in n}function Mp(n){return!!n&&"arrayValue"in n}function Lv(n){return!!n&&"nullValue"in n}function Ov(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zc(n){return!!n&&"mapValue"in n}function bA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ll(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=wn.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ll(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];zc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ao(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Rr(Ll(this.value))}}function uw(n){const e=[];return Ao(n.fields,(t,r)=>{const s=new wn([t]);if(zc(r)){const a=uw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,$e.min(),$e.min(),$e.min(),Rr.empty(),0)}static newFoundDocument(e,t,r,s){return new bn(e,1,t,$e.min(),r,s,0)}static newNoDocument(e,t){return new bn(e,2,t,$e.min(),$e.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,$e.min(),$e.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function Vv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Oe.comparator(Oe.fromName(u.referenceValue),t.key):r=xa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function NA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class Xt extends cw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OA(e,t,r):t==="array-contains"?new UA(e,r):t==="in"?new FA(e,r):t==="not-in"?new jA(e,r):t==="array-contains-any"?new zA(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new VA(e,r):new MA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xa(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends cw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ci(e,t)}matches(e){return hw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hw(n){return n.op==="and"}function dw(n){return LA(n)&&hw(n)}function LA(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function ep(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+ba(n.value);if(dw(n))return n.filters.map(e=>ep(e)).join(",");{const e=n.filters.map(t=>ep(t)).join(",");return`${n.op}(${e})`}}function fw(n,e){return n instanceof Xt?function(r,s){return s instanceof Xt&&r.op===s.op&&r.field.isEqual(s.field)&&Ri(r.value,s.value)}(n,e):n instanceof Ci?function(r,s){return s instanceof Ci&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&fw(u,s.filters[d]),!0):!1}(n,e):void je()}function pw(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${ba(t.value)}`}(n):n instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(pw).join(" ,")+"}"}(n):"Filter"}class OA extends Xt{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class VA extends Xt{constructor(e,t){super(e,"in",t),this.keys=mw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MA extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=mw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class UA extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&Kl(t.arrayValue,this.value)}}class FA extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Kl(this.value.arrayValue,t)}}class jA extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Kl(this.value.arrayValue,t)}}class zA extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function Uv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new BA(n,e,t,r,s,a,u)}function Up(n){const e=qe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ep(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ba(r)).join(",")),e.ue=t}return e.ue}function Fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mv(n.startAt,e.startAt)&&Mv(n.endAt,e.endAt)}function tp(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $A(n,e,t,r,s,a,u,d){return new xh(n,e,t,r,s,a,u,d)}function jp(n){return new xh(n)}function Fv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HA(n){return n.collectionGroup!==null}function Ol(n){const e=qe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Zt(wn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ih(a,r))}),t.has(wn.keyField().canonicalString())||e.ce.push(new ih(wn.keyField(),r))}return e.ce}function Si(n){const e=qe(n);return e.le||(e.le=qA(e,Ol(n))),e.le}function qA(n,e){if(n.limitType==="F")return Uv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new ih(s.field,a)});const t=n.endAt?new rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rh(n.startAt.position,n.startAt.inclusive):null;return Uv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function np(n,e,t){return new xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return Fp(Si(n),Si(e))&&n.limitType===e.limitType}function gw(n){return`${Up(Si(n))}|lt:${n.limitType}`}function _a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>pw(s)).join(", ")}]`),Ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ba(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ba(s)).join(",")),`Target(${r})`}(Si(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ol(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const m=Vv(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Ol(r),s)||r.endAt&&!function(u,d,f){const m=Vv(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Ol(r),s))}(n,e)}function WA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yw(n){return(e,t)=>{let r=!1;for(const s of Ol(n)){const a=KA(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function KA(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?xa(f,m):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Lt(Oe.comparator);function ts(){return GA}const vw=new Lt(Oe.comparator);function xl(...n){let e=vw;for(const t of n)e=e.insert(t.key,t);return e}function _w(n){let e=vw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return Vl()}function ww(){return Vl()}function Vl(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const QA=new Lt(Oe.comparator),YA=new Zt(Oe.comparator);function tt(...n){let e=YA;for(const t of n)e=e.add(t);return e}const XA=new Zt(it);function JA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function Ew(n){return{integerValue:""+n}}function ZA(n,e){return CA(e)?Ew(e):zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function ek(n,e,t){return n instanceof sh?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Vp(a)&&(a=kh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Gl?Sw(n,e):n instanceof Ql?Iw(n,e):function(s,a){const u=Tw(s,a),d=jv(u)+jv(s.Pe);return Zf(u)&&Zf(s.Pe)?Ew(d):zp(s.serializer,d)}(n,e)}function tk(n,e,t){return n instanceof Gl?Sw(n,e):n instanceof Ql?Iw(n,e):t}function Tw(n,e){return n instanceof oh?function(r){return Zf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class sh extends Nh{}class Gl extends Nh{constructor(e){super(),this.elements=e}}function Sw(n,e){const t=Rw(e);for(const r of n.elements)t.some(s=>Ri(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends Nh{constructor(e){super(),this.elements=e}}function Iw(n,e){let t=Rw(e);for(const r of n.elements)t=t.filter(s=>!Ri(s,r));return{arrayValue:{values:t}}}class oh extends Nh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jv(n){return zt(n.integerValue||n.doubleValue)}function Rw(n){return Mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Gl&&s instanceof Gl||r instanceof Ql&&s instanceof Ql?ka(r.elements,s.elements,Ri):r instanceof oh&&s instanceof oh?Ri(r.Pe,s.Pe):r instanceof sh&&s instanceof sh}(n.transform,e.transform)}class rk{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lh{}function Cw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Aw(n.key,Yi.none()):new su(n.key,n.data,Yi.none());{const t=n.data,r=Rr.empty();let s=new Zt(wn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new xo(n.key,r,new Yr(s.toArray()),Yi.none())}}function ik(n,e,t){n instanceof su?function(s,a,u){const d=s.value.clone(),f=Bv(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xo?function(s,a,u){if(!Bc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Bv(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Pw(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,r){return n instanceof su?function(a,u,d,f){if(!Bc(a.precondition,u))return d;const m=a.value.clone(),v=$v(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof xo?function(a,u,d,f){if(!Bc(a.precondition,u))return d;const m=$v(a.fieldTransforms,f,u),v=u.data;return v.setAll(Pw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,r):function(a,u,d){return Bc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function sk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Tw(r.transform,s||null);a!=null&&(t===null&&(t=Rr.empty()),t.set(r.field,a))}return t||null}function zv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ka(r,s,(a,u)=>nk(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends Lh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends Lh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Bv(n,e,t){const r=new Map;gt(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,tk(u,d,t[s]))}return r}function $v(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,ek(a,u,e))}return r}class Aw extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&ik(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ww();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=Cw(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,r)=>zv(t,r))&&ka(this.baseMutations,e.baseMutations,(t,r)=>zv(t,r))}}class Bp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gt(e.mutations.length===r.length);let s=function(){return QA}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Bp(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,at;function ck(n){switch(n){default:return je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function kw(n){if(n===void 0)return es("GRPC error has no .code"),he.UNKNOWN;switch(n){case Ht.OK:return he.OK;case Ht.CANCELLED:return he.CANCELLED;case Ht.UNKNOWN:return he.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return he.INTERNAL;case Ht.UNAVAILABLE:return he.UNAVAILABLE;case Ht.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ht.NOT_FOUND:return he.NOT_FOUND;case Ht.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ht.ABORTED:return he.ABORTED;case Ht.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ht.DATA_LOSS:return he.DATA_LOSS;default:return je()}}(at=Ht||(Ht={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new yo([4294967295,4294967295],0);function Hv(n){const e=hk().encode(n),t=new Z0;return t.update(e),new Uint8Array(t.digest())}function qv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([t,r],0),new yo([s,a],0)]}class $p{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=yo.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(yo.fromNumber(r)));return s.compare(dk)===1&&(s=new yo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Hv(e),[r,s]=qv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new $p(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=Hv(e),[r,s]=qv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Oh($e.min(),s,new Lt(it),ts(),tt())}}class ou{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ou(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class xw{constructor(e,t){this.targetId=e,this.me=t}}class bw{constructor(e,t,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Wv{constructor(){this.fe=0,this.ge=Kv(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),t=tt(),r=tt();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je()}}),new ou(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Kv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ts(),this.qe=Cc(),this.Qe=Cc(),this.Ke=new Lt(it)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(tp(a))if(r===0){const u=new Oe(a.path);this.We(t,u,bn.newNoDocument(u,$e.min()))}else gt(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=zs(r).toUint8Array()}catch(f){if(f instanceof lw)return Aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new $p(u,s,a)}catch(f){return Aa(f instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&tp(d.target)){const f=new Oe(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,bn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=tt();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Oh(e,t,this.Ke,this.ke,r);return this.ke=ts(),this.qe=Cc(),this.Qe=Cc(),this.Ke=new Lt(it),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Wv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Zt(it),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(it),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cc(){return new Lt(Oe.comparator)}function Kv(){return new Lt(Oe.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(n,e){return n.useProto3Json||Ah(e)?e:{value:e}}function ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vk(n,e){return ah(n,e.toTimestamp())}function Ii(n){return gt(!!n),$e.fromTimestamp(function(t){const r=js(t);return new Jt(r.seconds,r.nanos)}(n))}function Hp(n,e){return ip(n,e).canonicalString()}function ip(n,e){const t=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Nw(n){const e=bt.fromString(n);return gt(Uw(e)),e}function sp(n,e){return Hp(n.databaseId,e.path)}function bf(n,e){const t=Nw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(Ow(t))}function Lw(n,e){return Hp(n.databaseId,e)}function _k(n){const e=Nw(n);return e.length===4?bt.emptyPath():Ow(e)}function op(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ow(n){return gt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Gv(n,e,t){return{name:sp(n,e),fields:t.value.mapValue.fields}}function wk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(gt(v===void 0||typeof v=="string"),En.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),En.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?he.UNKNOWN:kw(m.code);return new xe(v,m.message||"")}(u);t=new bw(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bf(n,r.document.name),a=Ii(r.document.updateTime),u=r.document.createTime?Ii(r.document.createTime):$e.min(),d=new Rr({mapValue:{fields:r.document.fields}}),f=bn.newFoundDocument(s,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new $c(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bf(n,r.document),a=r.readTime?Ii(r.readTime):$e.min(),u=bn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new $c([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bf(n,r.document),a=r.removedTargetIds||[];t=new $c([],a,s,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new uk(s,a),d=r.targetId;t=new xw(d,u)}}return t}function Ek(n,e){let t;if(e instanceof su)t={update:Gv(n,e.key,e.value)};else if(e instanceof Aw)t={delete:sp(n,e.key)};else if(e instanceof xo)t={update:Gv(n,e.key,e.data),updateMask:xk(e.fieldMask)};else{if(!(e instanceof ok))return je();t={verify:sp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof oh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:vk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je()}(n,e.precondition)),t}function Tk(n,e){return n&&n.length>0?(gt(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Ii(s.updateTime):Ii(a);return u.isEqual($e.min())&&(u=Ii(a)),new rk(u,s.transformResults||[])}(t,e))):[]}function Sk(n,e){return{documents:[Lw(n,e.path)]}}function Ik(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lw(n,s);const a=function(m){if(m.length!==0)return Mw(Ci.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:wa(E.field),direction:Pk(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=rp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:s}}function Rk(n){let e=_k(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gt(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(T){const E=Vw(T);return E instanceof Ci&&dw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(E=>function(C){return new ih(Ea(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(T){let E;return E=typeof T=="object"?T.value:T,Ah(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(T){const E=!!T.before,w=T.values||[];return new rh(w,E)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const E=!T.before,w=T.values||[];return new rh(w,E)}(t.endAt)),$A(e,s,u,a,d,"F",f,m)}function Ck(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ea(t.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ea(t.unaryFilter.field);return Xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ea(t.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ea(t.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(Ea(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ci.create(t.compositeFilter.filters.map(r=>Vw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function Pk(n){return pk[n]}function Ak(n){return mk[n]}function kk(n){return gk[n]}function wa(n){return{fieldPath:n.canonicalString()}}function Ea(n){return wn.fromServerFormat(n.fieldPath)}function Mw(n){return n instanceof Xt?function(t){if(t.op==="=="){if(Ov(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(Lv(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ov(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(Lv(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:Ak(t.op),value:t.value}}}(n):n instanceof Ci?function(t){const r=t.getFilters().map(s=>Mw(s));return r.length===1?r[0]:{compositeFilter:{op:kk(t.op),filters:r}}}(n):je()}function xk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,r,s,a=$e.min(),u=$e.min(),d=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.ht=e}}function Dk(n){const e=Rk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.ln=new Lk}addToCollectionParentIndex(e,t){return this.ln.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Fs.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Lk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Zt(bt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(41943040,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Da(0)}static Qn(){return new Da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv([n,e],[t,r]){const s=it(n,t);return s===0?it(e,r):s}class Ok{constructor(e){this.Gn=e,this.buffer=new Zt(Yv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Yn(3e5)})}}class Mk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Ph.oe);const r=new Ok(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Qv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,u=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(m=Date.now(),va()<=Ze.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:T})))}}function Uk(n,e){return new Mk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ml(r.mutation,s,Yr.empty(),Jt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const s=go();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=xl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=ts();const u=Vl(),d=function(){return Vl()}();return t.forEach((f,m)=>{const v=r.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof xo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ml(v.mutation,m,v.mutation.getFieldMask(),Jt.now())):u.set(m.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var T;return d.set(m,new jk(v,(T=u.get(m))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Vl();let s=new Lt((u,d)=>u-d),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Yr.empty();v=d.applyToLocalView(m,v),r.set(f,v);const T=(s.get(d.batchId)||tt()).add(f);s=s.insert(d.batchId,T)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,T=ww();v.forEach(E=>{if(!a.has(E)){const w=Cw(t.get(E),r.get(E));w!==null&&T.set(E,w),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ie.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Oe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ie.resolve(go());let d=-1,f=a;return u.next(m=>ie.forEach(m,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,tt())).next(v=>({batchId:d,changes:_w(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let s=xl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=xl();return this.indexManager.getCollectionParents(e,a).next(d=>ie.forEach(d,f=>{const m=function(T,E){return new xh(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(v=>{v.forEach((T,E)=>{u=u.insert(T,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,bn.newInvalidDocument(v)))});let d=xl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,m,Yr.empty(),Jt.now()),Dh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ie.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ii(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Dk(s.bundledQuery),readTime:Ii(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.overlays=new Lt(Oe.comparator),this.Er=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=go();return ie.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=go(),a=t.length+1,u=new Oe(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Lt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=go(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=go(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=s)););return ie.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lk(t,r));let a=this.Er.get(t);a===void 0&&(a=tt(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.dr=new Zt(ln.Ar),this.Rr=new Zt(ln.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new ln(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new ln(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Oe(new bt([])),r=new ln(t,e),s=new ln(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Oe(new bt([])),r=new ln(t,e),s=new ln(t,e+1);let a=tt();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ln(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Oe.comparator(e.key,t.key)||it(e.br,t.br)}static Vr(e,t){return it(e.br,t.br)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Zt(ln.Ar)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ak(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new ln(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,t){return ie.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const d=this.Cr(u.br);a.push(d)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(it);return t.forEach(s=>{const a=new ln(s,0),u=new ln(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),ie.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const u=new ln(new Oe(a),0);let d=new Zt(it);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.br)),!0)},u),ie.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){gt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ie.forEach(t.mutations,s=>{const a=new ln(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new ln(t,0),s=this.vr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Nr=e,this.docs=function(){return new Lt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():bn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ts();const u=t.path,d=new Oe(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||TA(EA(v),r)<=0||(s.has(v.key)||Dh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,s){je()}Lr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Kk(this)}getSize(e){return ie.resolve(this.size)}}class Kk extends Fk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.persistence=e,this.Br=new ko(t=>Up(t),Fp),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.kr=0,this.qr=new qp,this.targetCount=0,this.Qr=Da.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ie.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Un(t),ie.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ie.waitFor(a).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ph(0),this.Ur=!1,this.Ur=!0,this.Wr=new Hk,this.referenceDelegate=e(this),this.Gr=new Gk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(s){return new Wk(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new bk(t),this.jr=new Bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $k,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new qk(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const s=new Qk(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return ie.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class Qk extends IA{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Zr=new qp,this.Xr=null}static ei(e){return new Wp(e)}get ti(){if(this.Xr)return this.Xr;throw je()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ti,r=>{const s=Oe.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,$e.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ie.or([()=>ie.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.ri=new ko(r=>PA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Uk(this,t)}static ei(e,t){return new lh(e,t)}Hr(){}Jr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ie.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?ie.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ie.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jc(e.data.value)),t}ir(e,t,r){return ie.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=tt(),s=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Kp(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return NI()?8:RA(Dn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Yk;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(va()<=Ze.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ie.resolve()):(va()<=Ze.DEBUG&&Te("QueryEngine","Query:",_a(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(va()<=Ze.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):ie.resolve())}Xi(e,t){if(Fv(t))return ie.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=np(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,d);return this.ss(t,m,u,f.readTime)?this.Xi(e,np(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,s){return Fv(t)||s.isEqual($e.min())?ie.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?ie.resolve(null):(va()<=Ze.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_a(t)),this.os(e,u,t,wA(s,-1)).next(d=>d))})}rs(e,t){let r=new Zt(yw(e));return t.forEach((s,a)=>{Dh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return va()<=Ze.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",_a(t)),this.Zi.getDocumentsMatchingQuery(e,t,Fs.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new Lt(it),this.cs=new ko(a=>Up(a),Fp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Zk(n,e,t,r){return new Jk(n,e,t,r)}async function jw(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=tt();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:d}))})})}function ex(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const T=m.batch,E=T.keys();let w=ie.resolve();return E.forEach(C=>{w=w.next(()=>v.getEntry(f,C)).next(N=>{const b=m.docVersions.get(C);gt(b!==null),N.version.compareTo(b)<0&&(T.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=tt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function zw(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function tx(n,e){const t=qe(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((v,T)=>{const E=s.get(T);if(!E)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,T)));let w=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(En.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),s=s.insert(T,w),function(N,b,j){return N.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,w,v)&&d.push(t.Gr.updateTargetData(a,w))});let f=ts(),m=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(nx(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.Es})),!r.isEqual($e.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return ie.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=s,a))}function nx(n,e,t){let r=tt(),s=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ts();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Te("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Is:u,Es:s}})}function rx(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ix(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,ie.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Ns(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function ap(n,e,t){const r=qe(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Fa(u))throw u;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Xv(n,e,t){const r=qe(n);let s=$e.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const T=qe(f),E=T.cs.get(v);return E!==void 0?ie.resolve(T.us.get(E)):T.Gr.getTargetData(m,v)}(r,u,Si(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:$e.min(),t?a:tt())).next(d=>(sx(r,WA(e),d),{documents:d,ds:a})))}function sx(n,e,t){let r=n.ls.get(e)||$e.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Jv{constructor(){this.activeTargetIds=JA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ox{constructor(){this._o=new Jv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Jv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function Df(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class cx extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const d=Df(),f=this.No(t,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,u),this.Bo(t,f,m,s).then(v=>(Te("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Aa("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,r,s,a,u,d){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=lx[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=Df();return new Promise((u,d)=>{const f=new ew;f.setWithCredentials(!0),f.listenOnce(tw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fc.NO_ERROR:const v=f.getResponseJson();Te(kn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Fc.TIMEOUT:Te(kn,`RPC '${e}' ${a} timed out`),d(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const T=f.getStatus();if(Te(kn,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const C=function(b){const j=b.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(j)>=0?j:he.UNKNOWN}(w.status);d(new xe(C,w.message))}else d(new xe(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(he.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Te(kn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);Te(kn,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}qo(e,t,r){const s=Df(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iw(),d=rw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");Te(kn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const T=u.createWebChannel(v,f);let E=!1,w=!1;const C=new ux({Eo:b=>{w?Te(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(E||(Te(kn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),E=!0),Te(kn,`RPC '${e}' stream ${s} sending:`,b),T.send(b))},Ao:()=>T.close()}),N=(b,j,Z)=>{b.listen(j,X=>{try{Z(X)}catch(te){setTimeout(()=>{throw te},0)}})};return N(T,kl.EventType.OPEN,()=>{w||(Te(kn,`RPC '${e}' stream ${s} transport opened.`),C.So())}),N(T,kl.EventType.CLOSE,()=>{w||(w=!0,Te(kn,`RPC '${e}' stream ${s} transport closed`),C.Do())}),N(T,kl.EventType.ERROR,b=>{w||(w=!0,Aa(kn,`RPC '${e}' stream ${s} transport errored:`,b),C.Do(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),N(T,kl.EventType.MESSAGE,b=>{var j;if(!w){const Z=b.data[0];gt(!!Z);const X=Z,te=(X==null?void 0:X.error)||((j=X[0])===null||j===void 0?void 0:j.error);if(te){Te(kn,`RPC '${e}' stream ${s} received error:`,te);const M=te.status;let oe=function(P){const D=Ht[P];if(D!==void 0)return kw(D)}(M),A=te.message;oe===void 0&&(oe=he.INTERNAL,A="Unknown error status: "+M+" with message "+te.message),w=!0,C.Do(new xe(oe,A)),T.close()}else Te(kn,`RPC '${e}' stream ${s} received:`,Z),C.vo(Z)}}),N(d,nw.STAT_EVENT,b=>{b.stat===Xf.PROXY?Te(kn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Xf.NOPROXY&&Te(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return new yk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,r,s,a,u,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Bw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new xe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hx extends $w{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=wk(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Ii(u.readTime):$e.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=op(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=tp(f)?{documents:Sk(a,f)}:{query:Ik(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Dw(a,u.resumeToken);const m=rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){d.readTime=ah(a,u.snapshotVersion.toTimestamp());const m=rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=Ck(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.c_(t)}}class dx extends $w{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Tk(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=op(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ek(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,ip(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(he.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,ip(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(he.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class px{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(es(t),this.C_=!1):Te("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{bo(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=qe(f);m.k_.add(4),await au(m),m.K_.set("Unknown"),m.k_.delete(4),await Mh(m)}(this))})}),this.K_=new px(r,s)}}async function Mh(n){if(bo(n))for(const e of n.q_)await e(!0)}async function au(n){for(const e of n.q_)await e(!1)}function Hw(n,e){const t=qe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Xp(t)?Yp(t):ja(t).s_()&&Qp(t,e))}function Gp(n,e){const t=qe(n),r=ja(t);t.B_.delete(e),r.s_()&&qw(t,e),t.B_.size===0&&(r.s_()?r.a_():bo(t)&&t.K_.set("Unknown"))}function Qp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ja(n).V_(e)}function qw(n,e){n.U_.xe(e),ja(n).m_(e)}function Yp(n){n.U_=new fk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ja(n).start(),n.K_.F_()}function Xp(n){return bo(n)&&!ja(n).i_()&&n.B_.size>0}function bo(n){return qe(n).k_.size===0}function Ww(n){n.U_=void 0}async function gx(n){n.K_.set("Online")}async function yx(n){n.B_.forEach((e,t)=>{Qp(n,e)})}async function vx(n,e){Ww(n),Xp(n)?(n.K_.O_(e),Yp(n)):n.K_.set("Unknown")}async function _x(n,e,t){if(n.K_.set("Online"),e instanceof bw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.B_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.B_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uh(n,r)}else if(e instanceof $c?n.U_.$e(e):e instanceof xw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual($e.min()))try{const r=await zw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(m);v&&a.B_.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),qw(a,f);const T=new Ns(v.target,f,m,v.sequenceNumber);Qp(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await uh(n,r)}}async function uh(n,e,t){if(!Fa(e))throw e;n.k_.add(1),await au(n),n.K_.set("Offline"),t||(t=()=>zw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Mh(n)})}function Kw(n,e){return e().catch(t=>uh(n,t,e))}async function Uh(n){const e=qe(n),t=$s(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;wx(e);)try{const s=await rx(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,Ex(e,s)}catch(s){await uh(e,s)}Gw(e)&&Qw(e)}function wx(n){return bo(n)&&n.L_.length<10}function Ex(n,e){n.L_.push(e);const t=$s(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Gw(n){return bo(n)&&!$s(n).i_()&&n.L_.length>0}function Qw(n){$s(n).start()}async function Tx(n){$s(n).w_()}async function Sx(n){const e=$s(n);for(const t of n.L_)e.g_(t.mutations)}async function Ix(n,e,t){const r=n.L_.shift(),s=Bp.from(r,e,t);await Kw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Uh(n)}async function Rx(n,e){e&&$s(n).f_&&await async function(r,s){if(function(u){return ck(u)&&u!==he.ABORTED}(s.code)){const a=r.L_.shift();$s(r).__(),await Kw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Uh(r)}}(n,e),Gw(n)&&Qw(n)}async function e_(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=bo(t);t.k_.add(3),await au(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Mh(t)}async function Cx(n,e){const t=qe(n);e?(t.k_.delete(2),await Mh(t)):e||(t.k_.add(2),await au(t),t.K_.set("Unknown"))}function ja(n){return n.W_||(n.W_=function(t,r,s){const a=qe(t);return a.b_(),new hx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:gx.bind(null,n),mo:yx.bind(null,n),po:vx.bind(null,n),R_:_x.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Xp(n)?Yp(n):n.K_.set("Unknown")):(await n.W_.stop(),Ww(n))})),n.W_}function $s(n){return n.G_||(n.G_=function(t,r,s){const a=qe(t);return a.b_(),new dx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Tx.bind(null,n),po:Rx.bind(null,n),p_:Sx.bind(null,n),y_:Ix.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Uh(n)):(await n.G_.stop(),n.L_.length>0&&(Te("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Jp(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(n,e){if(es("AsyncQueue",`${e}: ${n}`),Fa(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.z_=new Lt(Oe.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):je():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Na{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Na(e,t,Pa.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Ax{constructor(){this.queries=n_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=qe(t),a=s.queries;s.queries=n_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new xe(he.ABORTED,"Firestore shutting down"))}}function n_(){return new ko(n=>gw(n),bh)}async function Yw(n,e){const t=qe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new Px,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Zp(u,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&em(t)}async function Xw(n,e){const t=qe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kx(n,e){const t=qe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(r=!0);u.H_=s}}r&&em(t)}function xx(n,e,t){const r=qe(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function em(n){n.X_.forEach(e=>{e.next()})}var lp,r_;(r_=lp||(lp={})).na="default",r_.Cache="cache";class Jw{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class bx{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=tt(),this.mutatedKeys=tt(),this.Va=yw(e),this.ma=new Pa(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new t_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,T)=>{const E=s.get(v),w=Dh(this.query,T)?T:null,C=!!E&&this.mutatedKeys.has(E.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;E&&w?E.data.isEqual(w.data)?C!==N&&(r.track({type:3,doc:w}),b=!0):this.ya(E,w)||(r.track({type:2,doc:w}),b=!0,(f&&this.Va(w,f)>0||m&&this.Va(w,m)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),b=!0):E&&!w&&(r.track({type:1,doc:E}),b=!0,(f||m)&&(d=!0)),b&&(w?(u=u.add(w),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,T)=>function(w,C){const N=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return N(w)-N(C)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new Na(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new t_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=tt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new eE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new Zw(r))}),t}va(e){this.da=e.ds,this.Ra=tt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Na.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Dx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Nx{constructor(e){this.key=e,this.Fa=!1}}class Lx{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new ko(d=>gw(d),bh),this.Oa=new Map,this.Na=new Set,this.La=new Lt(Oe.comparator),this.Ba=new Map,this.ka=new qp,this.qa={},this.Qa=new Map,this.Ka=Da.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ox(n,e,t=!0){const r=oE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await tE(r,e,t,!0),s}async function Vx(n,e){const t=oE(n);await tE(t,e,!0,!1)}async function tE(n,e,t,r){const s=await ix(n.localStore,Si(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await Mx(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Hw(n.remoteStore,s),d}async function Mx(n,e,t,r,s){n.Ua=(T,E,w)=>async function(N,b,j,Z){let X=b.view.ga(j);X.ss&&(X=await Xv(N.localStore,b.query,!1).then(({documents:A})=>b.view.ga(A,X)));const te=Z&&Z.targetChanges.get(b.targetId),M=Z&&Z.targetMismatches.get(b.targetId)!=null,oe=b.view.applyChanges(X,N.isPrimaryClient,te,M);return s_(N,b.targetId,oe.ba),oe.snapshot}(n,T,E,w);const a=await Xv(n.localStore,e,!0),u=new bx(e,a.ds),d=u.ga(a.documents),f=ou.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);s_(n,t,m.ba);const v=new Dx(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function Ux(n,e,t){const r=qe(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!bh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ap(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Gp(r.remoteStore,s.targetId),up(r,s.targetId)}).catch(Ua)):(up(r,s.targetId),await ap(r.localStore,s.targetId,!0))}async function Fx(n,e){const t=qe(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gp(t.remoteStore,r.targetId))}async function jx(n,e,t){const r=Kx(n);try{const s=await function(u,d){const f=qe(u),m=Jt.now(),v=d.reduce((w,C)=>w.add(C.key),tt());let T,E;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=ts(),N=tt();return f.hs.getEntries(w,v).next(b=>{C=b,C.forEach((j,Z)=>{Z.isValidDocument()||(N=N.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,C)).next(b=>{T=b;const j=[];for(const Z of d){const X=sk(Z,T.get(Z.key).overlayedDocument);X!=null&&j.push(new xo(Z.key,X,uw(X.value.mapValue),Yi.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,j,d)}).next(b=>{E=b;const j=b.applyToLocalDocumentSet(T,N);return f.documentOverlayCache.saveOverlays(w,b.batchId,j)})}).then(()=>({batchId:E.batchId,changes:_w(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let m=u.qa[u.currentUser.toKey()];m||(m=new Lt(it)),m=m.insert(d,f),u.qa[u.currentUser.toKey()]=m}(r,s.batchId,t),await lu(r,s.changes),await Uh(r.remoteStore)}catch(s){const a=Zp(s,"Failed to persist write");t.reject(a)}}async function nE(n,e){const t=qe(n);try{const r=await tx(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?gt(u.Fa):s.removedDocuments.size>0&&(gt(u.Fa),u.Fa=!1))}),await lu(t,r,e)}catch(r){await Ua(r)}}function i_(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=qe(u);f.onlineState=d;let m=!1;f.queries.forEach((v,T)=>{for(const E of T.J_)E.ea(d)&&(m=!0)}),m&&em(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zx(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new Lt(Oe.comparator);u=u.insert(a,bn.newNoDocument(a,$e.min()));const d=tt().add(a),f=new Oh($e.min(),new Map,new Lt(it),u,d);await nE(r,f),r.La=r.La.remove(a),r.Ba.delete(e),tm(r)}else await ap(r.localStore,e,!1).then(()=>up(r,e,t)).catch(Ua)}async function Bx(n,e){const t=qe(n),r=e.batch.batchId;try{const s=await ex(t.localStore,e);iE(t,r,null),rE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lu(t,s)}catch(s){await Ua(s)}}async function $x(n,e,t){const r=qe(n);try{const s=await function(u,d){const f=qe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(T=>(gt(T!==null),v=T.keys(),f.mutationQueue.removeMutationBatch(m,T))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);iE(r,e,t),rE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lu(r,s)}catch(s){await Ua(s)}}function rE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function iE(n,e,t){const r=qe(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||sE(n,r)})}function sE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Gp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),tm(n))}function s_(n,e,t){for(const r of t)r instanceof Zw?(n.ka.addReference(r.key,e),Hx(n,r)):r instanceof eE?(Te("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||sE(n,r.key)):je()}function Hx(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Te("SyncEngine","New document in limbo: "+t),n.Na.add(r),tm(n))}function tm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Oe(bt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new Nx(t)),n.La=n.La.insert(t,r),Hw(n.remoteStore,new Ns(Si(jp(t.path)),r,"TargetPurposeLimboResolution",Ph.oe))}}async function lu(n,e,t){const r=qe(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const T=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(m){s.push(m);const T=Kp.zi(f.targetId,m);a.push(T)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,m){const v=qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(m,E=>ie.forEach(E.Wi,w=>v.persistence.referenceDelegate.addReference(T,E.targetId,w)).next(()=>ie.forEach(E.Gi,w=>v.persistence.referenceDelegate.removeReference(T,E.targetId,w)))))}catch(T){if(!Fa(T))throw T;Te("LocalStore","Failed to update sequence numbers: "+T)}for(const T of m){const E=T.targetId;if(!T.fromCache){const w=v.us.get(E),C=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(C);v.us=v.us.insert(E,N)}}}(r.localStore,a))}async function qx(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await jw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new xe(he.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(t,r.Ts)}}function Wx(n,e){const t=qe(n),r=t.Ba.get(e);if(r&&r.Fa)return tt().add(r.key);{let s=tt();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function oE(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zx.bind(null,e),e.Ma.R_=kx.bind(null,e.eventManager),e.Ma.Wa=xx.bind(null,e.eventManager),e}function Kx(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$x.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Zk(this.persistence,new Xk,e.initialUser,this.serializer)}ja(e){return new Fw(Wp.ei,this.serializer)}za(e){return new ox}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class Gx extends ch{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){gt(this.persistence.referenceDelegate instanceof lh);const r=this.persistence.referenceDelegate.garbageCollector;return new Vk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new Fw(r=>lh.ei(r,t),this.serializer)}}class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ax}()}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),r=function(a){return new cx(a)}(e.databaseInfo);return function(a,u,d,f){return new fx(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new mx(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>i_(this.syncEngine,t,0),function(){return Zv.p()?new Zv:new ax}())}createSyncEngine(e,t){return function(s,a,u,d,f,m,v){const T=new Lx(s,a,u,d,f,m);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=qe(s);Te("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await au(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Te("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Te("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zp(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function o_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Yx(n);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>e_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>e_(e.remoteStore,s)),n._onlineComponents=e}async function Yx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new ch)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new Gx(void 0));return n._offlineComponents}async function lE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await o_(n,n._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await o_(n,new cp))),n._onlineComponents}function Xx(n){return lE(n).then(e=>e.syncEngine)}async function uE(n){const e=await lE(n),t=e.eventManager;return t.onListen=Ox.bind(null,e.syncEngine),t.onUnlisten=Ux.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Vx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),t}function Jx(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new aE({next:E=>{v.eu(),u.enqueueAndForget(()=>Xw(a,T));const w=E.docs.has(d);!w&&E.fromCache?m.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?m.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),T=new Jw(jp(d.path),v,{includeMetadataChanges:!0,ua:!0});return Yw(a,T)}(await uE(n),n.asyncQueue,e,t,r)),r.promise}function Zx(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new aE({next:E=>{v.eu(),u.enqueueAndForget(()=>Xw(a,T)),E.fromCache&&f.source==="server"?m.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),T=new Jw(d,v,{includeMetadataChanges:!0,ua:!0});return Yw(a,T)}(await uE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eb(n,e,t,r){if(e===!0&&r===!0)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l_(n){if(!Oe.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u_(n){if(Oe.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function So(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nm(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=a_.get(t);r&&(Te("ComponentProvider","Removing Datastore"),a_.delete(t),r.terminate())}(this),Promise.resolve()}}function tb(n,e,t,r={}){var s;const a=(n=So(n,Fh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=xn.MOCK_USER;else{d=h0(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xn(m)}n._authCredentials=new dA(new sw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Vs extends jh{constructor(e,t,r){super(e,t,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Oe(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function fa(n,e,...t){if(n=cn(n),hE("collection","path",e),n instanceof Fh){const r=bt.fromString(e,...t);return u_(r),new Vs(n,null,r)}{if(!(n instanceof pr||n instanceof Vs))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return u_(r),new Vs(n.firestore,null,r)}}function Yt(n,e,...t){if(n=cn(n),arguments.length===1&&(e=ow.newId()),hE("doc","path",e),n instanceof Fh){const r=bt.fromString(e,...t);return l_(r),new pr(n,null,new Oe(r))}{if(!(n instanceof pr||n instanceof Vs))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return l_(r),new pr(n.firestore,n instanceof Vs?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Bw(this,"async_queue_retry"),this.fu=()=>{const r=Nf();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Qi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Fa(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw es("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Jp.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&je()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class zh extends Fh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new h_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h_(e),this._firestoreClient=void 0,await e}}}function nb(n,e){const t=typeof n=="object"?n:Rp(),r=typeof n=="string"?n:"(default)",s=Sh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=l0("firestore");a&&tb(s,...a)}return s}function rm(n){if(n._terminated)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rb(n),n._firestoreClient}function rb(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,m,v){return new xA(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,cE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Qx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(En.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new La(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=/^__.*__$/;class sb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}function fE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class am{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(fE(this.Mu)&&ib.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ob{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vh(e)}$u(e,t,r,s=!1){return new am({Mu:e,methodName:t,Ku:r,path:wn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(n){const e=n._freezeSettings(),t=Vh(n._databaseId);return new ob(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lb(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);yE("Data must be an object, but it was:",u,r);const d=mE(r,u);let f,m;if(a.merge)f=new Yr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const T of a.mergeFields){const E=ub(e,T,t);if(!u.contains(E))throw new xe(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);hb(v,E)||v.push(E)}f=new Yr(v),m=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,m=u.fieldTransforms;return new sb(new Rr(d),f,m)}function pE(n,e){if(gE(n=cn(n)))return yE("Unsupported field value:",e,n),mE(n,e);if(n instanceof dE)return function(r,s){if(!fE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=pE(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:ah(s.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(s.serializer,a)}}if(r instanceof sm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof La)return{bytesValue:Dw(s.serializer,r._byteString)};if(r instanceof pr){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof om)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return zp(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${nm(r)}`)}(n,e)}function mE(n,e){const t={};return aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,(r,s)=>{const a=pE(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function gE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof sm||n instanceof La||n instanceof pr||n instanceof dE||n instanceof om)}function yE(n,e,t){if(!gE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=nm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function ub(n,e,t){if((e=cn(e))instanceof im)return e._internalPath;if(typeof e=="string")return vE(n,e);throw hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const cb=new RegExp("[~\\*/\\[\\]]");function vE(n,e,t){if(e.search(cb)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new im(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new xe(he.INVALID_ARGUMENT,d+n+f)}function hb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class db extends _E{data(){return super.data()}}function wE(n,e){return typeof e=="string"?vE(n,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pb{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ao(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>zt(u.doubleValue));return new om(a)}convertGeoPoint(e){return new sm(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=js(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);gt(Uw(r));const s=new Wl(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return s.isEqual(t)||es(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EE extends _E{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hc extends EE{data(e={}){return super.data(e)}}class gb{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hc(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new Hc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Hc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:yb(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n){n=So(n,pr);const e=So(n.firestore,zh);return Jx(rm(e),n._key).then(t=>_b(e,n,t))}class TE extends pb{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function pa(n){n=So(n,jh);const e=So(n.firestore,zh),t=rm(e),r=new TE(e);return fb(n._query),Zx(t,n._query).then(s=>new gb(e,r,n,s))}function cr(n,e,t){n=So(n,pr);const r=So(n.firestore,zh),s=mb(n.converter,e,t);return vb(r,[lb(ab(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Yi.none())])}function vb(n,e){return function(r,s){const a=new Qi;return r.asyncQueue.enqueueAndForget(async()=>jx(await Xx(r),s,a)),a.promise}(rm(n),e)}function _b(n,e,t){const r=t.docs.get(e._key),s=new TE(n);return new EE(n,s,e._key,r,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Ma=s})(Co),_o(new Us("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new zh(new fA(r.getProvider("auth-internal")),new yA(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(m.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),wi(Av,"4.7.5",e),wi(Av,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebasestorage.googleapis.com",IE="storageBucket",wb=2*60*1e3,Eb=10*60*1e3,Tb=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Pi{constructor(e,t,r=0){super(Of(e),`Firebase Storage: ${t} (${Of(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Of(n){return"storage/"+n}function lm(){const n="An unknown error occurred, please check the error payload for server response.";return new Ot(Pt.UNKNOWN,n)}function Sb(n){return new Ot(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Ib(n){return new Ot(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rb(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Pt.UNAUTHENTICATED,n)}function Cb(){return new Ot(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pb(n){return new Ot(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function RE(){return new Ot(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CE(){return new Ot(Pt.CANCELED,"User canceled the upload/download.")}function Ab(n){return new Ot(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function kb(n){return new Ot(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function xb(){return new Ot(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IE+"' property when initializing the app?")}function PE(){return new Ot(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bb(){return new Ot(Pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Db(){return new Ot(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nb(n){return new Ot(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hp(n){return new Ot(Pt.INVALID_ARGUMENT,n)}function AE(){return new Ot(Pt.APP_DELETED,"The Firebase app was deleted.")}function Lb(n){return new Ot(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(n,e){return new Ot(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Il(n){throw new Ot(Pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(r.path==="")return r;throw kb(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},N=t===SE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",j=new RegExp(`^https?://${N}/${s}/${b}`,"i"),X=[{regex:d,indices:f,postModify:a},{regex:w,indices:C,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<X.length;te++){const M=X[te],oe=M.regex.exec(e);if(oe){const A=oe[M.indices.bucket];let R=oe[M.indices.path];R||(R=""),r=new fr(A,R),M.postModify(r);break}}if(r==null)throw Ab(e);return r}}class Ob{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function v(...b){m||(m=!0,e.apply(null,b))}function T(b){s=setTimeout(()=>{s=null,n(w,f())},b)}function E(){a&&clearTimeout(a)}function w(b,...j){if(m){E();return}if(b){E(),v.call(null,b,...j);return}if(f()||u){E(),v.call(null,b,...j);return}r<64&&(r*=2);let X;d===1?(d=2,X=0):X=(r+Math.random())*1e3,T(X)}let C=!1;function N(b){C||(C=!0,E(),!m&&(s!==null?(b||(d=2),clearTimeout(s),T(0)):b||(d=1)))}return T(0),a=setTimeout(()=>{u=!0,N(!0)},t),N}function Mb(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){return n!==void 0}function Fb(n){return typeof n=="function"}function jb(n){return typeof n=="object"&&!Array.isArray(n)}function Bh(n){return typeof n=="string"||n instanceof String}function d_(n){return um()&&n instanceof Blob}function um(){return typeof Blob<"u"}function f_(n,e,t,r){if(r<e)throw hp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw hp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function kE(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var vo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vo||(vo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r,s,a,u,d,f,m,v,T,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=T,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,C)=>{this.resolve_=w,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ac(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===vo.NO_ERROR,f=a.getStatus();if(!d||xE(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===vo.ABORT;r(!1,new Ac(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Ac(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Ub(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=lm();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?AE():CE();u(f)}else{const f=RE();u(f)}};this.canceled_?t(!1,new Ac(!1,null,!0)):this.backoffId_=Vb(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ac{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Bb(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $b(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hb(n,e){e&&(n["X-Firebase-GMPID"]=e)}function qb(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Wb(n,e,t,r,s,a,u=!0){const d=kE(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return Hb(m,e),Bb(m,t),$b(m,a),qb(m,r),new zb(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gb(...n){const e=Kb();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(um())return new Blob(n);throw new Ot(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qb(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n){if(typeof atob>"u")throw Nb("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vf{constructor(e,t){this.data=e,this.contentType=t||null}}function Xb(n,e){switch(n){case yi.RAW:return new Vf(bE(e));case yi.BASE64:case yi.BASE64URL:return new Vf(DE(n,e));case yi.DATA_URL:return new Vf(Zb(e),eD(e))}throw lm()}function bE(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Jb(n){let e;try{e=decodeURIComponent(n)}catch{throw Ul(yi.DATA_URL,"Malformed data URL.")}return bE(e)}function DE(n,e){switch(n){case yi.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ul(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ul(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Yb(e)}catch(s){throw s.message.includes("polyfill")?s:Ul(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class NE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ul(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=tD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Zb(n){const e=new NE(n);return e.base64?DE(yi.BASE64,e.rest):Jb(e.rest)}function eD(n){return new NE(n).contentType}function tD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){let r=0,s="";d_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(d_(this.data_)){const r=this.data_,s=Qb(r,e,t);return s===null?null:new Ds(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ds(r,!0)}}static getBlob(...e){if(um()){const t=e.map(r=>r instanceof Ds?r.data_:r);return new Ds(Gb.apply(null,t))}else{const t=e.map(u=>Bh(u)?Xb(yi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new Ds(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){let e;try{e=JSON.parse(n)}catch{return null}return jb(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function rD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function OE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n,e){return e}class zn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||iD}}let kc=null;function sD(n){return!Bh(n)||n.length<2?n:OE(n)}function VE(){if(kc)return kc;const n=[];n.push(new zn("bucket")),n.push(new zn("generation")),n.push(new zn("metageneration")),n.push(new zn("name","fullPath",!0));function e(a,u){return sD(u)}const t=new zn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new zn("size");return s.xform=r,n.push(s),n.push(new zn("timeCreated")),n.push(new zn("updated")),n.push(new zn("md5Hash",null,!0)),n.push(new zn("cacheControl",null,!0)),n.push(new zn("contentDisposition",null,!0)),n.push(new zn("contentEncoding",null,!0)),n.push(new zn("contentLanguage",null,!0)),n.push(new zn("contentType",null,!0)),n.push(new zn("metadata","customMetadata",!0)),kc=n,kc}function oD(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new fr(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function aD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return oD(r,n),r}function ME(n,e,t){const r=LE(e);return r===null?null:aD(n,r,t)}function lD(n,e,t,r){const s=LE(e);if(s===null||!Bh(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,T=n.fullPath,E="/b/"+u(v)+"/o/"+u(T),w=uu(E,t,r),C=kE({alt:"media",token:m});return w+C})[0]}function UE(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class za{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(n){if(!n)throw lm()}function cm(n,e){function t(r,s){const a=ME(n,s,e);return Xi(a!==null),a}return t}function uD(n,e){function t(r,s){const a=ME(n,s,e);return Xi(a!==null),lD(a,s,n.host,n._protocol)}return t}function cu(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=Cb():s=Rb():t.getStatus()===402?s=Ib(n.bucket):t.getStatus()===403?s=Pb(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function FE(n){const e=cu(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=Sb(n.path)),a.serverResponse=s.serverResponse,a}return t}function cD(n,e,t){const r=e.fullServerUrl(),s=uu(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new za(s,a,cm(n,t),u);return d.errorHandler=FE(e),d}function hD(n,e,t){const r=e.fullServerUrl(),s=uu(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new za(s,a,uD(n,t),u);return d.errorHandler=FE(e),d}function dD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function jE(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=dD(null,e)),r}function fD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let X="";for(let te=0;te<2;te++)X=X+Math.random().toString().slice(2);return X}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=jE(e,r,s),v=UE(m,t),T="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+f+"--",w=Ds.getBlob(T,r,E);if(w===null)throw PE();const C={name:m.fullPath},N=uu(a,n.host,n._protocol),b="POST",j=n.maxUploadRetryTime,Z=new za(N,b,cm(n,t),j);return Z.urlParams=C,Z.headers=u,Z.body=w.uploadData(),Z.errorHandler=cu(e),Z}class dh{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function hm(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xi(!1)}return Xi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function pD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u=jE(e,r,s),d={name:u.fullPath},f=uu(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=UE(u,t),E=n.maxUploadRetryTime;function w(N){hm(N);let b;try{b=N.getResponseHeader("X-Goog-Upload-URL")}catch{Xi(!1)}return Xi(Bh(b)),b}const C=new za(f,m,w,E);return C.urlParams=d,C.headers=v,C.body=T,C.errorHandler=cu(e),C}function mD(n,e,t,r){const s={"X-Goog-Upload-Command":"query"};function a(m){const v=hm(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xi(!1)}T||Xi(!1);const E=Number(T);return Xi(!isNaN(E)),new dh(E,r.size(),v==="final")}const u="POST",d=n.maxUploadRetryTime,f=new za(t,u,a,d);return f.headers=s,f.errorHandler=cu(e),f}const p_=256*1024;function gD(n,e,t,r,s,a,u,d){const f=new dh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw bb();const m=f.total-f.current;let v=m;s>0&&(v=Math.min(v,s));const T=f.current,E=T+v;let w="";v===0?w="finalize":m===v?w="upload, finalize":w="upload";const C={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${f.current}`},N=r.slice(T,E);if(N===null)throw PE();function b(te,M){const oe=hm(te,["active","final"]),A=f.current+v,R=r.size();let P;return oe==="final"?P=cm(e,a)(te,M):P=null,new dh(A,R,oe==="final",P)}const j="POST",Z=e.maxUploadRetryTime,X=new za(t,j,b,Z);return X.headers=C,X.body=N.uploadData(),X.progressCallback=d||null,X.errorHandler=cu(n),X}const Zn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mf(n){switch(n){case"running":case"pausing":case"canceling":return Zn.RUNNING;case"paused":return Zn.PAUSED;case"success":return Zn.SUCCESS;case"canceled":return Zn.CANCELED;case"error":return Zn.ERROR;default:return Zn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,r){if(Fb(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class vD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _D extends vD{initXhr(){this.xhr_.responseType="text"}}function Ta(){return new _D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=VE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(xE(s.status,[]))if(a)s=RE();else{this.sleepTime=Math.max(this.sleepTime*2,Tb),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Pt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=pD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ta,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=mD(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,Ta,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=p_*this._chunkMultiplier,t=new dh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let u;try{u=gD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const d=this._ref.storage._makeRequest(u,Ta,s,a,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){p_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=cD(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ta,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=fD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ta,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=CE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Mf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const a=new yD(t||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Mf(this._state)){case Zn.SUCCESS:ma(this._resolve.bind(null,this.snapshot))();break;case Zn.CANCELED:case Zn.ERROR:const t=this._reject;ma(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mf(this._state)){case Zn.RUNNING:case Zn.PAUSED:e.next&&ma(e.next.bind(e,this.snapshot))();break;case Zn.SUCCESS:e.complete&&ma(e.complete.bind(e))();break;case Zn.CANCELED:case Zn.ERROR:e.error&&ma(e.error.bind(e,this._error))();break;default:e.error&&ma(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Io(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OE(this._location.path)}get storage(){return this._service}get parent(){const e=nD(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new Io(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Lb(e)}}function ED(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new wD(n,new Ds(e),t)}function TD(n){n._throwIfRoot("getDownloadURL");const e=hD(n.storage,n._location,VE());return n.storage.makeRequestWithTokens(e,Ta).then(t=>{if(t===null)throw Db();return t})}function SD(n,e){const t=rD(n._location.path,e),r=new fr(n._location.bucket,t);return new Io(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){return/^[A-Za-z]+:\/\//.test(n)}function RD(n,e){return new Io(n,e)}function zE(n,e){if(n instanceof dm){const t=n;if(t._bucket==null)throw xb();const r=new Io(t,t._bucket);return e!=null?zE(r,e):r}else return e!==void 0?SD(n,e):n}function CD(n,e){if(e&&ID(e)){if(n instanceof dm)return RD(n,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return zE(n,e)}function m_(n,e){const t=e==null?void 0:e[IE];return t==null?null:fr.makeFromBucketSpec(t,n)}function PD(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:h0(s,n.app.options.projectId))}class dm{constructor(e,t,r,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=SE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wb,this._maxUploadRetryTime=Eb,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=m_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=m_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new Ob(AE());{const u=Wb(e,this._appId,r,s,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const g_="@firebase/storage",y_="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="storage";function TL(n,e,t){return n=cn(n),ED(n,e,t)}function SL(n){return n=cn(n),TD(n)}function IL(n,e){return n=cn(n),CD(n,e)}function AD(n=Rp(),e){n=cn(n);const r=Sh(n,BE).getImmediate({identifier:e}),s=l0("storage");return s&&kD(r,...s),r}function kD(n,e,t,r={}){PD(n,e,t,r)}function xD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new dm(t,r,s,e,Co)}function bD(){_o(new Us(BE,xD,"PUBLIC").setMultipleInstances(!0)),wi(g_,y_,""),wi(g_,y_,"esm2017")}bD();const DD={apiKey:"AIzaSyAC6-8tLzhHXZtc9CFWb9z1F8frxmkhXzs",authDomain:"nogoomel-deira.firebaseapp.com",projectId:"nogoomel-deira",storageBucket:"nogoomel-deira.firebasestorage.app",messagingSenderId:"979856240601",appId:"1:979856240601:web:b09e39966b175d466173c8",measurementId:"G-J0KXRYXTY9"},fm=p0(DD),Ct=nb(fm),po=aA(fm),RL=AD(fm),$E=$.createContext(),ND=({children:n})=>{const[e,t]=$.useState(null);$.useState({});const[r,s]=$.useState(!0),a="https://firebasestorage.googleapis.com/v0/b/nogoomel-deira.firebasestorage.app/o/Website%20Images%2FAvatar%2Fman.png?alt=media&token=dc8c1abd-015b-4ead-8d43-aa6abf80a5e9",u=()=>!!e,d=async(N,b,j,Z)=>{try{const X=await WC(po,N,b),te=X.user.uid,M=X.user;return Z==="star"?(await cr(Yt(Ct,"users",M.uid),{email:M.email,...j,createdAt:new Date().toISOString(),balance:50,role:Z,verified:!1,verifiedBy:"",ads:[],updatedAt:new Date().toISOString(),address:"",profilePicture:a,bio:"",dateOfBirth:"",gender:"",preferredLanguage:"",lastLogin:"",accountStatus:"",referralCode:"0",referredBy:"0",permissions:[],Uid:te}),{success:!0}):(await cr(Yt(Ct,"users",M.uid),{email:M.email,Uid:te,...j,createdAt:new Date,role:Z,verified:!1,verifiedBy:"",profilePicture:a,bio:"",permissions:[],lastSeen:new Date}),await po.signOut(),window.location.href="/login",{success:!0})}catch(X){return console.error("Error signing up or saving user data:",X.message),{success:!1,error:X.message}}},f=async(N,b)=>{try{return await cr(Yt(Ct,"users",N),b,{merge:!0}),{success:!0}}catch(j){return console.error("Error updating user data:",j.message),{success:!1,error:j.message}}},m=(N,b)=>KC(po,N,b),v=()=>YC(po),T=()=>e?e.uid:"noUser",E=()=>e?e.email.split("@")[0]:"noUser",w=()=>e?e.email:"noUser",C=async()=>{if(!e)return null;const N=Yt(Ct,"users",e.uid);return(await mi(N)).data()};return $.useEffect(()=>B0(po,b=>{t(b),s(!1)}),[]),Ge.jsx($E.Provider,{value:{currentUser:e,signUp:d,logOut:v,updateUser:f,login:m,getUserId:T,getUserEmail:E,getUserFullEmail:w,IsLogedIn:u,getUserData:C},children:!r&&n})},LD=()=>$.useContext($E),OD=({children:n,requiredRoles:e})=>{const{getUserData:t}=LD(),r=ns(),[s,a]=$.useState(null),[u,d]=$.useState(!0),f=$.useCallback(async()=>{try{const v=await t();a((v==null?void 0:v.role)||"guest")}catch(v){console.error("Error fetching user data:",v)}finally{d(!1)}},[t]);if($.useEffect(()=>{f()},[f]),u)return Ge.jsx("div",{children:"Loading..."});const m=e??vI(r.pathname);return yI(s||"guest",m)?Ge.jsx(Ge.Fragment,{children:n}):Ge.jsx(T1,{to:"/unauthorized",state:{from:r},replace:!0})},VD=ce.lazy(()=>Ft(()=>import("./HomePage-DkQcoWYH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),MD=ce.lazy(()=>Ft(()=>import("./LoginPage-BRwCOUZm.js"),__vite__mapDeps([8,9,10,6]))),UD=ce.lazy(()=>Ft(()=>import("./SignUp-4ry55u2u.js"),__vite__mapDeps([11,9,12,4,10,5,13]))),v_=ce.lazy(()=>Ft(()=>import("./SignUpStatus-D4w1J85y.js"),[])),FD=ce.lazy(()=>Ft(()=>import("./Profile-DI1hlT4e.js"),__vite__mapDeps([14,12,4,15,16,9,17,18,13,5,19,20,3]))),jD=ce.lazy(()=>Ft(()=>import("./DashboardHome-DfU5dhrX.js"),__vite__mapDeps([21,12,4]))),zD=ce.lazy(()=>Ft(()=>import("./DashboardLayout-DhwZywRf.js"),__vite__mapDeps([22,4,12,3,20]))),BD=ce.lazy(()=>Ft(()=>import("./Users-C31tEzfE.js"),__vite__mapDeps([23,9,5,13,24,2,15,16,17,25,4,26]))),$D=ce.lazy(()=>Ft(()=>import("./Apartments-wvpFYA1A.js"),__vite__mapDeps([27,12,4]))),HD=ce.lazy(()=>Ft(()=>import("./NotificationsPanel-CBTEAJ00.js"),__vite__mapDeps([28,19,18,16,15]))),qD=ce.lazy(()=>Ft(()=>import("./SendNotification-CcHp_bcV.js"),__vite__mapDeps([29,30,9]))),WD=ce.lazy(()=>Ft(()=>import("./CreateAd-ZDQFIKSQ.js"),__vite__mapDeps([31,9,5,30,13]))),KD=ce.lazy(()=>Ft(()=>import("./Employees-CkHPc5c8.js"),__vite__mapDeps([32,9,24,2,13,25,16,17,18,33]))),GD=ce.lazy(()=>Ft(()=>import("./AdsList-0dhFB00d.js"),__vite__mapDeps([34,5,12,4]))),QD=ce.lazy(()=>Ft(()=>import("./Privacy-D0lbl3Cy.js"),__vite__mapDeps([35,9,13,24,2]))),YD=ce.lazy(()=>Ft(()=>import("./WebsiteData-Bz_HEQPh.js"),__vite__mapDeps([36,9]))),XD=ce.lazy(()=>Ft(()=>import("./Contact-Dvc4Plan.js"),__vite__mapDeps([37,9,24,2,13,26]))),__=ce.lazy(()=>Ft(()=>import("./Unauthorized-BHPMvB3m.js"),__vite__mapDeps([38,4]))),JD=ce.lazy(()=>Ft(()=>import("./PrivacyPolicy-CBwcN7IO.js"),__vite__mapDeps([39,1,2,3,4,5,6]))),ZD=ce.lazy(()=>Ft(()=>import("./ContactPage-B0aM74EZ.js"),__vite__mapDeps([40,12,4]))),eN=ce.lazy(()=>Ft(()=>import("./AdListPage-DT-e6wny.js"),__vite__mapDeps([41,1,2,3,4,5,6]))),tN=ce.lazy(()=>Ft(()=>import("./AdDetailPage-Djca8w30.js"),__vite__mapDeps([42,12,4]))),Hi=n=>Ge.jsx($.Suspense,{fallback:Ge.jsx(pI,{}),children:Ge.jsx(n,{})}),ur=(n,e)=>Ge.jsx(OD,{requiredRoles:e,children:Hi(n)}),nN=K1([{path:"/",element:Hi(VD),errorElement:Ge.jsx(pi,{})},{path:"/contact",element:Hi(ZD),errorElement:Ge.jsx(pi,{})},{path:"/ads",children:[{index:!0,element:Ge.jsx(eN,{})},{path:":id",element:Ge.jsx(tN,{})}]},{path:"/login",element:Hi(MD),errorElement:Ge.jsx(pi,{})},{path:"/signup",element:Hi(UD),errorElement:Ge.jsx(pi,{})},{path:"/Status",element:Hi(v_),errorElement:Ge.jsx(pi,{})},{path:"/Status",element:Hi(v_),errorElement:Ge.jsx(pi,{})},{path:"/privacy-policy",element:Hi(JD),errorElement:Ge.jsx(pi,{})},{path:"/profile",element:ur(FD,["star"]),errorElement:Ge.jsx(pi,{})},{path:"/dashboard",element:ur(zD,["admin","editor","viewer"]),errorElement:Ge.jsx(pi,{}),children:[{index:!0,element:ur(jD,["admin","editor","viewer"])},{path:"users",element:ur(BD,["admin"])},{path:"apartments",element:ur($D,["admin","editor"])},{path:"notifications",element:ur(HD,["admin","editor"])},{path:"Send_Notification",element:ur(qD,["admin","editor"])},{path:"createAd",element:ur(WD,["admin","viewer"])},{path:"employees",element:ur(KD,["admin"])},{path:"ads-list",element:ur(GD,["admin","editor"])},{path:"privacy",element:ur(QD,["admin","editor"])},{path:"contact",element:ur(XD,["admin","editor"])},{path:"website_data",element:ur(YD,["admin","editor"])},{path:"unauthorized",element:Ge.jsx(__,{})}]},{path:"/unauthorized",element:Hi(__),errorElement:Ge.jsx(pi,{})}]),rN=$.createContext(),iN=({children:n})=>{const e=[{name:"John Doe",email:"test@test.com"},{name:"Jane Doe",email:"test@test.com"}];return Ge.jsx(rN.Provider,{value:{users:e},children:n})},sN=$.createContext(),oN=({children:n})=>{const[e,t]=$.useState("light");$.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{t(e==="light"?"dark":"light")};return Ge.jsx(sN.Provider,{value:{theme:e,toggleTheme:r},children:n})},HE=$.createContext(),aN=({children:n})=>{const[e,t]=$.useState(!0),[r,s]=$.useState(null),[a,u]=$.useState([]),[d,f]=$.useState({}),[m,v]=$.useState(null),T=$.useCallback(async()=>{try{const de=[];(await pa(fa(Ct,"users"))).forEach(Q=>{de.push(Q.data())}),u(de)}catch(de){v(de.message)}},[]),E=$.useCallback(async()=>{try{const de=[];return(await pa(fa(Ct,"users"))).forEach(Q=>{Q.data().role==="star"&&Q.data().verified&&de.push(Q.data())}),de}catch(de){v(de.message)}},[]),w=$.useCallback(async()=>{try{const de=Yt(Ct,"websiteData","contact"),se=await mi(de);if(se.exists())return f(se.data()),se.data()}catch{return}},[]),C=async de=>{try{const se=Yt(Ct,"websiteData","contact");await cr(se,{...de,updatedAt:new Date}),await w()}catch(se){v(se.message)}},N=async de=>{try{const se=Yt(Ct,"users",de.Uid);await cr(se,de),await T(),L({message:"✅ تمت مراجعة و تحديث بياناتك - من خلال الادراة",readed:!1,time:new Date},de.Uid)}catch(se){v(se.message)}},b=async(de,se)=>{const Q=de.stars,ee=`⭐ تمت اضافة اعلان جديد -  ${de.title}`,re=new Date;Q.forEach(async U=>{const W=Yt(Ct,"users",U.Uid),ye=(await mi(W)).data(),ve=ye.ads;ve.push({adId:se,title:de.title,category:de.category,links:{}}),await cr(W,{...ye,ads:ve}),L({message:ee,readed:!1,time:re},U.Uid)})},j=async()=>{const de=await pa(fa(Ct,"users")),se=await pa(fa(Ct,"advertisement"));return{employees:de.size,ads:se.size}},Z=async de=>{try{const se=Yt(Ct,"users",de),Q=await mi(se);return Q.exists()?Q.data().ads:[]}catch(se){return v(se.message),[]}},X=async(de,se)=>{try{const Q=Yt(Ct,"users",de),ee=await mi(Q);if(ee.exists()){const re=ee.data(),W=re.ads.map(ae=>ae.adId===se.adId?{...ae,links:se.links}:ae);await cr(Q,{...re,ads:W})}}catch(Q){v(Q.message)}},te=async de=>{try{const se=fa(Ct,"advertisement"),re=(await pa(se)).size+1,U=Yt(Ct,"advertisement",re.toString());await cr(U,{...de,id:re}),await b(de,re)}catch(se){v(se.message)}},M=async de=>{try{const se=Yt(Ct,"websiteData","HomePage");await cr(se,{...de,updatedAt:new Date})}catch(se){v(se.message)}},oe=$.useCallback(async()=>{try{const de=Yt(Ct,"websiteData","HomePage"),se=await mi(de);return se.exists()?se.data():{}}catch(de){return v(de.message),{}}},[]),A=$.useCallback(async()=>{try{const de=[];return(await pa(fa(Ct,"advertisement"))).forEach(Q=>{de.push(Q.data())}),de}catch(de){return v(de.message),[]}},[]),R=async de=>{try{const se=Yt(Ct,"advertisement",de),Q=await mi(se);return Q.exists()?Q.data():{}}catch(se){return v(se.message),{}}},P=async de=>{try{const se=Yt(Ct,"websiteData","privacy");await cr(se,{...de,updatedAt:new Date})}catch(se){v(se.message)}},D=$.useCallback(async()=>{try{const de=Yt(Ct,"websiteData","privacy"),se=await mi(de);return se.exists()?se.data():{}}catch(de){return v(de.message),{}}},[]),L=async(de,se)=>{try{const Q=Yt(Ct,"users",se);let ee;try{ee=await mi(Q)}catch(re){console.error("Error fetching document:",re);return}if(ee.exists()){const re=ee.data(),U=re.notifications||[],W={...de,id:crypto.randomUUID()};U.push(W),await cr(Q,{...re,notifications:U})}}catch(Q){console.error("Error in addUserNotification:",Q),v(Q.message)}},z=async(de,se)=>{try{const Q=Yt(Ct,"users",de),ee=await mi(Q);if(ee.exists()){const re=ee.data(),W=(re.notifications||[]).map(ae=>ae.id===se?{...ae,readed:!0}:ae);await cr(Q,{...re,notifications:W})}else console.error("User document not found.")}catch(Q){console.error("Error updating notification:",Q.message)}},x=async de=>{const{message:se,readed:Q,time:ee,stars:re}=de;re.forEach(async U=>{await L({message:se,readed:Q,time:ee},U.Uid)})},Qe=async(de,se)=>{const{message:Q,readed:ee,time:re}=de,U={admin:"admin",user:"user",allAdmin:["admin","editor","viewer"]},ae=(ye=>ye==="allAdmin"?a.filter(ve=>U.allAdmin.includes(ve.role)):a.filter(ve=>ve.role===U[ye]))(se);for(const ye of ae)try{await L({message:Q,readed:ee,time:re},ye.Uid)}catch(ve){console.error(`Failed to add notification for user ${ye.Uid}:`,ve)}},ze=async de=>{try{const se=Yt(Ct,"users",de);await cr(se,{isDeleted:!0},{merge:!0}),await T()}catch(se){v(se.message)}};return $.useEffect(()=>{const de=B0(po,async se=>{if(s(se),se)try{await Promise.all([T(),w()])}catch(Q){v(Q.message)}t(!1)});return()=>de()},[po,T,w]),$.useEffect(()=>{w()},[]),Ge.jsx(HE.Provider,{value:{addHomeData:M,getHomeData:oe,currentUser:r,getUserAds:Z,addADs:te,allUsers:a,updateUser:N,contact:d,updateContact:C,getAllAds:A,updatePrivacy:P,getPrivacy:D,deleteUserFromDB:ze,fetchContact:w,SendNotification:x,updateNotificationReaded:z,UpdateCurrentUserAds:X,SendSignupNotification:Qe,getFirestoreStats:j,getAllStarUsers:E,getAdvbyID:R,error:m},children:!e&&n})},CL=()=>$.useContext(HE);var lN=(n,e,t,r,s,a,u,d)=>{let f=document.documentElement,m=["light","dark"];function v(w){(Array.isArray(n)?n:[n]).forEach(C=>{let N=C==="class",b=N&&a?s.map(j=>a[j]||j):s;N?(f.classList.remove(...b),f.classList.add(w)):f.setAttribute(C,w)}),T(w)}function T(w){d&&m.includes(w)&&(f.style.colorScheme=w)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)v(r);else try{let w=localStorage.getItem(e)||t,C=u&&w==="system"?E():w;v(C)}catch{}},uN=$.createContext(void 0),cN={setTheme:n=>{},themes:[]},hN=()=>{var n;return(n=$.useContext(uN))!=null?n:cN};$.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:u,themes:d,nonce:f,scriptProps:m})=>{let v=JSON.stringify([t,e,a,n,d,u,r,s]).slice(1,-1);return $.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${lN.toString()})(${v})`}})});var dN=n=>{switch(n){case"success":return mN;case"info":return yN;case"warning":return gN;case"error":return vN;default:return null}},fN=Array(12).fill(0),pN=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},fN.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mN=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gN=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yN=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vN=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_N=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wN=()=>{let[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},dp=1,EN=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:dp++,a=this.toasts.find(d=>d.id===s),u=n.dismissible===void 0?!0:n.dismissible;return a?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...n,id:s,title:t}),{...d,...n,id:s,dismissible:u,title:t}):d):this.addToast({title:t,...r,dismissible:u,id:s}),s},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,a,u=r.then(async f=>{if(a=["resolve",f],ce.isValidElement(f))s=!1,this.create({id:t,type:"default",message:f});else if(SN(f)&&!f.ok){s=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:t,type:"error",message:m,description:v})}else if(e.success!==void 0){s=!1;let m=typeof e.success=="function"?await e.success(f):e.success,v=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"success",message:m,description:v})}}).catch(async f=>{if(a=["reject",f],e.error!==void 0){s=!1;let m=typeof e.error=="function"?await e.error(f):e.error,v=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"error",message:m,description:v})}}).finally(()=>{var f;s&&(this.dismiss(t),t=void 0),(f=e.finally)==null||f.call(e)}),d=()=>new Promise((f,m)=>u.then(()=>a[0]==="reject"?m(a[1]):f(a[1])).catch(m));return typeof t!="string"&&typeof t!="number"?{unwrap:d}:Object.assign(t,{unwrap:d})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||dp++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},hr=new EN,TN=(n,e)=>{let t=(e==null?void 0:e.id)||dp++;return hr.addToast({title:n,...e,id:t}),t},SN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",IN=TN,RN=()=>hr.toasts,PL=Object.assign(IN,{success:hr.success,info:hr.info,warning:hr.warning,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading},{getHistory:RN});function CN(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}CN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xc(n){return n.label!==void 0}var PN=3,AN="32px",w_=4e3,kN=356,xN=14,bN=20,DN=200;function NN(...n){return n.filter(Boolean).join(" ")}var LN=n=>{var e,t,r,s,a,u,d,f,m,v,T;let{invert:E,toast:w,unstyled:C,interacting:N,setHeights:b,visibleToasts:j,heights:Z,index:X,toasts:te,expanded:M,removeToast:oe,defaultRichColors:A,closeButton:R,style:P,cancelButtonStyle:D,actionButtonStyle:L,className:z="",descriptionClassName:x="",duration:Qe,position:ze,gap:de,loadingIcon:se,expandByDefault:Q,classNames:ee,icons:re,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W,cn:ae}=n,[ye,ve]=ce.useState(!1),[He,be]=ce.useState(!1),[Xe,Me]=ce.useState(!1),[ht,en]=ce.useState(!1),[ei,qt]=ce.useState(!1),[Pr,mr]=ce.useState(0),[ti,ni]=ce.useState(0),Ar=ce.useRef(w.duration||Qe||w_),kr=ce.useRef(null),tn=ce.useRef(null),Wt=X===0,er=X+1<=j,Vt=w.type,hn=w.dismissible!==!1,Tn=w.className||"",dt=w.descriptionClassName||"",vt=ce.useMemo(()=>Z.findIndex(ke=>ke.toastId===w.id)||0,[Z,w.id]),Ln=ce.useMemo(()=>{var ke;return(ke=w.closeButton)!=null?ke:R},[w.closeButton,R]);ce.useMemo(()=>w.duration||Qe||w_,[w.duration,Qe]);let xr=ce.useRef(0),At=ce.useRef(0),tr=ce.useRef(0),On=ce.useRef(null),[br,Ai]=ze.split("-"),Dr=ce.useMemo(()=>Z.reduce((ke,We,Je)=>Je>=vt?ke:ke+We.height,0),[Z,vt]),nr=wN(),ri=w.invert||E,Vn=Vt==="loading";At.current=ce.useMemo(()=>vt*de+Dr,[vt,Dr]),ce.useEffect(()=>{ve(!0)},[]),ce.useEffect(()=>{let ke=tn.current;if(ke){let We=ke.getBoundingClientRect().height;return ni(We),b(Je=>[{toastId:w.id,height:We,position:w.position},...Je]),()=>b(Je=>Je.filter(_t=>_t.toastId!==w.id))}},[b,w.id]),ce.useLayoutEffect(()=>{if(!ye)return;let ke=tn.current,We=ke.style.height;ke.style.height="auto";let Je=ke.getBoundingClientRect().height;ke.style.height=We,ni(Je),b(_t=>_t.find(nn=>nn.toastId===w.id)?_t.map(nn=>nn.toastId===w.id?{...nn,height:Je}:nn):[{toastId:w.id,height:Je,position:w.position},..._t])},[ye,w.title,w.description,b,w.id]);let dn=ce.useCallback(()=>{be(!0),mr(At.current),b(ke=>ke.filter(We=>We.toastId!==w.id)),setTimeout(()=>{oe(w)},DN)},[w,oe,b,At]);ce.useEffect(()=>{if(w.promise&&Vt==="loading"||w.duration===1/0||w.type==="loading")return;let ke;return M||N||W&&nr?(()=>{if(tr.current<xr.current){let We=new Date().getTime()-xr.current;Ar.current=Ar.current-We}tr.current=new Date().getTime()})():Ar.current!==1/0&&(xr.current=new Date().getTime(),ke=setTimeout(()=>{var We;(We=w.onAutoClose)==null||We.call(w,w),dn()},Ar.current)),()=>clearTimeout(ke)},[M,N,w,Vt,W,nr,dn]),ce.useEffect(()=>{w.delete&&dn()},[dn,w.delete]);function Nr(){var ke,We,Je;return re!=null&&re.loading?ce.createElement("div",{className:ae(ee==null?void 0:ee.loader,(ke=w==null?void 0:w.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Vt==="loading"},re.loading):se?ce.createElement("div",{className:ae(ee==null?void 0:ee.loader,(We=w==null?void 0:w.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":Vt==="loading"},se):ce.createElement(pN,{className:ae(ee==null?void 0:ee.loader,(Je=w==null?void 0:w.classNames)==null?void 0:Je.loader),visible:Vt==="loading"})}return ce.createElement("li",{tabIndex:0,ref:tn,className:ae(z,Tn,ee==null?void 0:ee.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[Vt],(t=w==null?void 0:w.classNames)==null?void 0:t[Vt]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:A,"data-styled":!(w.jsx||w.unstyled||C),"data-mounted":ye,"data-promise":!!w.promise,"data-swiped":ei,"data-removed":He,"data-visible":er,"data-y-position":br,"data-x-position":Ai,"data-index":X,"data-front":Wt,"data-swiping":Xe,"data-dismissible":hn,"data-type":Vt,"data-invert":ri,"data-swipe-out":ht,"data-expanded":!!(M||Q&&ye),style:{"--index":X,"--toasts-before":X,"--z-index":te.length-X,"--offset":`${He?Pr:At.current}px`,"--initial-height":Q?"auto":`${ti}px`,...P,...w.style},onPointerDown:ke=>{Vn||!hn||(kr.current=new Date,mr(At.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Me(!0),On.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,We,Je,_t;if(ht||!hn)return;On.current=null;let nn=Number(((ke=tn.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Bn=new Date().getTime()-((We=kr.current)==null?void 0:We.getTime()),O=Math.abs(nn)/Bn;if(Math.abs(nn)>=bN||O>.11){mr(At.current),(Je=w.onDismiss)==null||Je.call(w,w),dn(),en(!0),qt(!1);return}(_t=tn.current)==null||_t.style.setProperty("--swipe-amount","0px"),Me(!1)},onPointerMove:ke=>{var We,Je;if(!On.current||!hn)return;let _t=ke.clientY-On.current.y,nn=((We=window.getSelection())==null?void 0:We.toString().length)>0,Bn=br==="top"?Math.min(0,_t):Math.max(0,_t);Math.abs(Bn)>0&&qt(!0),!nn&&((Je=tn.current)==null||Je.style.setProperty("--swipe-amount",`${Bn}px`))}},Ln&&!w.jsx?ce.createElement("button",{"aria-label":U,"data-disabled":Vn,"data-close-button":!0,onClick:Vn||!hn?()=>{}:()=>{var ke;dn(),(ke=w.onDismiss)==null||ke.call(w,w)},className:ae(ee==null?void 0:ee.closeButton,(s=w==null?void 0:w.classNames)==null?void 0:s.closeButton)},(a=re==null?void 0:re.close)!=null?a:_N):null,w.jsx||ce.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:ce.createElement(ce.Fragment,null,Vt||w.icon||w.promise?ce.createElement("div",{"data-icon":"",className:ae(ee==null?void 0:ee.icon,(u=w==null?void 0:w.classNames)==null?void 0:u.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Nr():null,w.type!=="loading"?w.icon||(re==null?void 0:re[Vt])||dN(Vt):null):null,ce.createElement("div",{"data-content":"",className:ae(ee==null?void 0:ee.content,(d=w==null?void 0:w.classNames)==null?void 0:d.content)},ce.createElement("div",{"data-title":"",className:ae(ee==null?void 0:ee.title,(f=w==null?void 0:w.classNames)==null?void 0:f.title)},typeof w.title=="function"?w.title():w.title),w.description?ce.createElement("div",{"data-description":"",className:ae(x,dt,ee==null?void 0:ee.description,(m=w==null?void 0:w.classNames)==null?void 0:m.description)},typeof w.description=="function"?w.description():w.description):null),ce.isValidElement(w.cancel)?w.cancel:w.cancel&&xc(w.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||D,onClick:ke=>{var We,Je;xc(w.cancel)&&hn&&((Je=(We=w.cancel).onClick)==null||Je.call(We,ke),dn())},className:ae(ee==null?void 0:ee.cancelButton,(v=w==null?void 0:w.classNames)==null?void 0:v.cancelButton)},w.cancel.label):null,ce.isValidElement(w.action)?w.action:w.action&&xc(w.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||L,onClick:ke=>{var We,Je;xc(w.action)&&((Je=(We=w.action).onClick)==null||Je.call(We,ke),!ke.defaultPrevented&&dn())},className:ae(ee==null?void 0:ee.actionButton,(T=w==null?void 0:w.classNames)==null?void 0:T.actionButton)},w.action.label):null))};function E_(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var ON=$.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:u,className:d,offset:f,theme:m="light",richColors:v,duration:T,style:E,visibleToasts:w=PN,toastOptions:C,dir:N=E_(),gap:b=xN,loadingIcon:j,icons:Z,containerAriaLabel:X="Notifications",pauseWhenPageIsHidden:te,cn:M=NN}=n,[oe,A]=ce.useState([]),R=ce.useMemo(()=>Array.from(new Set([r].concat(oe.filter(W=>W.position).map(W=>W.position)))),[oe,r]),[P,D]=ce.useState([]),[L,z]=ce.useState(!1),[x,Qe]=ce.useState(!1),[ze,de]=ce.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=ce.useRef(null),Q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=ce.useRef(null),re=ce.useRef(!1),U=ce.useCallback(W=>{A(ae=>{var ye;return(ye=ae.find(ve=>ve.id===W.id))!=null&&ye.delete||hr.dismiss(W.id),ae.filter(({id:ve})=>ve!==W.id)})},[]);return ce.useEffect(()=>hr.subscribe(W=>{if(W.dismiss){A(ae=>ae.map(ye=>ye.id===W.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{sI.flushSync(()=>{A(ae=>{let ye=ae.findIndex(ve=>ve.id===W.id);return ye!==-1?[...ae.slice(0,ye),{...ae[ye],...W},...ae.slice(ye+1)]:[W,...ae]})})})}),[]),ce.useEffect(()=>{if(m!=="system"){de(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:ae})=>{de(ae?"dark":"light")})}catch{W.addListener(({matches:ye})=>{try{de(ye?"dark":"light")}catch(ve){console.error(ve)}})}},[m]),ce.useEffect(()=>{oe.length<=1&&z(!1)},[oe]),ce.useEffect(()=>{let W=ae=>{var ye,ve;s.every(He=>ae[He]||ae.code===He)&&(z(!0),(ye=se.current)==null||ye.focus()),ae.code==="Escape"&&(document.activeElement===se.current||(ve=se.current)!=null&&ve.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),ce.useEffect(()=>{if(se.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,re.current=!1)}},[se.current]),ce.createElement("section",{"aria-label":`${X} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},R.map((W,ae)=>{var ye;let[ve,He]=W.split("-");return oe.length?ce.createElement("ol",{key:W,dir:N==="auto"?E_():N,tabIndex:-1,ref:se,className:d,"data-sonner-toaster":!0,"data-theme":ze,"data-y-position":ve,"data-lifted":L&&oe.length>1&&!a,"data-x-position":He,style:{"--front-toast-height":`${((ye=P[0])==null?void 0:ye.height)||0}px`,"--offset":typeof f=="number"?`${f}px`:f||AN,"--width":`${kN}px`,"--gap":`${b}px`,...E},onBlur:be=>{re.current&&!be.currentTarget.contains(be.relatedTarget)&&(re.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||re.current||(re.current=!0,ee.current=be.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{x||z(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||Qe(!0)},onPointerUp:()=>Qe(!1)},oe.filter(be=>!be.position&&ae===0||be.position===W).map((be,Xe)=>{var Me,ht;return ce.createElement(LN,{key:be.id,icons:Z,index:Xe,toast:be,defaultRichColors:v,duration:(Me=C==null?void 0:C.duration)!=null?Me:T,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:t,visibleToasts:w,closeButton:(ht=C==null?void 0:C.closeButton)!=null?ht:u,interacting:x,position:W,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:U,toasts:oe.filter(en=>en.position==be.position),heights:P.filter(en=>en.position==be.position),setHeights:D,expandByDefault:a,gap:b,loadingIcon:j,expanded:L,pauseWhenPageIsHidden:te,cn:M})})):null}))});const VN=({...n})=>{const{theme:e="system"}=hN();return Ge.jsx(ON,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function MN(){return Ge.jsx(ND,{children:Ge.jsx(iN,{children:Ge.jsx(oN,{children:Ge.jsxs(aN,{children:[Ge.jsx(oI,{router:nN}),Ge.jsx(VN,{position:"top-center"})]})})})})}const Be=n=>typeof n=="string",Rl=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},T_=n=>n==null?"":""+n,UN=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},FN=/###/g,S_=n=>n&&n.indexOf("###")>-1?n.replace(FN,"."):n,I_=n=>!n||Be(n),Fl=(n,e,t)=>{const r=Be(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(I_(n))return{};const a=S_(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return I_(n)?{}:{obj:n,k:S_(r[s])}},R_=(n,e,t)=>{const{obj:r,k:s}=Fl(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=Fl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=Fl(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},jN=(n,e,t,r)=>{const{obj:s,k:a}=Fl(n,e,Object);s[a]=s[a]||[],s[a].push(t)},fh=(n,e)=>{const{obj:t,k:r}=Fl(n,e);if(t)return t[r]},zN=(n,e,t)=>{const r=fh(n,t);return r!==void 0?r:fh(e,t)},qE=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Be(n[r])||n[r]instanceof String||Be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):qE(n[r],e[r],t):n[r]=e[r]);return n},ga=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var BN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $N=n=>Be(n)?n.replace(/[&<>"'\/]/g,e=>BN[e]):n;class HN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const qN=[" ",",","?","!",";"],WN=new HN(20),KN=(n,e,t)=>{e=e||"",t=t||"";const r=qN.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=WN.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},fp=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},ph=n=>n==null?void 0:n.replace("_","-"),GN={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class mh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||GN,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mh(this.logger,e)}}var vi=new mh;class $h{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d.apply(d,[e,...r])})}}class C_ extends $h{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var m,v;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Be(r)&&a?d.push(...r.split(a)):d.push(r)));const f=fh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!Be(r)?f:fp((v=(m=this.data)==null?void 0:m[e])==null?void 0:v[t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),R_(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(Be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=fh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?qE(f,r,a):f={...f,...r},R_(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var WE={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{var u;e=((u=this.processors[a])==null?void 0:u.process(e,t,r,s))??e}),e}};const P_={};class gh extends $h{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),UN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!KN(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Be(a)?[a]:a};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),e=m.join(s)}return{key:e,namespaces:Be(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),f=d[d.length-1],m=t.lng||this.language,v=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode"){if(v){const te=t.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${te}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${te}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const T=this.resolve(e,t);let E=T==null?void 0:T.res;const w=(T==null?void 0:T.usedKey)||u,C=(T==null?void 0:T.exactUsedKey)||u,N=Object.prototype.toString.apply(E),b=["[object Number]","[object Function]","[object RegExp]"],j=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,Z=!this.i18nFormat||this.i18nFormat.handleAsObject,X=!Be(E)&&typeof E!="boolean"&&typeof E!="number";if(Z&&E&&X&&b.indexOf(N)<0&&!(Be(j)&&Array.isArray(E))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const te=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,E,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(T.res=te,T.usedParams=this.getUsedParamsDetails(t),T):te}if(a){const te=Array.isArray(E),M=te?[]:{},oe=te?C:w;for(const A in E)if(Object.prototype.hasOwnProperty.call(E,A)){const R=`${oe}${a}${A}`;M[A]=this.translate(R,{...t,joinArrays:!1,ns:d}),M[A]===R&&(M[A]=E[A])}E=M}}else if(Z&&Be(j)&&Array.isArray(E))E=E.join(j),E&&(E=this.extendTranslation(E,e,t,r));else{let te=!1,M=!1;const oe=t.count!==void 0&&!Be(t.count),A=gh.hasDefaultValue(t),R=oe?this.pluralResolver.getSuffix(m,t.count,t):"",P=t.ordinal&&oe?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",D=oe&&!t.ordinal&&t.count===0,L=D&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${R}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(E)&&A&&(te=!0,E=L),this.isValidLookup(E)||(M=!0,E=u);const x=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:E,Qe=A&&L!==E&&this.options.updateMissing;if(M||te||Qe){if(this.logger.log(Qe?"updateKey":"missingKey",m,f,u,Qe?L:E),a){const Q=this.resolve(u,{...t,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ze=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let Q=0;Q<de.length;Q++)ze.push(de[Q]);else this.options.saveMissingTo==="all"?ze=this.languageUtils.toResolveHierarchy(t.lng||this.language):ze.push(t.lng||this.language);const se=(Q,ee,re)=>{var W;const U=A&&re!==E?re:x;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,f,ee,U,Qe,t):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(Q,f,ee,U,Qe,t),this.emit("missingKey",Q,f,ee,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&oe?ze.forEach(Q=>{const ee=this.pluralResolver.getSuffixes(Q,t);D&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(re=>{se([Q],u+re,t[`defaultValue${re}`]||L)})}):se(ze,u,L))}E=this.extendTranslation(E,e,t,T,r),M&&E===u&&this.options.appendNamespaceToMissingKey&&(E=`${f}:${u}`),(M||te)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,te?E:void 0))}return s?(T.res=E,T.usedParams=this.getUsedParamsDetails(t),T):E}extendTranslation(e,t,r,s,a){var m,v;var u=this;if((m=this.i18nFormat)!=null&&m.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const T=Be(e)&&(((v=r==null?void 0:r.interpolation)==null?void 0:v.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let E;if(T){const C=e.match(this.interpolator.nestingRegexp);E=C&&C.length}let w=r.replace&&!Be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,r.lng||this.language||s.usedLng,r),T){const C=e.match(this.interpolator.nestingRegexp),N=C&&C.length;E<N&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var C=arguments.length,N=new Array(C),b=0;b<C;b++)N[b]=arguments[b];return(a==null?void 0:a[0])===N[0]&&!r.context?(u.logger.warn(`It seems you are nesting recursively key: ${N[0]} in key: ${t[0]}`),null):u.translate(...N,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,f=Be(d)?[d]:d;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=WE.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,u,d;return Be(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),v=m.key;s=v;let T=m.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const E=t.count!==void 0&&!Be(t.count),w=E&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Be(t.context)||typeof t.context=="number")&&t.context!=="",N=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(b=>{var j,Z;this.isValidLookup(r)||(d=b,!P_[`${N[0]}-${b}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((Z=this.utils)!=null&&Z.hasLoadedNamespace(d))&&(P_[`${N[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${N.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(X=>{var oe;if(this.isValidLookup(r))return;u=X;const te=[v];if((oe=this.i18nFormat)!=null&&oe.addLookupKeys)this.i18nFormat.addLookupKeys(te,v,X,b,t);else{let A;E&&(A=this.pluralResolver.getSuffix(X,t.count,t));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(te.push(v+A),t.ordinal&&A.indexOf(P)===0&&te.push(v+A.replace(P,this.options.pluralSeparator)),w&&te.push(v+R)),C){const D=`${v}${this.options.contextSeparator}${t.context}`;te.push(D),E&&(te.push(D+A),t.ordinal&&A.indexOf(P)===0&&te.push(D+A.replace(P,this.options.pluralSeparator)),w&&te.push(D+R))}}let M;for(;M=te.pop();)this.isValidLookup(r)||(a=M,r=this.getResource(X,b,M,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var a;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Be(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class A_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vi.create("languageUtils")}getScriptPartFromCode(e){if(e=ph(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ph(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Be(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Be(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}const k_={zero:0,one:1,two:2,few:3,many:4,other:5},x_={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class QN{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=vi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=ph(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),x_;if(!e.match(/-|_/))return x_;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>k_[s]-k_[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const b_=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=zN(n,e,t);return!a&&s&&Be(t)&&(a=fp(n,t,r),a===void 0&&(a=fp(e,t,r))),a},Uf=n=>n.replace(/\$/g,"$$$$");class YN{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:E,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:N,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:Z}=e.interpolation;this.escape=t!==void 0?t:$N,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?ga(a):u||"{{",this.suffix=d?ga(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=E?ga(E):w||ga("$t("),this.nestingSuffix=C?ga(C):N||ga(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=Z!==void 0?Z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var w;let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=C=>{if(C.indexOf(this.formatSeparator)<0){const Z=b_(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Z,void 0,r,{...s,...t,interpolationkey:C}):Z}const N=C.split(this.formatSeparator),b=N.shift().trim(),j=N.join(this.formatSeparator).trim();return this.format(b_(t,f,b,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...s,...t,interpolationkey:b})};this.resetRegExp();const v=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,T=((w=s==null?void 0:s.interpolation)==null?void 0:w.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Uf(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Uf(this.escape(C)):Uf(C)}].forEach(C=>{for(d=0;a=C.regex.exec(e);){const N=a[1].trim();if(u=m(N),u===void 0)if(typeof v=="function"){const j=v(e,a,s);u=Be(j)?j:""}else if(s&&Object.prototype.hasOwnProperty.call(s,N))u="";else if(T){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),u="";else!Be(u)&&!this.useRawValueToEscape&&(u=T_(u));const b=C.safeValue(u);if(e=e.replace(a[0],b),T?(C.regex.lastIndex+=u.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,u;const d=(f,m)=>{const v=this.nestingOptionsSeparator;if(f.indexOf(v)<0)return f;const T=f.split(new RegExp(`${v}[ ]*{`));let E=`{${T[1]}`;f=T[0],E=this.interpolate(E,u);const w=E.match(/'/g),C=E.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!C||C.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),m&&(u={...m,...u})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,N),`${f}${v}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!Be(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const v=s[1].split(this.formatSeparator).map(T=>T.trim());s[1]=v.shift(),f=v,m=!0}if(a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!Be(a))return a;Be(a)||(a=T_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),m&&(a=f.reduce((v,T)=>this.format(v,T,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const XN=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=m),m==="false"&&(t[v]=!1),m==="true"&&(t[v]=!0),isNaN(m)||(t[v]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},ya=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(ph(r),s),e[u]=d),d(t)}};class JN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vi.create("formatter"),this.options=e,this.formats={number:ya((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:ya((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:ya((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:ya((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:ya((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ya(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{var T;const{formatName:m,formatOptions:v}=XN(f);if(this.formats[m]){let E=d;try{const w=((T=s==null?void 0:s.formatParams)==null?void 0:T[s.interpolationkey])||{},C=w.locale||w.lng||s.locale||s.lng||r;E=this.formats[m](d,C,{...v,...s,...w})}catch(w){this.logger.warn(w)}return E}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const ZN=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class eL extends $h{constructor(e,t,r){var a,u;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=vi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(a=this.backend)==null?void 0:a.init)==null||u.call(a,r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(m=>{let v=!0;t.forEach(T=>{const E=`${m}|${T}`;!r.reload&&this.store.hasResourceBundle(m,T)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,v=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),f[T]===void 0&&(f[T]=!0)))}),v||(d[m]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{jN(f.loaded,[a],u),ZN(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const v=f.loaded[m];v.length&&v.forEach(T=>{d[m][T]===void 0&&(d[m][T]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(m,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(m&&v&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(m,v)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(v=>d(null,v)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a){var f,m,v,T,E;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace&&!((T=(v=this.services)==null?void 0:v.utils)!=null&&T.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const w={...u,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let N;C.length===5?N=C(e,t,r,s,w):N=C(e,t,r,s),N&&typeof N.then=="function"?N.then(b=>d(null,b)).catch(d):d(null,N)}catch(N){d(N)}else C(e,t,r,s,d,w)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const D_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Be(n[1])&&(e.defaultValue=n[1]),Be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),N_=n=>{var e,t;return Be(n.ns)&&(n.ns=[n.ns]),Be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},bc=()=>{},tL=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Yl extends $h{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=N_(e),this.services={},this.logger=vi,this.modules={external:[]},tL(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=D_();this.options={...s,...this.options,...N_(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?vi.init(a(this.modules.logger),this.options):vi.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=JN;const T=new A_(this.options);this.store=new C_(this.options.resources,this.options);const E=this.services;E.logger=vi,E.resourceStore=this.store,E.languageUtils=T,E.pluralResolver=new QN(T,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(E.formatter=a(v),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new YN(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new eL(a(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(w){for(var C=arguments.length,N=new Array(C>1?C-1:0),b=1;b<C;b++)N[b-1]=arguments[b];e.emit(w,...N)}),this.modules.languageDetector&&(E.languageDetector=a(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=a(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new gh(this.services,this.options),this.translator.on("*",function(w){for(var C=arguments.length,N=new Array(C>1?C-1:0),b=1;b<C;b++)N[b-1]=arguments[b];e.emit(w,...N)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,r||(r=bc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return e.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return e.store[v](...arguments),e}});const f=Rl(),m=()=>{const v=(T,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(E),r(T,E)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),f}loadResources(e){var a,u;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bc;const s=Be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(T=>{T!=="cimode"&&d.indexOf(T)<0&&d.push(T)})};s?f(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>f(v)),(u=(a=this.options.preload)==null?void 0:a.forEach)==null||u.call(a,m=>f(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(m)})}else r(null)}reloadResources(e,t,r){const s=Rl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=bc),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&WE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Rl();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},d=f=>{var v,T;!e&&!f&&this.services.languageDetector&&(f=[]);const m=Be(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),(T=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||T.call(v,m)),this.loadResources(m,E=>{u(E,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,t,r){var s=this;const a=function(u,d){let f;if(typeof d!="object"){for(var m=arguments.length,v=new Array(m>2?m-2:0),T=2;T<m;T++)v[T-2]=arguments[T];f=s.options.overloadTranslationOptionHandler([u,d].concat(v))}else f={...d};f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const E=s.options.keySeparator||".";let w;return f.keyPrefix&&Array.isArray(u)?w=u.map(C=>`${f.keyPrefix}${E}${C}`):w=f.keyPrefix?`${f.keyPrefix}${E}${u}`:u,s.t(w,f)};return Be(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){var s;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(s=this.translator)==null?void 0:s.translate(...t)}exists(){var s;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Rl();return this.options.ns?(Be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Rl();Be(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var s,a;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new A_(D_());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Yl(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bc;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new Yl(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},Object.keys(f[m]).reduce((v,T)=>(v[T]={...f[m][T]},v),{})),{});a.store=new C_(d,s),a.services.resourceStore=a.store}return a.translator=new gh(a.services,s),a.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];a.emit(d,...m)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Nn=Yl.createInstance();Nn.createInstance=Yl.createInstance;Nn.createInstance;Nn.dir;Nn.init;Nn.loadResources;Nn.reloadResources;Nn.use;Nn.changeLanguage;Nn.getFixedT;Nn.t;Nn.exists;Nn.setDefaultNamespace;Nn.hasLoadedNamespace;Nn.loadNamespaces;Nn.loadLanguages;const nL={home:"الرئيسية",privacy:"سياسة الخصوصية",contact:"تواصل معنا",stars:"النجوم"},rL={title:"إعلانات تصل إلى جمهورك الحقيقي!",description:"اختر المؤثرين المناسبين وحقق نتائج حقيقية بدون تكلفة حملات ضخمة.",button:"ابدأ الآن"},iL={firstTitle:" ضاعف انتشارك! أعلن معنا مع أبرز مشاهير محافظة",secondTitle:"وأوصل رسالتك إلى الجمهور المستهدف",firstDescription:"أعلن معنا وكن جزءًا من عالم مشاهير محافظة",secondDescription:"حيث يتصدر إعلانك المشهد ويصل إلى آلاف المتابعين في منطقتك. بفضل قاعدة جماهيرية واسعة وتأثير قوي، ستتمكن من تعزيز علامتك التجارية وتحقيق أهدافك التسويقية. انضم الآن واكتشف قوة الإعلان الموجه والمستهدف!"},sL={Title:"الحملات الإعلانية المتوفرة حاليًا"},oL={copyright:"جميع الحقوق محفوظة.",terms:"الشروط والأحكام"},aL={welcome:"مرحبًا بكم في موقعنا!",description:"هذه وصف الصفحة الرئيسية."},lL={navbar:nL,heroSection:rL,cityAdv:iL,currentAdv:sL,footer:oL,homepage:aL},uL={home:"Home",about:"About",contact:"Contact"},cL={copyright:"All rights reserved.",terms:"Terms and Conditions"},hL={welcome:"Welcome to our website!",description:"This is a description for the homepage."},dL={navbar:uL,footer:cL,homepage:hL};Nn.init({lng:"ar",fallbackLng:"ar",resources:{ar:{translation:lL},en:{translation:dL}}});iS.createRoot(document.getElementById("root")).render(Ge.jsx(MN,{}));export{e0 as L,gL as O,ce as R,Ft as _,ns as a,LD as b,CL as c,pp as d,IL as e,TL as f,L_ as g,SL as h,n0 as i,Ge as j,dI as k,av as l,Cp as m,vL as n,fL as o,sI as p,rS as q,$ as r,RL as s,PL as t,G_ as u,pL as v};
