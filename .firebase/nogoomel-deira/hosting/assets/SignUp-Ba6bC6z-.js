import{j as e,b as E,u as T,r as u,c as C,L as v}from"./index-D9rFWhwf.js";import{u as U}from"./index.esm-BpECATmD.js";import{F as _,a as $,b as A,c as B,d as M,e as O}from"./index-Bb3Ulv-h.js";import{L as R}from"./Deira-logo2-q4QQy5sZ.js";import{T as l,G as w}from"./data-BEbSXYvH.js";import{I as V,_ as b}from"./index-CzHyvqDe.js";import{C as Y}from"./CheckboxList-CslpoRGy.js";import"./iconBase-BBGhNxoz.js";const o=({id:r,label:i,type:n="text",register:c})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:r,className:"block text-gray-700 text-sm font-bold mb-2",children:i}),e.jsx("input",{id:r,type:n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none",...c(r)})]}),q=({register:r})=>{const i=[{id:"facebook",label:"",icon:e.jsx(_,{className:"text-blue-600"})},{id:"twitter",label:"",icon:e.jsx($,{className:"text-blue-400"})},{id:"snapchat",label:"",icon:e.jsx(A,{className:"text-yellow-500"})},{id:"tiktok",label:"",icon:e.jsx(B,{className:"text-black"})},{id:"instagram",label:"",icon:e.jsx(M,{className:"text-pink-500"})},{id:"youtube",label:"",icon:e.jsx(O,{className:"text-red-600"})}];return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-center mb-4",children:"التواصل الاجتماعى      "}),i.map(({id:n,label:c,icon:a})=>e.jsx(o,{id:n,type:"url",label:e.jsx("span",{className:"flex items-center gap-2",children:c}),register:r},n))]})},ae=()=>{const{signUp:r}=E(),i=T(),[n,c]=u.useState([]),{register:a,handleSubmit:k}=U(),[h,p]=u.useState(null),[z,f]=u.useState(!1),{SendSignupNotification:F}=C(),[S,j]=u.useState([]),P=s=>{j([]);const d=s.target.value,t=w.find(m=>m.name===d);c(t?t.subGovernments:[])},g=s=>s.includes("auth/email-already-in-use")?"هذا البريد الإلكتروني مستخدم بالفعل.":s.includes("auth/weak-password")?"كلمة المرور ضعيفة جدًا. يجب أن تحتوي على 6 أحرف على الأقل.":"حدث خطأ غير معروف. الرجاء المحاولة مرة أخرى.",G=async s=>{const d=`تم تسجيل حساب جديد بواسطة ${s.name} - ${s.email} وبانتظار المراجعة`,t=new Date,m=!1;if(!s.privacyPolicy){b.error("يجب الموافقة على سياسة الخصوصية");return}if(s.confirmPassword!==s.password){b.error("كلمة المرور غير متطابقة");return}if(!/^\d{10,11}$/.test(s.phone)){b.error("يجب أن يكون رقم الهاتف مكوناً من 10 أو 11 رقماً ويتكون من أرقام فقط");return}try{p(null),f(!0);const{email:x,password:L,confirmPassword:H,...I}=s;let N={...I,area:S};console.log("NewData : ",N);const y=await r(x,L,N,"star");y.success?(b.success("تم تسجيل الحساب بنجاح!"),F({message:d,readed:m,time:t},"allAdmin"),i("/status")):p(g(y.error))}catch(x){p(g(x.code)),console.error("Error during submission:",x.message)}finally{f(!1)}},D=(s,d)=>{j(t=>{if(d){if(!t.includes(s))return[...t,s]}else return t.filter(m=>m!==s);return t})};return e.jsxs("div",{className:"PatternBG py-10 flex items-center justify-center min-h-screen",children:[e.jsxs("div",{className:"w-full max-w-7xl bg-white p-6 rounded-lg shadow-md",children:[e.jsx("img",{src:R,alt:"logo",className:"w-10 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:l.title}),h&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:" خطأ! "}),e.jsx("span",{className:"block sm:inline",children:h})]}),e.jsxs("form",{onSubmit:k(G),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{id:"name",label:l.name,register:a}),e.jsx(o,{id:"email",label:l.email,type:"email",register:a}),e.jsx(o,{id:"phone",label:l.phone,register:a}),e.jsx(o,{id:"password",label:l.password,type:"password",register:a}),e.jsx(o,{id:"confirmPassword",label:"تاكيد كلمة المرور",type:"password",register:a}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:l.area}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none",...a("govern"),onChange:P,children:[e.jsx("option",{value:"",children:"اختر المنطقة"}),w.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]})]}),n.length>0?e.jsx("div",{className:"mb-4",children:e.jsx(Y,{text:"اختر المحافظات",selected:D,items:n})}):e.jsxs("div",{children:[e.jsx("h6",{className:"mt-10  font-semibold text-black",children:"اختيار المحافظات"}),e.jsx("div",{className:"p-4 bg-red-50 rounded-lg text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"يجب تحديد المنطقة أولًا"})})]}),e.jsx("input",{type:"hidden",...a("accountType"),value:"عادي"})]}),e.jsx(q,{register:a})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"mr-2",...a("privacyPolicy")}),l.privacyPolicy,e.jsxs("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 font-bold",children:[" ",l.privacyPolicyLink]})]})}),e.jsx("div",{className:"w-full mx-auto flex flex-col",children:e.jsx("button",{type:"submit",className:"w-fit px-20 mx-auto bg-indigo-600 text-white py-2 mt-6 rounded-lg hover:bg-indigo-700",children:l.signUp})}),e.jsxs("div",{className:"w-full mx-auto flex flex-row justify-center items-center gap-20 p-4",children:[e.jsx(v,{to:"/login",className:"text-blue-500 hover:text-blue-700 transition font-semibold hover:underline","aria-label":"الانتقال إلى تسجيل الدخول",children:"تسجيل الدخول"}),e.jsx(v,{to:"/",className:"text-blue-500 hover:text-blue-700 transition font-semibold hover:underline","aria-label":"العودة إلى الصفحة الرئيسية",children:"الصفحة الرئيسية"})]})]})]}),e.jsx(V,{position:"top-center",reverseOrder:!1})]})};export{ae as default};
