import{g as S,j as e,L as g,a as E,r as a,u as w,b as A}from"./index-CIX5mdRk.js";import{r as $}from"./index-Chjiymov.js";import{c as D}from"./index-Clxeu8pA.js";import{G as P}from"./data-BQug-B3m.js";import{L as v}from"./LoginStar-BsrTecc1.js";import{L as T}from"./Deira-logo2-q4QQy5sZ.js";var I=$();const t=S(I),N=({primaryLogo:s,whiteLogo:n,isScrolled:r=!1})=>e.jsx(g,{to:"/",className:"transition-transform duration-300 hover:scale-105",children:e.jsx("img",{src:r?s:n,alt:"Logo",className:"w-44 transition-opacity duration-300"})});N.propTypes={primaryLogo:t.string.isRequired,whiteLogo:t.string.isRequired,isScrolled:t.bool};const m=({links:s,isMobile:n=!1,isScrolled:r})=>{const i=E();return e.jsx("div",{style:{direction:"ltr"},className:`${n?"flex flex-col space-y-4":"flex flex-row-reverse justify-center space-x-1 md:space-x-2"}`,children:s.map(({path:o,label:l})=>e.jsx(g,{to:o,className:`
            ${r?"md:text-gray-800 md:after:bg-primary ":"md:text-white md:after:bg-white"}
            font-bold text-primary hover:text-primaryHover 
            px-4 py-2 rounded-lg transition-all duration-300
            relative after:content-[''] after:absolute after:bottom-0 
            after:left-0 after:w-full after:h-0.5 
            after:scale-x-0 hover:after:scale-x-100 after:transition-transform
            after:duration-300 ${i.pathname===o?"after:scale-x-100":""}
            ${n?"text-center text-lg":""}
          `,children:l},o))})};m.propTypes={links:t.arrayOf(t.shape({path:t.string.isRequired,label:t.string.isRequired})).isRequired,isMobile:t.bool};const z=(s,n)=>{a.useEffect(()=>{const r=i=>{s.current&&!s.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[s,n])},p=({user:s,onLogout:n,isMobile:r=!1})=>{const[i,o]=a.useState(!1),l=a.useRef(null),d=w();return z(l,()=>o(!1)),s.isAuthenticated?e.jsxs("div",{className:`relative ${r?"w-full":""}`,ref:l,children:[e.jsxs("button",{onClick:()=>o(!i),className:`
          flex items-center h-10 p-1 bg-white rounded-full 
          border-black border-2 hover:border-primary transition-colors duration-300
          ${r?"w-full justify-center":"w-full gap-2"}
        `,children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),e.jsx("span",{className:"font-bold text-gray-800",children:s.name}),e.jsx(D,{size:25,className:`transition-transform duration-300 ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:`
          bg-white rounded-lg shadow-lg py-2 z-50
          border border-gray-200 transform origin-top scale-y-100 transition-transform
          ${r?"w-full mt-2":"absolute right-0 mt-2 w-48"}
        `,children:[e.jsx("button",{onClick:()=>{o(!1),n()},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                     transition-colors duration-200`,children:"تسجيل الخروج"}),e.jsx("button",{onClick:()=>{o(!1),d("/profile")},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                     transition-colors duration-200`,children:"الملف الشخصي"}),s.role!=="star"&&e.jsx("button",{onClick:()=>{o(!1),d("/dashboard")},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                       transition-colors duration-200`,children:"لوحة التحكم للمشرف"})]})]}):null};p.propTypes={user:t.shape({name:t.string.isRequired,image:t.string.isRequired,isAuthenticated:t.bool.isRequired}).isRequired,onLogout:t.func.isRequired,isMobile:t.bool};const h=({onLogin:s,isMobile:n=!1,isScrolled:r})=>(a.useEffect(()=>{console.log(r)},[r]),e.jsx(g,{to:"/login",onClick:s,className:`
        ${r?"text-white bg-primary":"text-primary bg-white hover:bg-gray-200"}
        px-6 py-2   font-bold rounded-full
        transition-colors duration-300
        border-2 border-transparent 
        flex items-center justify-center
        ${n?"w-full":""}
      `,children:"الإدارة"}));h.propTypes={onLogin:t.func.isRequired,isMobile:t.bool};const f=({isScrolled:s})=>{const[n,r]=a.useState("");a.useEffect(()=>{const o=localStorage.getItem("selectedArea");o&&r(o)},[]);const i=o=>{const l=o.target.value;r(l),localStorage.setItem("selectedArea",l),window.location.reload()};return e.jsx("div",{children:e.jsxs("select",{value:n,onChange:i,className:`
        ${s?"text-white bg-primary":"text-primary bg-white hover:bg-gray-200"}
        px-6 py-2   font-bold rounded-full
        transition-colors duration-300
        border-2 border-transparent h-fit
        flex items-center justify-center text-center
        
      `,children:[e.jsx("option",{value:"",disabled:!0,children:"اختر المنطقة"}),e.jsx("option",{value:"all",children:"كل المناطق"}),P.map(o=>e.jsx("option",{value:o.name,children:o.name},o.name))]})})},L=({isOpen:s,links:n,user:r,onLogin:i,onLogout:o,onClose:l=()=>{}})=>s?e.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-white",children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>l(),children:e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})}),e.jsx("div",{className:"flex flex-col items-center mt-8 space-y-6",children:e.jsx("div",{className:"mt-auto",children:r!=null&&r.isAuthenticated?e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(m,{links:n,isMobile:!0}),e.jsx(p,{user:r,onLogout:o,isMobile:!0})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(m,{links:n,isMobile:!0}),e.jsx(h,{onLogin:i,isMobile:!0})]})})})]})}):null;L.propTypes={isOpen:t.bool.isRequired,links:t.arrayOf(t.shape({path:t.string.isRequired,label:t.string.isRequired})).isRequired,user:t.shape({name:t.string.isRequired,image:t.string.isRequired,isAuthenticated:t.bool.isRequired}),onLogin:t.func.isRequired,onLogout:t.func.isRequired,onClose:t.func};const k=({onClick:s,isOpen:n})=>e.jsxs("button",{onClick:s,className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500","aria-expanded":n,children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})]});k.propTypes={onClick:t.func.isRequired,isOpen:t.bool.isRequired};const U=(s=20)=>{const[n,r]=a.useState(!1);return a.useEffect(()=>{const i=()=>{r(window.scrollY>s)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[s]),n},B="/assets/Deira-logo-BLphbyYR.png",F="/assets/Deira-logo_colored-Czb8DdFX.png",W=()=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 z-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"w-32 h-32 mb-4 animate-bounce-slow shadow-lg rounded-full p-1 bg-white",children:e.jsx("img",{src:T,alt:"Logo",className:"w-20 h-20 mt-5 mx-auto "})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 border-4 border-blue-500 border-opacity-30 rounded-full animate-spin-slow"}),e.jsx("div",{className:"absolute top-0 left-0 w-14 h-14 border-4 border-blue-500 border-t-transparent rounded-full animate-spin-fast"})]}),e.jsx("p",{className:"mt-4 text-lg text-blue-600 font-semibold animate-pulse",children:"يتم تحميل التطبيق..."})]})}),K=({color:s})=>{const[n,r]=a.useState([{path:"/",label:"الرئيسية"},{path:"/privacy-policy",label:"الشروط والخصوصية"},{path:"/contact",label:"تواصل معنا"},{path:"/profile",label:"النجوم"}]),i=w(),[o,l]=a.useState({name:"",image:v,isAuthenticated:!1,role:"star"}),{getUserData:d,logOut:R}=A();a.useEffect(()=>{(async()=>{try{const u=await d();l({name:u.name,image:u.profilePicture,isAuthenticated:!0,role:u.role})}catch{}})()},[d]);const q=U(),[x,b]=a.useState(!1),c=s==="black"?!0:q,C=()=>{b(!1)},j=()=>{R(),l({name:"",image:v,isAuthenticated:!1,role:"star"}),i("/login")},[M,O]=a.useState(!0);a.useEffect(()=>{setTimeout(()=>{O(!1)},3e3)},[]);const y=()=>{console.log("Logging in..."),i("/login")};return e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300
                ${c?"bg-white shadow-md":"bg-transparent"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-24",children:[e.jsx(N,{primaryLogo:F,whiteLogo:B,isScrolled:c}),e.jsx("div",{className:"hidden md:block",children:e.jsx(m,{links:n,isScrolled:c})}),e.jsx("div",{children:M?e.jsx(W,{}):e.jsx("div",{className:"hidden md:block",children:o.isAuthenticated?e.jsxs("div",{className:"flex gap-10",children:[e.jsx(f,{isScrolled:c}),e.jsx(p,{user:o,onLogout:j})]}):e.jsxs("div",{className:"flex gap-10",children:[e.jsx(f,{isScrolled:c}),e.jsx(h,{onLogin:y,isScrolled:c})]})})}),e.jsx(k,{onClick:()=>b(!x),isOpen:x,isScrolled:c})]})}),e.jsx(L,{isOpen:x,links:n,user:o,onClose:C,onLogin:y,onLogout:j})]})};export{K as N,t as P};
