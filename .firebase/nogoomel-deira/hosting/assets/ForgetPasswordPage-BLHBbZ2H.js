import{b as p,r,j as e,L as j,t as f}from"./index-CIX5mdRk.js";import{u as N}from"./index.esm-BYtewWIt.js";import{L as w}from"./Deira-logo2-q4QQy5sZ.js";const L=()=>{var i;const{resetPassword:n}=p(),[t,l]=r.useState(!1),[a,o]=r.useState(null),[d,c]=r.useState(!1),s={title:"استعادة كلمة المرور",email:"البريد الالكتروني",reset:"إعادة تعيين كلمة المرور",backToLogin:"الرجوع لتسجيل الدخول"},{register:m,handleSubmit:x,formState:{errors:u}}=N(),g=async b=>{l(!0),o(null);try{await n(b.email),f.success("تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني."),c(!0)}catch(h){console.error("Error resetting password:",h),o("حدث خطأ أثناء استعادة كلمة المرور. الرجاء المحاولة مرة أخرى.")}finally{l(!1)}};return e.jsx("div",{className:"grid grid-cols-1 mx-auto md:grid-cols-1",style:{direction:"rtl"},children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"w-full max-w-xl bg-white p-6 rounded-lg shadow-md",children:[e.jsx("img",{src:w,alt:"logo",className:"w-52 pb-20 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:s.title}),d?e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 p-4 rounded-md shadow-md mt-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"تم إرسال الرابط بنجاح!"}),e.jsx("p",{className:"mb-2",children:"تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني."}),e.jsx("p",{className:"mb-2",children:"إذا لم تجد البريد، يُرجى التحقق من قسم البريد العشوائي (Spam)."})]}):e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:" خطأ! "}),e.jsx("span",{className:"block sm:inline",children:a})]}),e.jsxs("form",{onSubmit:x(g),children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:s.email}),e.jsx("input",{type:"email",id:"email",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300",placeholder:"email@example.com",...m("email",{required:"البريد الإلكتروني مطلوب.",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"يرجى إدخال بريد إلكتروني صالح."}})}),e.jsx("p",{className:"text-red-500 text-xs mt-1",children:(i=u.email)==null?void 0:i.message})]}),e.jsx("button",{type:"submit",disabled:t,className:"w-full bg-indigo-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-600",children:t?"جاري الإرسال...":s.reset})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(j,{to:"/login",className:"text-blue-500 hover:underline",children:s.backToLogin})})]})})})};export{L as default};
