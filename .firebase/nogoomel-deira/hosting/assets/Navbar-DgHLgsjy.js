import{g as C,j as e,L as p,a as M,r as l,u as N,b as O}from"./index-D1kJxIkH.js";import{r as A}from"./index-Chjiymov.js";import{c as E}from"./index-o4g_Z5nF.js";import{G as S}from"./data-DEqlFrNp.js";import{L as v}from"./LoginStar-BsrTecc1.js";var $=A();const t=C($),L=({primaryLogo:r,whiteLogo:n,isScrolled:s=!1})=>e.jsx(p,{to:"/",className:"transition-transform duration-300 hover:scale-105",children:e.jsx("img",{src:s?r:n,alt:"Logo",className:"w-44 transition-opacity duration-300"})});L.propTypes={primaryLogo:t.string.isRequired,whiteLogo:t.string.isRequired,isScrolled:t.bool};const x=({links:r,isMobile:n=!1,isScrolled:s})=>{const i=M();return e.jsx("div",{style:{direction:"ltr"},className:`${n?"flex flex-col space-y-4":"flex flex-row-reverse justify-center space-x-1 md:space-x-2"}`,children:r.map(({path:o,label:a})=>e.jsx(p,{to:o,className:`
            ${s?"md:text-gray-800 md:after:bg-primary ":"md:text-white md:after:bg-white"}
            font-bold text-primary hover:text-primaryHover 
            px-4 py-2 rounded-lg transition-all duration-300
            relative after:content-[''] after:absolute after:bottom-0 
            after:left-0 after:w-full after:h-0.5 
            after:scale-x-0 hover:after:scale-x-100 after:transition-transform
            after:duration-300 ${i.pathname===o?"after:scale-x-100":""}
            ${n?"text-center text-lg":""}
          `,children:a},o))})};x.propTypes={links:t.arrayOf(t.shape({path:t.string.isRequired,label:t.string.isRequired})).isRequired,isMobile:t.bool};const D=(r,n)=>{l.useEffect(()=>{const s=i=>{r.current&&!r.current.contains(i.target)&&n()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[r,n])},g=({user:r,onLogout:n,isMobile:s=!1})=>{const[i,o]=l.useState(!1),a=l.useRef(null),d=N();return D(a,()=>o(!1)),r.isAuthenticated?e.jsxs("div",{className:`relative ${s?"w-full":""}`,ref:a,children:[e.jsxs("button",{onClick:()=>o(!i),className:`
          flex items-center h-10 p-1 bg-white rounded-full 
          border-black border-2 hover:border-primary transition-colors duration-300
          ${s?"w-full justify-center":"w-full gap-2"}
        `,children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),e.jsx("span",{className:"font-bold text-gray-800",children:r.name}),e.jsx(E,{size:25,className:`transition-transform duration-300 ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:`
          bg-white rounded-lg shadow-lg py-2 z-50
          border border-gray-200 transform origin-top scale-y-100 transition-transform
          ${s?"w-full mt-2":"absolute right-0 mt-2 w-48"}
        `,children:[e.jsx("button",{onClick:()=>{o(!1),n()},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                     transition-colors duration-200`,children:"تسجيل الخروج"}),e.jsx("button",{onClick:()=>{o(!1),d("/profile")},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                     transition-colors duration-200`,children:"الملف الشخصي"}),r.role!=="star"&&e.jsx("button",{onClick:()=>{o(!1),d("/dashboard")},className:`w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 
                       transition-colors duration-200`,children:"لوحة التحكم للمشرف"})]})]}):null};g.propTypes={user:t.shape({name:t.string.isRequired,image:t.string.isRequired,isAuthenticated:t.bool.isRequired}).isRequired,onLogout:t.func.isRequired,isMobile:t.bool};const h=({onLogin:r,isMobile:n=!1,isScrolled:s})=>(l.useEffect(()=>{console.log(s)},[s]),e.jsx(p,{to:"/login",onClick:r,className:`
        ${s?"text-white bg-primary":"text-primary bg-white hover:bg-gray-200"}
        px-6 py-2   font-bold rounded-full
        transition-colors duration-300
        border-2 border-transparent 
        flex items-center justify-center
        ${n?"w-full":""}
      `,children:"تسجيل | تسجيل دخول"}));h.propTypes={onLogin:t.func.isRequired,isMobile:t.bool};const m=({isScrolled:r})=>{const[n,s]=l.useState("");l.useEffect(()=>{const o=localStorage.getItem("selectedArea");o&&s(o)},[]);const i=o=>{const a=o.target.value;s(a),localStorage.setItem("selectedArea",a)};return e.jsx("div",{children:e.jsxs("select",{value:n,onChange:i,className:`
        ${r?"text-white bg-primary":"text-primary bg-white hover:bg-gray-200"}
        px-6 py-2   font-bold rounded-full
        transition-colors duration-300
        border-2 border-transparent h-fit
        flex items-center justify-center text-center
        
      `,children:[e.jsx("option",{value:"",disabled:!0,children:"اختر المنطقة"}),e.jsx("option",{value:"all",children:"كل المناطق"}),S.map(o=>e.jsx("option",{value:o.name,children:o.name},o.name))]})})},k=({isOpen:r,links:n,user:s,onLogin:i,onLogout:o,onClose:a=()=>{}})=>r?e.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-white",children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>a(),children:e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})}),e.jsxs("div",{className:"flex flex-col items-center mt-8 space-y-6",children:[e.jsx(x,{links:n,isMobile:!0}),e.jsx("div",{className:"mt-auto",children:s!=null&&s.isAuthenticated?e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(g,{user:s,onLogout:o,isMobile:!0})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(h,{onLogin:i,isMobile:!0})]})})]})]})}):null;k.propTypes={isOpen:t.bool.isRequired,links:t.arrayOf(t.shape({path:t.string.isRequired,label:t.string.isRequired})).isRequired,user:t.shape({name:t.string.isRequired,image:t.string.isRequired,isAuthenticated:t.bool.isRequired}),onLogin:t.func.isRequired,onLogout:t.func.isRequired,onClose:t.func};const R=({onClick:r,isOpen:n})=>e.jsxs("button",{onClick:r,className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500","aria-expanded":n,children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})]});R.propTypes={onClick:t.func.isRequired,isOpen:t.bool.isRequired};const T=(r=20)=>{const[n,s]=l.useState(!1);return l.useEffect(()=>{const i=()=>{s(window.scrollY>r)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[r]),n},I="/assets/Deira-logo-BLphbyYR.png",P="/assets/Deira-logo_colored-Czb8DdFX.png",w=[{path:"/",label:"الرئيسية"},{path:"/privacy-policy",label:"سياسة الخصوصية"},{path:"/contact",label:"تواصل معنا"},{path:"/profile",label:"النجوم"}],Y=({color:r})=>{const n=N(),[s,i]=l.useState({name:"",image:v,isAuthenticated:!1,role:"star"}),{getUserData:o,logOut:a}=O();l.useEffect(()=>{(async()=>{try{const u=await o();i({name:u.name,image:u.profilePicture,isAuthenticated:!0,role:u.role})}catch{}})()},[o]);const d=T(),[f,b]=l.useState(!1),c=r==="black"?!0:d,q=()=>{b(!1)},j=()=>{a(),i({name:"",image:v,isAuthenticated:!1,role:"star"}),n("/login")},y=()=>{console.log("Logging in..."),n("/login")};return e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300
                ${c?"bg-white shadow-md":"bg-transparent"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-24",children:[e.jsx(L,{primaryLogo:P,whiteLogo:I,isScrolled:c}),e.jsx("div",{className:"hidden md:block",children:e.jsx(x,{links:w,isScrolled:c})}),e.jsx("div",{className:"hidden md:block",children:s.isAuthenticated?e.jsxs("div",{className:"flex gap-10",children:[e.jsx(m,{isScrolled:c}),e.jsx(g,{user:s,onLogout:j})]}):e.jsxs("div",{className:"flex gap-10",children:[e.jsx(m,{isScrolled:c}),e.jsx(h,{onLogin:y,isScrolled:c})]})}),e.jsx(R,{onClick:()=>b(!f),isOpen:f,isScrolled:c})]})}),e.jsx(k,{isOpen:f,links:w,user:s,onClose:q,onLogin:y,onLogout:j})]})};export{Y as N,t as P};
