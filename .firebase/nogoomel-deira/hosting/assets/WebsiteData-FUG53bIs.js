import{j as e,c as L,r as l,t as p,e as R,s as F,q as E,h as P}from"./index-_Ilj38vT.js";import{u as q}from"./index.esm-DuzlAj83.js";const a=({id:s,label:n,type:r="text",register:d})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:s,className:"block text-gray-700 text-sm font-bold mb-2",children:n}),e.jsx("input",{id:s,type:r,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none",...d(s)})]}),B=()=>{const{register:s,handleSubmit:n,reset:r}=q(),{getHomeData:d,addHomeData:w}=L(),[m,y]=l.useState(null),[x,N]=l.useState(null),[g,_]=l.useState(""),[u,U]=l.useState(""),[j,I]=l.useState(null),[h,S]=l.useState(null),[k,b]=l.useState(!1);l.useEffect(()=>{(async()=>{const i=await d();i.image1Url&&_(i.image1Url),i.image2Url&&U(i.image2Url),r(i)})()},[d,r]);const f=async(t,i)=>{if(!t)return null;const c=R(F,`images/${i}`);return await E(c,t),P(c)},D=async t=>{b(!0);try{m&&(t.image1Url=await f(m,"image1")),x&&(t.image2Url=await f(x,"image2")),await w(t),p.success("تم تحديث البيانات بنجاح"),r()}catch(i){p.error("حدث خطأ أثناء رفع الصور"),console.error(i)}finally{b(!1)}},v=(t,i,c)=>{const o=t.target.files[0];i(o),o&&c(URL.createObjectURL(o))};return e.jsx("div",{className:"grow p-8 dark:bg-gray-800",children:e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"بيانات الموقع"}),e.jsxs("form",{onSubmit:n(D),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(a,{id:"main_title",label:"العنوان الرئيسي للموقع",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"subtitle",label:"العنوان الفرعي للموقع",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"ad_title",label:"عنوان الإعلان للموقع",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"ad_description",type:"textarea",label:"وصف الإعلان للموقع",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"star_ad_1",label:"إعلان النجوم 1",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"star_ad_2",label:"إعلان النجوم 2",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"star_ad_3",label:"إعلان النجوم 3",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"star_ad_4",label:"إعلان النجوم 4",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"campaigns_count",label:"عدد الحملات",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"clients_count",label:"عدد العملاء",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"satisfaction_rate",label:"معدل الرضا",register:s})}),e.jsx("div",{children:e.jsx(a,{id:"views_count",label:"عدد المشاهدات",register:s})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white",children:"تحميل الصورة الأولى"}),g&&e.jsx("img",{src:g,alt:"الصورة الحالية 1",className:"w-32 h-32 mt-2 object-cover rounded-md"}),j&&e.jsx("img",{src:j,alt:"معاينة الصورة الأولى",className:"w-32 h-32 mt-2 object-cover rounded-md"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>v(t,y,I),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white",children:"تحميل الصورة الثانية"}),u&&e.jsx("img",{src:u,alt:"الصورة الحالية 2",className:"w-32 h-32 mt-2 object-cover rounded-md"}),h&&e.jsx("img",{src:h,alt:"معاينة الصورة الثانية",className:"w-32 h-32 mt-2 object-cover rounded-md"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>v(t,N,S),className:"mt-2"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 mt-6 rounded-lg hover:bg-indigo-700 flex justify-center items-center",children:k?"تحميل.... ":"تسجيل"})]})]})})};export{B as default};
