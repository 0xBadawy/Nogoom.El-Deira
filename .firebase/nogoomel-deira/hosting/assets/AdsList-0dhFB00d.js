import{j as e,c as k,r as c}from"./index-B1e1Q4Cp.js";import{G as j}from"./data-DEqlFrNp.js";import{g as w,t as b}from"./index-apzeR_bo.js";import"./iconBase-BZOatLzq.js";const A=({ads:d,selected:x})=>{console.log(d),console.log(x);const t=d.find(l=>l.id===x);function n(l){return{events:"مناسبات",real_estate:"عقارات",cars:"سيارات",electronics:"إلكترونيات",services:"خدمات",home_supplies:"لوازم منزلية",personal_supplies:"لوازم شخصية",animals:"حيوانات"}[l]||"ترجمة غير متوفرة"}return e.jsxs("div",{className:"max-w-full sm:max-w-lg mx-auto shadow-xl p-5 sm:p-8 bg-white dark:bg-gray-900 rounded-lg transition-transform transform",children:[e.jsx("h3",{className:"text-3xl sm:text-2xl font-semibold mb-4 text-gray-900 dark:text-gray-100 leading-tight",children:t==null?void 0:t.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 text-sm sm:text-base",children:t.description}),e.jsxs("ul",{className:"space-y-6 sm:space-y-5",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"الفئة:"}),e.jsx("span",{className:"bg-blue-600 text-white px-4 py-1 rounded-full text-sm sm:text-base",children:n(t.category)})]}),e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"تاريخ البداية:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:t.startDate})]}),e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"تاريخ النهاية:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:t.endDate})]}),e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"المنطقة:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:t.region})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"المحافظات:"}),t.governorates.length>0?e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.governorates.map((l,a)=>e.jsx("span",{className:"bg-green-600 text-white px-4 py-2 text-sm sm:text-base rounded-full",children:l},a))}):e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"لم يتم تحديد محافظات"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsxs("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:["عدد النجوم المشاركين : ",t.stars.length]}),t.stars.length>0&&t.stars.length<11?t.stars.map((l,a)=>e.jsx(w,{className:"text-yellow-500 text-lg sm:text-xl"},a)):e.jsx(b,{className:"text-gray-400 text-lg sm:text-xl"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("strong",{className:"text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"اسماء النجوم :"}),t.stars.length>0?t.stars.map((l,a)=>e.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:[l.name,a<t.stars.length-1?", ":""]},a)):e.jsx(b,{className:"text-gray-400 text-lg sm:text-xl"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"block text-gray-800 dark:text-gray-200 mb-3 text-sm sm:text-base",children:"الصور:"}),t.images.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:t.images.map((l,a)=>e.jsx("img",{src:l,alt:`صورة الإعلان ${a+1}`,className:"w-full h-36 sm:h-40 lg:h-48 object-cover rounded-lg shadow-md transition-transform transform hover:scale-105"},a))}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"لا توجد صور متاحة"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"block text-gray-800 dark:text-gray-200 mb-3 text-sm sm:text-base",children:"الفيديو:"}),t.video?e.jsxs("video",{controls:!0,className:"mt-2 w-64 max-w-full rounded-lg shadow-md",children:[e.jsx("source",{src:t.video,type:"video/mp4"}),"متصفحك لا يدعم تشغيل الفيديو"]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"لا يوجد فيديو متاح"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg mt-4 hover:bg-red-600 transition-colors",children:"حذف الإعلان"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg mt-4 hover:bg-blue-600 transition-colors",children:"تعديل الإعلان"})]})})]})},G=()=>{const{getAllAds:d}=k(),[x,t]=c.useState(null),[n,l]=c.useState([]),[a,m]=c.useState(1),o=20,[i,u]=c.useState("الكل"),[g,p]=c.useState("الكل");c.useEffect(()=>{d().then(s=>{l(s),console.log(s)})},[]);const N=s=>s?Array.isArray(s)?s.join(", "):s:"",f=n.filter(s=>{const r=i==="الكل"||s.region===i,v=g==="الكل"||s.governorates&&Array.isArray(s.governorates)&&s.governorates.includes(g);return r&&v}).sort((s,r)=>r.id-s.id),y=(a-1)*o;n.slice(y,y+o);const h=Math.ceil(n.length/o);return e.jsxs("div",{className:"grow md:p-8 p-2 dark:bg-gray-800 h-full overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"الحملات الاعلانية"}),e.jsxs("div",{className:"mt-6 bg-white w-fit dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("select",{value:i,onChange:s=>{u(s.target.value),p("الكل")},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",children:[e.jsx("option",{value:"الكل",children:"كل المناطق"}),j.map((s,r)=>e.jsx("option",{value:s.name,children:s.name},r))]}),e.jsxs("select",{value:g,onChange:s=>p(s.target.value),className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",disabled:i==="الكل",children:[e.jsx("option",{value:"الكل",children:"كل المحافظات"}),j.filter(s=>s.name===i).flatMap(s=>s.subGovernments).map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]}),e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"py-2 px-4 text-right",children:"اسم الحملة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"المنطقة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"المحافظة"}),e.jsx("th",{className:"py-2 px-4 text-right min-w-32",children:"الفترة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"عدد المشاهدات"})]})}),e.jsx("tbody",{children:f.map((s,r)=>e.jsxs("tr",{onClick:()=>t(s.id),className:`border-b ${s.id===x?"bg-gray-200":""}`,children:[e.jsx("td",{className:"py-2 px-4",children:s.title}),e.jsx("td",{className:"py-2 px-4",children:s.region}),e.jsx("td",{className:"py-2 px-4",children:N(s.governorates)}),e.jsxs("td",{className:"py-2 px-4",children:[e.jsxs("p",{className:"text-xs",children:["من ",s.startDate]}),e.jsxs("p",{className:"text-xs",children:["إلى ",s.endDate]})]}),e.jsx("td",{className:"py-2 px-4",children:s.views})]},r))})]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>m(s=>Math.max(s-1,1)),disabled:a===1,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"السابق"}),Array.from({length:h},(s,r)=>e.jsx("button",{onClick:()=>m(r+1),className:`px-4 py-2 mx-1 rounded-lg ${a===r+1?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:r+1},r)),e.jsx("button",{onClick:()=>m(s=>Math.min(s+1,h)),disabled:a===h,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"التالي"})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 max-w-screen",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"تفاصيل الحملة"}),x&&e.jsx(A,{ads:n,selected:x})]})]})};export{G as default};
