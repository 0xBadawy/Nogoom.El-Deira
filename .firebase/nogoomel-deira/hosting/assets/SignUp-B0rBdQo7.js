import{j as e,b as L,u as P,r as b,c as D,L as N}from"./index-op0mR8ux.js";import{u as E}from"./index.esm-Dfs37iU8.js";import{F as G,a as T,b as U,c as _,d as $,e as A}from"./index-CYAb0uNU.js";import{L as B}from"./Deira-logo2-q4QQy5sZ.js";import{T as l,G as v}from"./data-DpX12Emc.js";import{I as C,_ as p}from"./index-ca6OEvMb.js";import"./iconBase-CgLZSMfL.js";const n=({id:t,label:o,type:r="text",register:i})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:t,className:"block text-gray-700 text-sm font-bold mb-2",children:o}),e.jsx("input",{id:t,type:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none",...i(t)})]}),M=({register:t})=>{const o=[{id:"facebook",label:"فيسبوك",icon:e.jsx(G,{className:"text-blue-600"})},{id:"twitter",label:"تويتر",icon:e.jsx(T,{className:"text-blue-400"})},{id:"snapchat",label:"سناب شات",icon:e.jsx(U,{className:"text-yellow-500"})},{id:"tiktok",label:"تيك توك",icon:e.jsx(_,{className:"text-black"})},{id:"instagram",label:"إنستغرام",icon:e.jsx($,{className:"text-pink-500"})},{id:"youtube",label:"يوتيوب",icon:e.jsx(A,{className:"text-red-600"})}];return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-center mb-4",children:"روابط حسابات السوشيال ميديا"}),o.map(({id:r,label:i,icon:a})=>e.jsx(n,{id:r,type:"url",label:e.jsxs("span",{className:"flex items-center gap-2",children:[a," ",i]}),register:t},r))]})},K=()=>{const{signUp:t}=L(),o=P(),[r,i]=b.useState([]),{register:a,handleSubmit:y}=E(),[h,m]=b.useState(null),[O,j]=b.useState(!1),{SendSignupNotification:w}=D(),k=s=>{const x=s.target.value,c=v.find(u=>u.name===x);i(c?c.subGovernments:[])},f=s=>s.includes("auth/email-already-in-use")?"هذا البريد الإلكتروني مستخدم بالفعل.":s.includes("auth/weak-password")?"كلمة المرور ضعيفة جدًا. يجب أن تحتوي على 6 أحرف على الأقل.":"حدث خطأ غير معروف. الرجاء المحاولة مرة أخرى.",F=async s=>{const x=`تم تسجيل حساب جديد بواسطة ${s.name} - ${s.email} وبانتظار المراجعة`,c=new Date,u=!1;if(!s.privacyPolicy){p.error("يجب الموافقة على سياسة الخصوصية");return}if(!/^\d{10,11}$/.test(s.phone)){p.error("يجب أن يكون رقم الهاتف مكوناً من 10 أو 11 رقماً ويتكون من أرقام فقط");return}try{m(null),j(!0);const{email:d,password:S,...I}=s,g=await t(d,S,I,"star");g.success?(p.success("تم تسجيل الحساب بنجاح!"),w({message:x,readed:u,time:c},"allAdmin"),o("/status")):m(f(g.error))}catch(d){m(f(d.code)),console.error("Error during submission:",d.message)}finally{j(!1)}};return e.jsxs("div",{className:"PatternBG py-10 flex items-center justify-center min-h-screen",children:[e.jsxs("div",{className:"w-full max-w-7xl bg-white p-6 rounded-lg shadow-md",children:[e.jsx("img",{src:B,alt:"logo",className:"w-10 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:l.title}),h&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:" خطأ! "}),e.jsx("span",{className:"block sm:inline",children:h})]}),e.jsxs("form",{onSubmit:y(F),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{id:"name",label:l.name,register:a}),e.jsx(n,{id:"email",label:l.email,type:"email",register:a}),e.jsx(n,{id:"phone",label:l.phone,register:a}),e.jsx(n,{id:"password",label:l.password,type:"password",register:a}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:l.area}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none",...a("govern"),onChange:k,children:[e.jsx("option",{value:"",children:"اختر المنطقة"}),v.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700",children:l.govern}),e.jsx("select",{multiple:!0,className:"w-full h-40 border rounded-lg overflow-auto",...a("area"),children:r.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("input",{type:"hidden",...a("accountType"),value:"عادي"}),e.jsx(n,{id:"iban",label:l.iban,register:a})]}),e.jsx(M,{register:a})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"block text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"mr-2",...a("privacyPolicy")}),l.privacyPolicy,e.jsxs("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 font-bold",children:[" ",l.privacyPolicyLink]})]})}),e.jsx("div",{className:"w-full mx-auto flex flex-col",children:e.jsx("button",{type:"submit",className:"w-fit px-20 mx-auto bg-indigo-600 text-white py-2 mt-6 rounded-lg hover:bg-indigo-700",children:l.signUp})}),e.jsxs("div",{className:"w-full mx-auto flex flex-row justify-center items-center gap-20 p-4",children:[e.jsx(N,{to:"/signin",className:"text-blue-500 hover:text-blue-700 transition font-semibold hover:underline","aria-label":"الانتقال إلى تسجيل الدخول",children:"تسجيل الدخول"}),e.jsx(N,{to:"/",className:"text-blue-500 hover:text-blue-700 transition font-semibold hover:underline","aria-label":"العودة إلى الصفحة الرئيسية",children:"الصفحة الرئيسية"})]})]})]}),e.jsx(C,{position:"top-center",reverseOrder:!1})]})};export{K as default};
