import{r as a,c as j,j as e,t as l}from"./index-B-eNIn2u.js";import{C as p}from"./CheckboxListName-bKarPUgH.js";import{u as N}from"./index.esm-CygaPoE_.js";const E=()=>{const[n,i]=a.useState([]),[c,d]=a.useState([]),{allUsers:o,SendNotification:m}=j();a.useEffect(()=>{const s=o.filter(t=>t.role==="star");d(s.map(t=>({name:t.name,Uid:t.Uid})))},[o]);const u=(s,t)=>{i(r=>{if(t){if(!r.includes(s))return[...r,s]}else return r.filter(g=>g!==s);return r})},f=s=>{const t={...s,stars:n,readed:!1,time:new Date};if(s.message==""){l.error("لا يمكن ارسال رسالة فارغة");return}m(t),h(),l.success("تم ارسال اشعار بنجاح!")},{register:x,handleSubmit:b,reset:h,formState:{errors:S}}=N();return e.jsx("div",{className:" flex items-center justify-center md:p-4 p-2",children:e.jsxs("div",{className:" w-full bg-white rounded-lg shadow-lg md:p-8 p-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"إرسال إشعار"}),e.jsxs("form",{onSubmit:b(f),className:"space-y-6",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرسالة"}),e.jsx("textarea",{...x("message"),className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"اكتب الرسالة هنا..."})]}),e.jsx("div",{children:e.jsx(p,{text:"اختر النجوم",selected:u,items:c})}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition",children:"ارسال اشعار"})]})]})})};export{E as default};
