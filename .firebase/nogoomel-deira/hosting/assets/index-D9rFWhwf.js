const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DlMzk1B2.js","assets/Navbar-CKPGOywn.js","assets/index-Chjiymov.js","assets/data-BEbSXYvH.js","assets/LoginStar-BsrTecc1.js","assets/Deira-logo2-q4QQy5sZ.js","assets/HomePage-mD7Fq9Dy.css","assets/LoginPage-B9VpfwU-.js","assets/index.esm-BpECATmD.js","assets/AdminLoginPage-BAx5EpmY.js","assets/ForgetPasswordPage-DC263OwY.js","assets/SignUp-Ba6bC6z-.js","assets/index-Bb3Ulv-h.js","assets/iconBase-BBGhNxoz.js","assets/index-CzHyvqDe.js","assets/CheckboxList-CslpoRGy.js","assets/Profile-BSNruH06.js","assets/card-BKUuJu4i.js","assets/index-Y7252Hmh.js","assets/textarea-mo4nNNL5.js","assets/index-DK2pTDi4.js","assets/button-BXs98_58.js","assets/badge-CMqj2eMP.js","assets/index-v8gpja_E.js","assets/index-CRmCWynM.js","assets/DashboardHome-DlxsSfpL.js","assets/DashboardLayout-DBzvetrx.js","assets/Users-BA3EmET6.js","assets/index-BqqeyGmj.js","assets/UserDetailsBalance-DUtepET7.js","assets/index-CRv0o3MT.js","assets/index-DKBXnNoX.js","assets/react-confirm-alert-CjB4WFvm.css","assets/UsersBalance-DFQYojc4.js","assets/Apartments-CVqrnw4T.js","assets/NotificationsPanel-BJXOOZgb.js","assets/SendNotification-Ded7x1vL.js","assets/CheckboxListName-DuBFXbKJ.js","assets/CreateAd-BJOVfJDF.js","assets/Employees-DlBN-t36.js","assets/dialog-D_h8t5Kr.js","assets/Employees-BE4BdE5o.css","assets/AdsList-DT8Vax6C.js","assets/separator-dZnL4gZr.js","assets/Privacy-CMMUEABY.js","assets/WebsiteData-COQ4fVjh.js","assets/Contact-CSqrKkz-.js","assets/PrivacyPolicy-DL_PWo1h.js","assets/ContactPage-DFKrSm74.js","assets/AdListPage-BZFHfh_0.js","assets/AdDetailPage-DPpOQWRk.js","assets/proxy-DZ-hQFwl.js","assets/arrow-left-BxsBx66f.js"])))=>i.map(i=>d[i]);
function JT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function O_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gf={exports:{}},vl={},yf={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function ZT(){if(Ey)return Qe;Ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function x(U,W,se){this.props=U,this.context=W,this.refs=N,this.updater=se||w}x.prototype.isReactComponent={},x.prototype.setState=function(U,W){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,W,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=x.prototype;function te(U,W,se){this.props=U,this.context=W,this.refs=N,this.updater=se||w}var ee=te.prototype=new F;ee.constructor=te,C(ee,x.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray,M=Object.prototype.hasOwnProperty,ie={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(U,W,se){var me,ge={},Re=null,Ce=null;if(W!=null)for(me in W.ref!==void 0&&(Ce=W.ref),W.key!==void 0&&(Re=""+W.key),W)M.call(W,me)&&!A.hasOwnProperty(me)&&(ge[me]=W[me]);var Ye=arguments.length-2;if(Ye===1)ge.children=se;else if(1<Ye){for(var Me=Array(Ye),ht=0;ht<Ye;ht++)Me[ht]=arguments[ht+2];ge.children=Me}if(U&&U.defaultProps)for(me in Ye=U.defaultProps,Ye)ge[me]===void 0&&(ge[me]=Ye[me]);return{$$typeof:n,type:U,key:Re,ref:Ce,props:ge,_owner:ie.current}}function P(U,W){return{$$typeof:n,type:U.type,key:W,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var W={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return W[se]})}var z=/\/+/g;function b(U,W){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):W.toString(36)}function Ge(U,W,se,me,ge){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var Ce=!1;if(U===null)Ce=!0;else switch(Re){case"string":case"number":Ce=!0;break;case"object":switch(U.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=U,ge=ge(Ce),U=me===""?"."+b(Ce,0):me,ne(ge)?(se="",U!=null&&(se=U.replace(z,"$&/")+"/"),Ge(ge,W,se,"",function(ht){return ht})):ge!=null&&(D(ge)&&(ge=P(ge,se+(!ge.key||Ce&&Ce.key===ge.key?"":(""+ge.key).replace(z,"$&/")+"/")+U)),W.push(ge)),1;if(Ce=0,me=me===""?".":me+":",ne(U))for(var Ye=0;Ye<U.length;Ye++){Re=U[Ye];var Me=me+b(Re,Ye);Ce+=Ge(Re,W,se,Me,ge)}else if(Me=E(U),typeof Me=="function")for(U=Me.call(U),Ye=0;!(Re=U.next()).done;)Re=Re.value,Me=me+b(Re,Ye++),Ce+=Ge(Re,W,se,Me,ge);else if(Re==="object")throw W=String(U),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ze(U,W,se){if(U==null)return U;var me=[],ge=0;return Ge(U,me,"","",function(Re){return W.call(se,Re,ge++)}),me}function Xe(U){if(U._status===-1){var W=U._result;W=W(),W.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=W)}if(U._status===1)return U._result.default;throw U._result}var Oe={current:null},B={transition:null},$={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:B,ReactCurrentOwner:ie};function X(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:ze,forEach:function(U,W,se){ze(U,function(){W.apply(this,arguments)},se)},count:function(U){var W=0;return ze(U,function(){W++}),W},toArray:function(U){return ze(U,function(W){return W})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qe.Component=x,Qe.Fragment=t,Qe.Profiler=s,Qe.PureComponent=te,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Qe.act=X,Qe.cloneElement=function(U,W,se){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var me=C({},U.props),ge=U.key,Re=U.ref,Ce=U._owner;if(W!=null){if(W.ref!==void 0&&(Re=W.ref,Ce=ie.current),W.key!==void 0&&(ge=""+W.key),U.type&&U.type.defaultProps)var Ye=U.type.defaultProps;for(Me in W)M.call(W,Me)&&!A.hasOwnProperty(Me)&&(me[Me]=W[Me]===void 0&&Ye!==void 0?Ye[Me]:W[Me])}var Me=arguments.length-2;if(Me===1)me.children=se;else if(1<Me){Ye=Array(Me);for(var ht=0;ht<Me;ht++)Ye[ht]=arguments[ht+2];me.children=Ye}return{$$typeof:n,type:U.type,key:ge,ref:Re,props:me,_owner:Ce}},Qe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Qe.createElement=R,Qe.createFactory=function(U){var W=R.bind(null,U);return W.type=U,W},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(U){return{$$typeof:d,render:U}},Qe.isValidElement=D,Qe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Xe}},Qe.memo=function(U,W){return{$$typeof:m,type:U,compare:W===void 0?null:W}},Qe.startTransition=function(U){var W=B.transition;B.transition={};try{U()}finally{B.transition=W}},Qe.unstable_act=X,Qe.useCallback=function(U,W){return Oe.current.useCallback(U,W)},Qe.useContext=function(U){return Oe.current.useContext(U)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(U){return Oe.current.useDeferredValue(U)},Qe.useEffect=function(U,W){return Oe.current.useEffect(U,W)},Qe.useId=function(){return Oe.current.useId()},Qe.useImperativeHandle=function(U,W,se){return Oe.current.useImperativeHandle(U,W,se)},Qe.useInsertionEffect=function(U,W){return Oe.current.useInsertionEffect(U,W)},Qe.useLayoutEffect=function(U,W){return Oe.current.useLayoutEffect(U,W)},Qe.useMemo=function(U,W){return Oe.current.useMemo(U,W)},Qe.useReducer=function(U,W,se){return Oe.current.useReducer(U,W,se)},Qe.useRef=function(U){return Oe.current.useRef(U)},Qe.useState=function(U){return Oe.current.useState(U)},Qe.useSyncExternalStore=function(U,W,se){return Oe.current.useSyncExternalStore(U,W,se)},Qe.useTransition=function(){return Oe.current.useTransition()},Qe.version="18.3.1",Qe}var Ty;function pp(){return Ty||(Ty=1,yf.exports=ZT()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function eS(){if(Sy)return vl;Sy=1;var n=pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,T={},E=null,w=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(w=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(T[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)T[v]===void 0&&(T[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:w,props:T,_owner:s.current}}return vl.Fragment=t,vl.jsx=u,vl.jsxs=u,vl}var Iy;function tS(){return Iy||(Iy=1,gf.exports=eS()),gf.exports}var Ke=tS(),q=pp();const le=O_(q),wL=JT({__proto__:null,default:le},[q]);var wc={},vf={exports:{}},Jn={},_f={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function nS(){return Ry||(Ry=1,function(n){function e(B,$){var X=B.length;B.push($);e:for(;0<X;){var U=X-1>>>1,W=B[U];if(0<s(W,$))B[U]=$,B[X]=W,X=U;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],X=B.pop();if(X!==$){B[0]=X;e:for(var U=0,W=B.length,se=W>>>1;U<se;){var me=2*(U+1)-1,ge=B[me],Re=me+1,Ce=B[Re];if(0>s(ge,X))Re<W&&0>s(Ce,ge)?(B[U]=Ce,B[Re]=X,U=Re):(B[U]=ge,B[me]=X,U=me);else if(Re<W&&0>s(Ce,X))B[U]=Ce,B[Re]=X,U=Re;else break e}}return $}function s(B,$){var X=B.sortIndex-$.sortIndex;return X!==0?X:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,T=null,E=3,w=!1,C=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(B){for(var $=t(m);$!==null;){if($.callback===null)r(m);else if($.startTime<=B)r(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=t(m)}}function ne(B){if(N=!1,ee(B),!C)if(t(f)!==null)C=!0,Xe(M);else{var $=t(m);$!==null&&Oe(ne,$.startTime-B)}}function M(B,$){C=!1,N&&(N=!1,F(R),R=-1),w=!0;var X=E;try{for(ee($),T=t(f);T!==null&&(!(T.expirationTime>$)||B&&!V());){var U=T.callback;if(typeof U=="function"){T.callback=null,E=T.priorityLevel;var W=U(T.expirationTime<=$);$=n.unstable_now(),typeof W=="function"?T.callback=W:T===t(f)&&r(f),ee($)}else r(f);T=t(f)}if(T!==null)var se=!0;else{var me=t(m);me!==null&&Oe(ne,me.startTime-$),se=!1}return se}finally{T=null,E=X,w=!1}}var ie=!1,A=null,R=-1,P=5,D=-1;function V(){return!(n.unstable_now()-D<P)}function z(){if(A!==null){var B=n.unstable_now();D=B;var $=!0;try{$=A(!0,B)}finally{$?b():(ie=!1,A=null)}}else ie=!1}var b;if(typeof te=="function")b=function(){te(z)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ze=Ge.port2;Ge.port1.onmessage=z,b=function(){ze.postMessage(null)}}else b=function(){x(z,0)};function Xe(B){A=B,ie||(ie=!0,b())}function Oe(B,$){R=x(function(){B(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,Xe(M))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(B){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var X=E;E=$;try{return B()}finally{E=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=E;E=B;try{return $()}finally{E=X}},n.unstable_scheduleCallback=function(B,$,X){var U=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,B={id:v++,callback:$,priorityLevel:B,startTime:X,expirationTime:W,sortIndex:-1},X>U?(B.sortIndex=X,e(m,B),t(f)===null&&B===t(m)&&(N?(F(R),R=-1):N=!0,Oe(ne,X-U))):(B.sortIndex=W,e(f,B),C||w||(C=!0,Xe(M))),B},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(B){var $=E;return function(){var X=E;E=$;try{return B.apply(this,arguments)}finally{E=X}}}}(wf)),wf}var Cy;function rS(){return Cy||(Cy=1,_f.exports=nS()),_f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function iS(){if(Py)return Jn;Py=1;var n=pp(),e=rS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function E(i){return f.call(T,i)?!0:f.call(v,i)?!1:m.test(i)?T[i]=!0:(v[i]=!0,!1)}function w(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,l,h){if(o===null||typeof o>"u"||w(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,l,h,p,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];x[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function te(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,te);x[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,te);x[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,te);x[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function ee(i,o,l,h){var p=x.hasOwnProperty(o)?x[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,l,p,h)&&(l=null),h||p===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),ie=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),B=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,U;function W(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var se=!1;function me(i,o){if(!i||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var h=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){h=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){h=Y}i()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var p=Y.stack.split(`
`),y=h.stack.split(`
`),S=p.length-1,k=y.length-1;1<=S&&0<=k&&p[S]!==y[k];)k--;for(;1<=S&&0<=k;S--,k--)if(p[S]!==y[k]){if(S!==1||k!==1)do if(S--,k--,0>k||p[S]!==y[k]){var O=`
`+p[S].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=S&&0<=k);break}}}finally{se=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?W(i):""}function ge(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=me(i.type,!1),i;case 11:return i=me(i.type.render,!1),i;case 1:return i=me(i.type,!0),i;default:return""}}function Re(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case ie:return"Portal";case P:return"Profiler";case R:return"StrictMode";case b:return"Suspense";case Ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ze:return o=i.displayName||null,o!==null?o:Re(i.type)||"Memo";case Xe:o=i._payload,i=i._init;try{return Re(i(o))}catch{}}return null}function Ce(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(i){var o=Me(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function en(i){i._valueTracker||(i._valueTracker=ht(i))}function ni(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Me(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function Wt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ar(i,o){var l=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function mr(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ye(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ri(i,o){o=o.checked,o!=null&&ee(i,"checked",o,!1)}function ii(i,o){ri(i,o);var l=Ye(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?xr(i,o.type,l):o.hasOwnProperty("defaultValue")&&xr(i,o.type,Ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function kr(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function xr(i,o,l){(o!=="number"||Wt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var tn=Array.isArray;function Kt(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ye(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function nr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Mt(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(tn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ye(l)}}function hn(i,o){var l=Ye(o.value),h=Ye(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Tn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var On,br=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=On.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function kt(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vn=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(i){Vn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),rr[o]=rr[i]})});function Dr(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||rr.hasOwnProperty(i)&&rr[i]?(""+o).trim():o+"px"}function xi(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Dr(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Nr=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(i,o){if(o){if(Nr[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function si(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lr=null,ke=null,qe=null;function Je(i){if(i=rl(i)){if(typeof Lr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Ou(o),Lr(i.stateNode,i.type,o))}}function _t(i){ke?qe?qe.push(i):qe=[i]:ke=i}function nn(){if(ke){var i=ke,o=qe;if(qe=ke=null,Je(i),o)for(i=0;i<o.length;i++)Je(o[i])}}function $n(i,o){return i(o)}function L(){}var H=!1;function J(i,o,l){if(H)return i(o,l);H=!0;try{return $n(i,o,l)}finally{H=!1,(ke!==null||qe!==null)&&(L(),nn())}}function re(i,o){var l=i.stateNode;if(l===null)return null;var h=Ou(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ye=!1;if(d)try{var Ee={};Object.defineProperty(Ee,"passive",{get:function(){ye=!0}}),window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,Ee)}catch{ye=!1}function be(i,o,l,h,p,y,S,k,O){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(ue){this.onError(ue)}}var ve=!1,Se=null,fe=!1,Ve=null,We={onError:function(i){ve=!0,Se=i}};function ft(i,o,l,h,p,y,S,k,O){ve=!1,Se=null,be.apply(We,arguments)}function Ut(i,o,l,h,p,y,S,k,O){if(ft.apply(this,arguments),ve){if(ve){var Y=Se;ve=!1,Se=null}else throw Error(t(198));fe||(fe=!0,Ve=Y)}}function nt(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function lt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function pt(i){if(nt(i)!==i)throw Error(t(188))}function Or(i){var o=i.alternate;if(!o){if(o=nt(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return pt(p),i;if(y===h)return pt(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var S=!1,k=p.child;k;){if(k===l){S=!0,l=p,h=y;break}if(k===h){S=!0,h=p,l=y;break}k=k.sibling}if(!S){for(k=y.child;k;){if(k===l){S=!0,l=y,h=p;break}if(k===h){S=!0,h=y,l=p;break}k=k.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Vr(i){return i=Or(i),i!==null?Sn(i):null}function Sn(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Sn(i);if(o!==null)return o;i=i.sibling}return null}var fn=e.unstable_scheduleCallback,bi=e.unstable_cancelCallback,oi=e.unstable_shouldYield,Mr=e.unstable_requestPaint,mt=e.unstable_now,Di=e.unstable_getCurrentPriorityLevel,st=e.unstable_ImmediatePriority,St=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,Ur=e.unstable_LowPriority,It=e.unstable_IdlePriority,Hn=null,In=null;function Do(i){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:fu,za=Math.log,du=Math.LN2;function fu(i){return i>>>=0,i===0?32:31-(za(i)/du|0)|0}var No=64,Lo=4194304;function ss(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Qs(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,S=l&268435455;if(S!==0){var k=S&~p;k!==0?h=ss(k):(y&=S,y!==0&&(h=ss(y)))}else S=l&~p,S!==0?h=ss(S):y!==0&&(h=ss(y));if(h===0)return 0;if(o!==0&&o!==h&&!(o&p)&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Un(o),p=1<<l,h|=i[l],o&=~p;return h}function qh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-Un(y),k=1<<S,O=p[S];O===-1?(!(k&l)||k&h)&&(p[S]=qh(k,o)):O<=o&&(i.expiredLanes|=k),y&=~k}}function sr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ys(){var i=No;return No<<=1,!(No&4194240)&&(No=64),i}function os(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function as(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Un(o),i[o]=l}function wt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Un(l),y=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function ls(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Un(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var rt=0;function us(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var pu,Oo,mu,gu,yu,Ba=!1,ai=[],mn=null,Fr=null,jr=null,cs=new Map,gr=new Map,li=[],Wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(i,o){switch(i){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(o.pointerId)}}function qn(i,o,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=rl(o),o!==null&&Oo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Kh(i,o,l,h,p){switch(o){case"focusin":return mn=qn(mn,i,o,l,h,p),!0;case"dragenter":return Fr=qn(Fr,i,o,l,h,p),!0;case"mouseover":return jr=qn(jr,i,o,l,h,p),!0;case"pointerover":var y=p.pointerId;return cs.set(y,qn(cs.get(y)||null,i,o,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,gr.set(y,qn(gr.get(y)||null,i,o,l,h,p)),!0}return!1}function _u(i){var o=to(i.target);if(o!==null){var l=nt(o);if(l!==null){if(o=l.tag,o===13){if(o=lt(l),o!==null){i.blockedOn=o,yu(i.priority,function(){mu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Li(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Vo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Mn=h,l.target.dispatchEvent(h),Mn=null}else return o=rl(l),o!==null&&Oo(o),i.blockedOn=l,!1;o.shift()}return!0}function Xs(i,o,l){Li(i)&&l.delete(o)}function wu(){Ba=!1,mn!==null&&Li(mn)&&(mn=null),Fr!==null&&Li(Fr)&&(Fr=null),jr!==null&&Li(jr)&&(jr=null),cs.forEach(Xs),gr.forEach(Xs)}function zr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function Br(i){function o(p){return zr(p,i)}if(0<ai.length){zr(ai[0],i);for(var l=1;l<ai.length;l++){var h=ai[l];h.blockedOn===i&&(h.blockedOn=null)}}for(mn!==null&&zr(mn,i),Fr!==null&&zr(Fr,i),jr!==null&&zr(jr,i),cs.forEach(o),gr.forEach(o),l=0;l<li.length;l++)h=li[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<li.length&&(l=li[0],l.blockedOn===null);)_u(l),l.blockedOn===null&&li.shift()}var Oi=ne.ReactCurrentBatchConfig,hs=!0;function xt(i,o,l,h){var p=rt,y=Oi.transition;Oi.transition=null;try{rt=1,$a(i,o,l,h)}finally{rt=p,Oi.transition=y}}function Gh(i,o,l,h){var p=rt,y=Oi.transition;Oi.transition=null;try{rt=4,$a(i,o,l,h)}finally{rt=p,Oi.transition=y}}function $a(i,o,l,h){if(hs){var p=Vo(i,o,l,h);if(p===null)sd(i,o,h,Js,l),vu(i,h);else if(Kh(p,i,o,l,h))h.stopPropagation();else if(vu(i,h),o&4&&-1<Wh.indexOf(i)){for(;p!==null;){var y=rl(p);if(y!==null&&pu(y),y=Vo(i,o,l,h),y===null&&sd(i,o,h,Js,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else sd(i,o,h,null,l)}}var Js=null;function Vo(i,o,l,h){if(Js=null,i=dn(h),i=to(i),i!==null)if(o=nt(i),o===null)i=null;else if(l=o.tag,l===13){if(i=lt(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Js=i,null}function Ha(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Di()){case st:return 1;case St:return 4;case pn:case Ur:return 16;case It:return 536870912;default:return 16}default:return 16}}var or=null,Mo=null,Wn=null;function qa(){if(Wn)return Wn;var i,o=Mo,l=o.length,h,p="value"in or?or.value:or.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===p[y-h];h++);return Wn=p.slice(i,1<h?1-h:void 0)}function Uo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ui(){return!0}function Wa(){return!1}function gn(i){function o(l,h,p,y,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ui:Wa,this.isPropagationStopped=Wa,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),o}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=gn($r),ci=X({},$r,{view:0,detail:0}),Qh=gn(ci),jo,Vi,ds,Zs=X({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ds&&(ds&&i.type==="mousemove"?(jo=i.screenX-ds.screenX,Vi=i.screenY-ds.screenY):Vi=jo=0,ds=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:Vi}}),zo=gn(Zs),Ka=X({},Zs,{dataTransfer:0}),Eu=gn(Ka),Bo=X({},ci,{relatedTarget:0}),$o=gn(Bo),Tu=X({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=gn(Tu),Su=X({},$r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Iu=gn(Su),Ru=X({},$r,{data:0}),Ga=gn(Ru),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Cu[i])?!!o[i]:!1}function hi(){return Pu}var c=X({},ci,{key:function(i){if(i.key){var o=Ho[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(i){return i.type==="keypress"?Uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=gn(c),_=X({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=gn(_),K=X({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),Z=gn(K),pe=X({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=gn(pe),Gt=X({},Zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=gn(Gt),rn=[9,13,27,32],$t=d&&"CompositionEvent"in window,yr=null;d&&"documentMode"in document&&(yr=document.documentMode);var ar=d&&"TextEvent"in window&&!yr,eo=d&&(!$t||yr&&8<yr&&11>=yr),qo=" ",mm=!1;function gm(i,o){switch(i){case"keyup":return rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wo=!1;function QE(i,o){switch(i){case"compositionend":return ym(o);case"keypress":return o.which!==32?null:(mm=!0,qo);case"textInput":return i=o.data,i===qo&&mm?null:i;default:return null}}function YE(i,o){if(Wo)return i==="compositionend"||!$t&&gm(i,o)?(i=qa(),Wn=Mo=or=null,Wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return eo&&o.locale!=="ko"?null:o.data;default:return null}}var XE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!XE[i.type]:o==="textarea"}function _m(i,o,l,h){_t(h),o=Du(o,"onChange"),0<o.length&&(l=new Fo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Qa=null,Ya=null;function JE(i){Mm(i,0)}function Au(i){var o=Xo(i);if(ni(o))return i}function ZE(i,o){if(i==="change")return o}var wm=!1;if(d){var Yh;if(d){var Xh="oninput"in document;if(!Xh){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Xh=typeof Em.oninput=="function"}Yh=Xh}else Yh=!1;wm=Yh&&(!document.documentMode||9<document.documentMode)}function Tm(){Qa&&(Qa.detachEvent("onpropertychange",Sm),Ya=Qa=null)}function Sm(i){if(i.propertyName==="value"&&Au(Ya)){var o=[];_m(o,Ya,i,dn(i)),J(JE,o)}}function eT(i,o,l){i==="focusin"?(Tm(),Qa=o,Ya=l,Qa.attachEvent("onpropertychange",Sm)):i==="focusout"&&Tm()}function tT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Au(Ya)}function nT(i,o){if(i==="click")return Au(o)}function rT(i,o){if(i==="input"||i==="change")return Au(o)}function iT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Hr=typeof Object.is=="function"?Object.is:iT;function Xa(i,o){if(Hr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!Hr(i[p],o[p]))return!1}return!0}function Im(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rm(i,o){var l=Im(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Im(l)}}function Cm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Cm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Pm(){for(var i=window,o=Wt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Wt(i.document)}return o}function Jh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function sT(i){var o=Pm(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Cm(l.ownerDocument.documentElement,l)){if(h!==null&&Jh(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Rm(l,y);var S=Rm(l,h);p&&S&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oT=d&&"documentMode"in document&&11>=document.documentMode,Ko=null,Zh=null,Ja=null,ed=!1;function Am(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ed||Ko==null||Ko!==Wt(h)||(h=Ko,"selectionStart"in h&&Jh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Xa(Ja,h)||(Ja=h,h=Du(Zh,"onSelect"),0<h.length&&(o=new Fo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ko)))}function ku(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Go={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},td={},km={};d&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function xu(i){if(td[i])return td[i];if(!Go[i])return i;var o=Go[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in km)return td[i]=o[l];return i}var xm=xu("animationend"),bm=xu("animationiteration"),Dm=xu("animationstart"),Nm=xu("transitionend"),Lm=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(i,o){Lm.set(i,o),a(o,[i])}for(var nd=0;nd<Om.length;nd++){var rd=Om[nd],aT=rd.toLowerCase(),lT=rd[0].toUpperCase()+rd.slice(1);fs(aT,"on"+lT)}fs(xm,"onAnimationEnd"),fs(bm,"onAnimationIteration"),fs(Dm,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Nm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Vm(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Ut(h,o,void 0,i),i.currentTarget=null}function Mm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var k=h[S],O=k.instance,Y=k.currentTarget;if(k=k.listener,O!==y&&p.isPropagationStopped())break e;Vm(p,k,Y),y=O}else for(S=0;S<h.length;S++){if(k=h[S],O=k.instance,Y=k.currentTarget,k=k.listener,O!==y&&p.isPropagationStopped())break e;Vm(p,k,Y),y=O}}}if(fe)throw i=Ve,fe=!1,Ve=null,i}function Rt(i,o){var l=o[hd];l===void 0&&(l=o[hd]=new Set);var h=i+"__bubble";l.has(h)||(Um(o,i,2,!1),l.add(h))}function id(i,o,l){var h=0;o&&(h|=4),Um(l,i,h,o)}var bu="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[bu]){i[bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(uT.has(l)||id(l,!1,i),id(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[bu]||(o[bu]=!0,id("selectionchange",!1,o))}}function Um(i,o,l,h){switch(Ha(o)){case 1:var p=xt;break;case 4:p=Gh;break;default:p=$a}l=p.bind(null,o,l,i),p=void 0,!ye||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function sd(i,o,l,h,p){var y=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;S=S.return}for(;k!==null;){if(S=to(k),S===null)return;if(O=S.tag,O===5||O===6){h=y=S;continue e}k=k.parentNode}}h=h.return}J(function(){var Y=y,ue=dn(l),he=[];e:{var ae=Lm.get(i);if(ae!==void 0){var _e=Fo,Ie=i;switch(i){case"keypress":if(Uo(l)===0)break e;case"keydown":case"keyup":_e=g;break;case"focusin":Ie="focus",_e=$o;break;case"focusout":Ie="blur",_e=$o;break;case"beforeblur":case"afterblur":_e=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Z;break;case xm:case bm:case Dm:_e=Mi;break;case Nm:_e=yt;break;case"scroll":_e=Qh;break;case"wheel":_e=ot;break;case"copy":case"cut":case"paste":_e=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=I}var Pe=(o&4)!==0,jt=!Pe&&i==="scroll",G=Pe?ae!==null?ae+"Capture":null:ae;Pe=[];for(var j=Y,Q;j!==null;){Q=j;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,G!==null&&(de=re(j,G),de!=null&&Pe.push(tl(j,de,Q)))),jt)break;j=j.return}0<Pe.length&&(ae=new _e(ae,Ie,null,l,ue),he.push({event:ae,listeners:Pe}))}}if(!(o&7)){e:{if(ae=i==="mouseover"||i==="pointerover",_e=i==="mouseout"||i==="pointerout",ae&&l!==Mn&&(Ie=l.relatedTarget||l.fromElement)&&(to(Ie)||Ie[Ui]))break e;if((_e||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,_e?(Ie=l.relatedTarget||l.toElement,_e=Y,Ie=Ie?to(Ie):null,Ie!==null&&(jt=nt(Ie),Ie!==jt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=Y),_e!==Ie)){if(Pe=zo,de="onMouseLeave",G="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=I,de="onPointerLeave",G="onPointerEnter",j="pointer"),jt=_e==null?ae:Xo(_e),Q=Ie==null?ae:Xo(Ie),ae=new Pe(de,j+"leave",_e,l,ue),ae.target=jt,ae.relatedTarget=Q,de=null,to(ue)===Y&&(Pe=new Pe(G,j+"enter",Ie,l,ue),Pe.target=Q,Pe.relatedTarget=jt,de=Pe),jt=de,_e&&Ie)t:{for(Pe=_e,G=Ie,j=0,Q=Pe;Q;Q=Qo(Q))j++;for(Q=0,de=G;de;de=Qo(de))Q++;for(;0<j-Q;)Pe=Qo(Pe),j--;for(;0<Q-j;)G=Qo(G),Q--;for(;j--;){if(Pe===G||G!==null&&Pe===G.alternate)break t;Pe=Qo(Pe),G=Qo(G)}Pe=null}else Pe=null;_e!==null&&Fm(he,ae,_e,Pe,!1),Ie!==null&&jt!==null&&Fm(he,jt,Ie,Pe,!0)}}e:{if(ae=Y?Xo(Y):window,_e=ae.nodeName&&ae.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ae.type==="file")var Ae=ZE;else if(vm(ae))if(wm)Ae=rT;else{Ae=tT;var De=eT}else(_e=ae.nodeName)&&_e.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ae=nT);if(Ae&&(Ae=Ae(i,Y))){_m(he,Ae,l,ue);break e}De&&De(i,ae,Y),i==="focusout"&&(De=ae._wrapperState)&&De.controlled&&ae.type==="number"&&xr(ae,"number",ae.value)}switch(De=Y?Xo(Y):window,i){case"focusin":(vm(De)||De.contentEditable==="true")&&(Ko=De,Zh=Y,Ja=null);break;case"focusout":Ja=Zh=Ko=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Am(he,l,ue);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Am(he,l,ue)}var Ne;if($t)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Wo?gm(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(eo&&l.locale!=="ko"&&(Wo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Wo&&(Ne=qa()):(or=ue,Mo="value"in or?or.value:or.textContent,Wo=!0)),De=Du(Y,Fe),0<De.length&&(Fe=new Ga(Fe,i,null,l,ue),he.push({event:Fe,listeners:De}),Ne?Fe.data=Ne:(Ne=ym(l),Ne!==null&&(Fe.data=Ne)))),(Ne=ar?QE(i,l):YE(i,l))&&(Y=Du(Y,"onBeforeInput"),0<Y.length&&(ue=new Ga("onBeforeInput","beforeinput",null,l,ue),he.push({event:ue,listeners:Y}),ue.data=Ne))}Mm(he,o)})}function tl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Du(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=re(i,l),y!=null&&h.unshift(tl(i,y,p)),y=re(i,o),y!=null&&h.push(tl(i,y,p))),i=i.return}return h}function Qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fm(i,o,l,h,p){for(var y=o._reactName,S=[];l!==null&&l!==h;){var k=l,O=k.alternate,Y=k.stateNode;if(O!==null&&O===h)break;k.tag===5&&Y!==null&&(k=Y,p?(O=re(l,y),O!=null&&S.unshift(tl(l,O,k))):p||(O=re(l,y),O!=null&&S.push(tl(l,O,k)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var cT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function jm(i){return(typeof i=="string"?i:""+i).replace(cT,`
`).replace(hT,"")}function Nu(i,o,l){if(o=jm(o),jm(i)!==o&&l)throw Error(t(425))}function Lu(){}var od=null,ad=null;function ld(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(i){return zm.resolve(null).then(i).catch(pT)}:ud;function pT(i){setTimeout(function(){throw i})}function cd(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Br(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Br(o)}function ps(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Bm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),di="__reactFiber$"+Yo,nl="__reactProps$"+Yo,Ui="__reactContainer$"+Yo,hd="__reactEvents$"+Yo,mT="__reactListeners$"+Yo,gT="__reactHandles$"+Yo;function to(i){var o=i[di];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ui]||l[di]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Bm(i);i!==null;){if(l=i[di])return l;i=Bm(i)}return o}i=l,l=i.parentNode}return null}function rl(i){return i=i[di]||i[Ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ou(i){return i[nl]||null}var dd=[],Jo=-1;function ms(i){return{current:i}}function Ct(i){0>Jo||(i.current=dd[Jo],dd[Jo]=null,Jo--)}function Et(i,o){Jo++,dd[Jo]=i.current,i.current=o}var gs={},Rn=ms(gs),Kn=ms(!1),no=gs;function Zo(i,o){var l=i.type.contextTypes;if(!l)return gs;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function Gn(i){return i=i.childContextTypes,i!=null}function Vu(){Ct(Kn),Ct(Rn)}function $m(i,o,l){if(Rn.current!==gs)throw Error(t(168));Et(Rn,o),Et(Kn,l)}function Hm(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ce(i)||"Unknown",p));return X({},l,h)}function Mu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gs,no=Rn.current,Et(Rn,i),Et(Kn,Kn.current),!0}function qm(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Hm(i,o,no),h.__reactInternalMemoizedMergedChildContext=i,Ct(Kn),Ct(Rn),Et(Rn,i)):Ct(Kn),Et(Kn,l)}var Fi=null,Uu=!1,fd=!1;function Wm(i){Fi===null?Fi=[i]:Fi.push(i)}function yT(i){Uu=!0,Wm(i)}function ys(){if(!fd&&Fi!==null){fd=!0;var i=0,o=rt;try{var l=Fi;for(rt=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Fi=null,Uu=!1}catch(p){throw Fi!==null&&(Fi=Fi.slice(i+1)),fn(st,ys),p}finally{rt=o,fd=!1}}return null}var ea=[],ta=0,Fu=null,ju=0,vr=[],_r=0,ro=null,ji=1,zi="";function io(i,o){ea[ta++]=ju,ea[ta++]=Fu,Fu=i,ju=o}function Km(i,o,l){vr[_r++]=ji,vr[_r++]=zi,vr[_r++]=ro,ro=i;var h=ji;i=zi;var p=32-Un(h)-1;h&=~(1<<p),l+=1;var y=32-Un(o)+p;if(30<y){var S=p-p%5;y=(h&(1<<S)-1).toString(32),h>>=S,p-=S,ji=1<<32-Un(o)+p|l<<p|h,zi=y+i}else ji=1<<y|l<<p|h,zi=i}function pd(i){i.return!==null&&(io(i,1),Km(i,1,0))}function md(i){for(;i===Fu;)Fu=ea[--ta],ea[ta]=null,ju=ea[--ta],ea[ta]=null;for(;i===ro;)ro=vr[--_r],vr[_r]=null,zi=vr[--_r],vr[_r]=null,ji=vr[--_r],vr[_r]=null}var lr=null,ur=null,bt=!1,qr=null;function Gm(i,o){var l=Sr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Qm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,lr=i,ur=ps(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,lr=i,ur=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ro!==null?{id:ji,overflow:zi}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Sr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,lr=i,ur=null,!0):!1;default:return!1}}function gd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function yd(i){if(bt){var o=ur;if(o){var l=o;if(!Qm(i,o)){if(gd(i))throw Error(t(418));o=ps(l.nextSibling);var h=lr;o&&Qm(i,o)?Gm(h,l):(i.flags=i.flags&-4097|2,bt=!1,lr=i)}}else{if(gd(i))throw Error(t(418));i.flags=i.flags&-4097|2,bt=!1,lr=i}}}function Ym(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;lr=i}function zu(i){if(i!==lr)return!1;if(!bt)return Ym(i),bt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ld(i.type,i.memoizedProps)),o&&(o=ur)){if(gd(i))throw Xm(),Error(t(418));for(;o;)Gm(i,o),o=ps(o.nextSibling)}if(Ym(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){ur=ps(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}ur=null}}else ur=lr?ps(i.stateNode.nextSibling):null;return!0}function Xm(){for(var i=ur;i;)i=ps(i.nextSibling)}function na(){ur=lr=null,bt=!1}function vd(i){qr===null?qr=[i]:qr.push(i)}var vT=ne.ReactCurrentBatchConfig;function il(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var k=p.refs;S===null?delete k[y]:k[y]=S},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Bu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Jm(i){var o=i._init;return o(i._payload)}function Zm(i){function o(G,j){if(i){var Q=G.deletions;Q===null?(G.deletions=[j],G.flags|=16):Q.push(j)}}function l(G,j){if(!i)return null;for(;j!==null;)o(G,j),j=j.sibling;return null}function h(G,j){for(G=new Map;j!==null;)j.key!==null?G.set(j.key,j):G.set(j.index,j),j=j.sibling;return G}function p(G,j){return G=Rs(G,j),G.index=0,G.sibling=null,G}function y(G,j,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<j?(G.flags|=2,j):Q):(G.flags|=2,j)):(G.flags|=1048576,j)}function S(G){return i&&G.alternate===null&&(G.flags|=2),G}function k(G,j,Q,de){return j===null||j.tag!==6?(j=cf(Q,G.mode,de),j.return=G,j):(j=p(j,Q),j.return=G,j)}function O(G,j,Q,de){var Ae=Q.type;return Ae===A?ue(G,j,Q.props.children,de,Q.key):j!==null&&(j.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Xe&&Jm(Ae)===j.type)?(de=p(j,Q.props),de.ref=il(G,j,Q),de.return=G,de):(de=dc(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=il(G,j,Q),de.return=G,de)}function Y(G,j,Q,de){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=hf(Q,G.mode,de),j.return=G,j):(j=p(j,Q.children||[]),j.return=G,j)}function ue(G,j,Q,de,Ae){return j===null||j.tag!==7?(j=fo(Q,G.mode,de,Ae),j.return=G,j):(j=p(j,Q),j.return=G,j)}function he(G,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=cf(""+j,G.mode,Q),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return Q=dc(j.type,j.key,j.props,null,G.mode,Q),Q.ref=il(G,null,j),Q.return=G,Q;case ie:return j=hf(j,G.mode,Q),j.return=G,j;case Xe:var de=j._init;return he(G,de(j._payload),Q)}if(tn(j)||$(j))return j=fo(j,G.mode,Q,null),j.return=G,j;Bu(G,j)}return null}function ae(G,j,Q,de){var Ae=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ae!==null?null:k(G,j,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return Q.key===Ae?O(G,j,Q,de):null;case ie:return Q.key===Ae?Y(G,j,Q,de):null;case Xe:return Ae=Q._init,ae(G,j,Ae(Q._payload),de)}if(tn(Q)||$(Q))return Ae!==null?null:ue(G,j,Q,de,null);Bu(G,Q)}return null}function _e(G,j,Q,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(Q)||null,k(j,G,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case M:return G=G.get(de.key===null?Q:de.key)||null,O(j,G,de,Ae);case ie:return G=G.get(de.key===null?Q:de.key)||null,Y(j,G,de,Ae);case Xe:var De=de._init;return _e(G,j,Q,De(de._payload),Ae)}if(tn(de)||$(de))return G=G.get(Q)||null,ue(j,G,de,Ae,null);Bu(j,de)}return null}function Ie(G,j,Q,de){for(var Ae=null,De=null,Ne=j,Fe=j=0,an=null;Ne!==null&&Fe<Q.length;Fe++){Ne.index>Fe?(an=Ne,Ne=null):an=Ne.sibling;var ct=ae(G,Ne,Q[Fe],de);if(ct===null){Ne===null&&(Ne=an);break}i&&Ne&&ct.alternate===null&&o(G,Ne),j=y(ct,j,Fe),De===null?Ae=ct:De.sibling=ct,De=ct,Ne=an}if(Fe===Q.length)return l(G,Ne),bt&&io(G,Fe),Ae;if(Ne===null){for(;Fe<Q.length;Fe++)Ne=he(G,Q[Fe],de),Ne!==null&&(j=y(Ne,j,Fe),De===null?Ae=Ne:De.sibling=Ne,De=Ne);return bt&&io(G,Fe),Ae}for(Ne=h(G,Ne);Fe<Q.length;Fe++)an=_e(Ne,G,Fe,Q[Fe],de),an!==null&&(i&&an.alternate!==null&&Ne.delete(an.key===null?Fe:an.key),j=y(an,j,Fe),De===null?Ae=an:De.sibling=an,De=an);return i&&Ne.forEach(function(Cs){return o(G,Cs)}),bt&&io(G,Fe),Ae}function Pe(G,j,Q,de){var Ae=$(Q);if(typeof Ae!="function")throw Error(t(150));if(Q=Ae.call(Q),Q==null)throw Error(t(151));for(var De=Ae=null,Ne=j,Fe=j=0,an=null,ct=Q.next();Ne!==null&&!ct.done;Fe++,ct=Q.next()){Ne.index>Fe?(an=Ne,Ne=null):an=Ne.sibling;var Cs=ae(G,Ne,ct.value,de);if(Cs===null){Ne===null&&(Ne=an);break}i&&Ne&&Cs.alternate===null&&o(G,Ne),j=y(Cs,j,Fe),De===null?Ae=Cs:De.sibling=Cs,De=Cs,Ne=an}if(ct.done)return l(G,Ne),bt&&io(G,Fe),Ae;if(Ne===null){for(;!ct.done;Fe++,ct=Q.next())ct=he(G,ct.value,de),ct!==null&&(j=y(ct,j,Fe),De===null?Ae=ct:De.sibling=ct,De=ct);return bt&&io(G,Fe),Ae}for(Ne=h(G,Ne);!ct.done;Fe++,ct=Q.next())ct=_e(Ne,G,Fe,ct.value,de),ct!==null&&(i&&ct.alternate!==null&&Ne.delete(ct.key===null?Fe:ct.key),j=y(ct,j,Fe),De===null?Ae=ct:De.sibling=ct,De=ct);return i&&Ne.forEach(function(XT){return o(G,XT)}),bt&&io(G,Fe),Ae}function jt(G,j,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:e:{for(var Ae=Q.key,De=j;De!==null;){if(De.key===Ae){if(Ae=Q.type,Ae===A){if(De.tag===7){l(G,De.sibling),j=p(De,Q.props.children),j.return=G,G=j;break e}}else if(De.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Xe&&Jm(Ae)===De.type){l(G,De.sibling),j=p(De,Q.props),j.ref=il(G,De,Q),j.return=G,G=j;break e}l(G,De);break}else o(G,De);De=De.sibling}Q.type===A?(j=fo(Q.props.children,G.mode,de,Q.key),j.return=G,G=j):(de=dc(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=il(G,j,Q),de.return=G,G=de)}return S(G);case ie:e:{for(De=Q.key;j!==null;){if(j.key===De)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l(G,j.sibling),j=p(j,Q.children||[]),j.return=G,G=j;break e}else{l(G,j);break}else o(G,j);j=j.sibling}j=hf(Q,G.mode,de),j.return=G,G=j}return S(G);case Xe:return De=Q._init,jt(G,j,De(Q._payload),de)}if(tn(Q))return Ie(G,j,Q,de);if($(Q))return Pe(G,j,Q,de);Bu(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,j!==null&&j.tag===6?(l(G,j.sibling),j=p(j,Q),j.return=G,G=j):(l(G,j),j=cf(Q,G.mode,de),j.return=G,G=j),S(G)):l(G,j)}return jt}var ra=Zm(!0),eg=Zm(!1),$u=ms(null),Hu=null,ia=null,_d=null;function wd(){_d=ia=Hu=null}function Ed(i){var o=$u.current;Ct($u),i._currentValue=o}function Td(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function sa(i,o){Hu=i,_d=ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Qn=!0),i.firstContext=null)}function wr(i){var o=i._currentValue;if(_d!==i)if(i={context:i,memoizedValue:o,next:null},ia===null){if(Hu===null)throw Error(t(308));ia=i,Hu.dependencies={lanes:0,firstContext:i}}else ia=ia.next=i;return o}var so=null;function Sd(i){so===null?so=[i]:so.push(i)}function tg(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,Sd(o)):(l.next=p.next,p.next=l),o.interleaved=l,Bi(i,h)}function Bi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vs=!1;function Id(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $i(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function _s(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,ut&2){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Bi(i,l)}return p=h.interleaved,p===null?(o.next=o,Sd(h)):(o.next=p.next,p.next=o),h.interleaved=o,Bi(i,l)}function qu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}function rg(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Wu(i,o,l,h){var p=i.updateQueue;vs=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var O=k,Y=O.next;O.next=null,S===null?y=Y:S.next=Y,S=O;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,k=ue.lastBaseUpdate,k!==S&&(k===null?ue.firstBaseUpdate=Y:k.next=Y,ue.lastBaseUpdate=O))}if(y!==null){var he=p.baseState;S=0,ue=Y=O=null,k=y;do{var ae=k.lane,_e=k.eventTime;if((h&ae)===ae){ue!==null&&(ue=ue.next={eventTime:_e,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ie=i,Pe=k;switch(ae=o,_e=l,Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){he=Ie.call(_e,he,ae);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,ae=typeof Ie=="function"?Ie.call(_e,he,ae):Ie,ae==null)break e;he=X({},he,ae);break e;case 2:vs=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,ae=p.effects,ae===null?p.effects=[k]:ae.push(k))}else _e={eventTime:_e,lane:ae,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ue===null?(Y=ue=_e,O=he):ue=ue.next=_e,S|=ae;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ae=k,k=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);if(ue===null&&(O=he),p.baseState=O,p.firstBaseUpdate=Y,p.lastBaseUpdate=ue,o=p.shared.interleaved,o!==null){p=o;do S|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);lo|=S,i.lanes=S,i.memoizedState=he}}function ig(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var sl={},fi=ms(sl),ol=ms(sl),al=ms(sl);function oo(i){if(i===sl)throw Error(t(174));return i}function Rd(i,o){switch(Et(al,o),Et(ol,i),Et(fi,sl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:vt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=vt(o,i)}Ct(fi),Et(fi,o)}function oa(){Ct(fi),Ct(ol),Ct(al)}function sg(i){oo(al.current);var o=oo(fi.current),l=vt(o,i.type);o!==l&&(Et(ol,i),Et(fi,l))}function Cd(i){ol.current===i&&(Ct(fi),Ct(ol))}var Nt=ms(0);function Ku(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pd=[];function Ad(){for(var i=0;i<Pd.length;i++)Pd[i]._workInProgressVersionPrimary=null;Pd.length=0}var Gu=ne.ReactCurrentDispatcher,kd=ne.ReactCurrentBatchConfig,ao=0,Lt=null,Qt=null,sn=null,Qu=!1,ll=!1,ul=0,_T=0;function Cn(){throw Error(t(321))}function xd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Hr(i[l],o[l]))return!1;return!0}function bd(i,o,l,h,p,y){if(ao=y,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Gu.current=i===null||i.memoizedState===null?ST:IT,i=l(h,p),ll){y=0;do{if(ll=!1,ul=0,25<=y)throw Error(t(301));y+=1,sn=Qt=null,o.updateQueue=null,Gu.current=RT,i=l(h,p)}while(ll)}if(Gu.current=Ju,o=Qt!==null&&Qt.next!==null,ao=0,sn=Qt=Lt=null,Qu=!1,o)throw Error(t(300));return i}function Dd(){var i=ul!==0;return ul=0,i}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Lt.memoizedState=sn=i:sn=sn.next=i,sn}function Er(){if(Qt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var o=sn===null?Lt.memoizedState:sn.next;if(o!==null)sn=o,Qt=i;else{if(i===null)throw Error(t(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},sn===null?Lt.memoizedState=sn=i:sn=sn.next=i}return sn}function cl(i,o){return typeof o=="function"?o(i):o}function Nd(i){var o=Er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Qt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=S=null,O=null,Y=y;do{var ue=Y.lane;if((ao&ue)===ue)O!==null&&(O=O.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:i(h,Y.action);else{var he={lane:ue,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};O===null?(k=O=he,S=h):O=O.next=he,Lt.lanes|=ue,lo|=ue}Y=Y.next}while(Y!==null&&Y!==y);O===null?S=h:O.next=k,Hr(h,o.memoizedState)||(Qn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=O,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,Lt.lanes|=y,lo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Ld(i){var o=Er(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=i(y,S.action),S=S.next;while(S!==p);Hr(y,o.memoizedState)||(Qn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function og(){}function ag(i,o){var l=Lt,h=Er(),p=o(),y=!Hr(h.memoizedState,p);if(y&&(h.memoizedState=p,Qn=!0),h=h.queue,Od(cg.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,hl(9,ug.bind(null,l,h,p,o),void 0,null),on===null)throw Error(t(349));ao&30||lg(l,o,p)}return p}function lg(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ug(i,o,l,h){o.value=l,o.getSnapshot=h,hg(o)&&dg(i)}function cg(i,o,l){return l(function(){hg(o)&&dg(i)})}function hg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Hr(i,l)}catch{return!0}}function dg(i){var o=Bi(i,1);o!==null&&Qr(o,i,1,-1)}function fg(i){var o=pi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},o.queue=i,i=i.dispatch=TT.bind(null,Lt,i),[o.memoizedState,i]}function hl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function pg(){return Er().memoizedState}function Yu(i,o,l,h){var p=pi();Lt.flags|=i,p.memoizedState=hl(1|o,l,void 0,h===void 0?null:h)}function Xu(i,o,l,h){var p=Er();h=h===void 0?null:h;var y=void 0;if(Qt!==null){var S=Qt.memoizedState;if(y=S.destroy,h!==null&&xd(h,S.deps)){p.memoizedState=hl(o,l,y,h);return}}Lt.flags|=i,p.memoizedState=hl(1|o,l,y,h)}function mg(i,o){return Yu(8390656,8,i,o)}function Od(i,o){return Xu(2048,8,i,o)}function gg(i,o){return Xu(4,2,i,o)}function yg(i,o){return Xu(4,4,i,o)}function vg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function _g(i,o,l){return l=l!=null?l.concat([i]):null,Xu(4,4,vg.bind(null,o,i),l)}function Vd(){}function wg(i,o){var l=Er();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&xd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Eg(i,o){var l=Er();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&xd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Tg(i,o,l){return ao&21?(Hr(l,o)||(l=Ys(),Lt.lanes|=l,lo|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Qn=!0),i.memoizedState=l)}function wT(i,o){var l=rt;rt=l!==0&&4>l?l:4,i(!0);var h=kd.transition;kd.transition={};try{i(!1),o()}finally{rt=l,kd.transition=h}}function Sg(){return Er().memoizedState}function ET(i,o,l){var h=Ss(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ig(i))Rg(o,l);else if(l=tg(i,o,l,h),l!==null){var p=zn();Qr(l,i,h,p),Cg(l,o,h)}}function TT(i,o,l){var h=Ss(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ig(i))Rg(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,k=y(S,l);if(p.hasEagerState=!0,p.eagerState=k,Hr(k,S)){var O=o.interleaved;O===null?(p.next=p,Sd(o)):(p.next=O.next,O.next=p),o.interleaved=p;return}}catch{}finally{}l=tg(i,o,p,h),l!==null&&(p=zn(),Qr(l,i,h,p),Cg(l,o,h))}}function Ig(i){var o=i.alternate;return i===Lt||o!==null&&o===Lt}function Rg(i,o){ll=Qu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Cg(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ls(i,l)}}var Ju={readContext:wr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},ST={readContext:wr,useCallback:function(i,o){return pi().memoizedState=[i,o===void 0?null:o],i},useContext:wr,useEffect:mg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Yu(4194308,4,vg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Yu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Yu(4,2,i,o)},useMemo:function(i,o){var l=pi();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=pi();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=ET.bind(null,Lt,i),[h.memoizedState,i]},useRef:function(i){var o=pi();return i={current:i},o.memoizedState=i},useState:fg,useDebugValue:Vd,useDeferredValue:function(i){return pi().memoizedState=i},useTransition:function(){var i=fg(!1),o=i[0];return i=wT.bind(null,i[1]),pi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=Lt,p=pi();if(bt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),on===null)throw Error(t(349));ao&30||lg(h,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,mg(cg.bind(null,h,y,i),[i]),h.flags|=2048,hl(9,ug.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=pi(),o=on.identifierPrefix;if(bt){var l=zi,h=ji;l=(h&~(1<<32-Un(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=ul++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=_T++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},IT={readContext:wr,useCallback:wg,useContext:wr,useEffect:Od,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Nd,useRef:pg,useState:function(){return Nd(cl)},useDebugValue:Vd,useDeferredValue:function(i){var o=Er();return Tg(o,Qt.memoizedState,i)},useTransition:function(){var i=Nd(cl)[0],o=Er().memoizedState;return[i,o]},useMutableSource:og,useSyncExternalStore:ag,useId:Sg,unstable_isNewReconciler:!1},RT={readContext:wr,useCallback:wg,useContext:wr,useEffect:Od,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Ld,useRef:pg,useState:function(){return Ld(cl)},useDebugValue:Vd,useDeferredValue:function(i){var o=Er();return Qt===null?o.memoizedState=i:Tg(o,Qt.memoizedState,i)},useTransition:function(){var i=Ld(cl)[0],o=Er().memoizedState;return[i,o]},useMutableSource:og,useSyncExternalStore:ag,useId:Sg,unstable_isNewReconciler:!1};function Wr(i,o){if(i&&i.defaultProps){o=X({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Md(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:X({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Zu={isMounted:function(i){return(i=i._reactInternals)?nt(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=zn(),p=Ss(i),y=$i(h,p);y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,p),o!==null&&(Qr(o,i,p,h),qu(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=zn(),p=Ss(i),y=$i(h,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=_s(i,y,p),o!==null&&(Qr(o,i,p,h),qu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=zn(),h=Ss(i),p=$i(l,h);p.tag=2,o!=null&&(p.callback=o),o=_s(i,p,h),o!==null&&(Qr(o,i,h,l),qu(o,i,h))}};function Pg(i,o,l,h,p,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!Xa(l,h)||!Xa(p,y):!0}function Ag(i,o,l){var h=!1,p=gs,y=o.contextType;return typeof y=="object"&&y!==null?y=wr(y):(p=Gn(o)?no:Rn.current,h=o.contextTypes,y=(h=h!=null)?Zo(i,p):gs),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zu,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function kg(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Zu.enqueueReplaceState(o,o.state,null)}function Ud(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Id(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=wr(y):(y=Gn(o)?no:Rn.current,p.context=Zo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Md(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Zu.enqueueReplaceState(p,p.state,null),Wu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function aa(i,o){try{var l="",h=o;do l+=ge(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function Fd(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function jd(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function xg(i,o,l){l=$i(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){oc||(oc=!0,tf=h),jd(i,o)},l}function bg(i,o,l){l=$i(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){jd(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){jd(i,o),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Dg(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new CT;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=jT.bind(null,i,o,l),o.then(i,i))}function Ng(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Lg(i,o,l,h,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=$i(-1,1),o.tag=2,_s(l,o,1))),l.lanes|=1),i)}var PT=ne.ReactCurrentOwner,Qn=!1;function jn(i,o,l,h){o.child=i===null?eg(o,null,l,h):ra(o,i.child,l,h)}function Og(i,o,l,h,p){l=l.render;var y=o.ref;return sa(o,p),h=bd(i,o,l,h,y,p),l=Dd(),i!==null&&!Qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Hi(i,o,p)):(bt&&l&&pd(o),o.flags|=1,jn(i,o,h,p),o.child)}function Vg(i,o,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!uf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Mg(i,o,y,h,p)):(i=dc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&p)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(S,h)&&i.ref===o.ref)return Hi(i,o,p)}return o.flags|=1,i=Rs(y,h),i.ref=o.ref,i.return=o,o.child=i}function Mg(i,o,l,h,p){if(i!==null){var y=i.memoizedProps;if(Xa(y,h)&&i.ref===o.ref)if(Qn=!1,o.pendingProps=h=y,(i.lanes&p)!==0)i.flags&131072&&(Qn=!0);else return o.lanes=i.lanes,Hi(i,o,p)}return zd(i,o,l,h,p)}function Ug(i,o,l){var h=o.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(ua,cr),cr|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Et(ua,cr),cr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Et(ua,cr),cr|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Et(ua,cr),cr|=h;return jn(i,o,p,l),o.child}function Fg(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function zd(i,o,l,h,p){var y=Gn(l)?no:Rn.current;return y=Zo(o,y),sa(o,p),l=bd(i,o,l,h,y,p),h=Dd(),i!==null&&!Qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Hi(i,o,p)):(bt&&h&&pd(o),o.flags|=1,jn(i,o,l,p),o.child)}function jg(i,o,l,h,p){if(Gn(l)){var y=!0;Mu(o)}else y=!1;if(sa(o,p),o.stateNode===null)tc(i,o),Ag(o,l,h),Ud(o,l,h,p),h=!0;else if(i===null){var S=o.stateNode,k=o.memoizedProps;S.props=k;var O=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=wr(Y):(Y=Gn(l)?no:Rn.current,Y=Zo(o,Y));var ue=l.getDerivedStateFromProps,he=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";he||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==h||O!==Y)&&kg(o,S,h,Y),vs=!1;var ae=o.memoizedState;S.state=ae,Wu(o,h,S,p),O=o.memoizedState,k!==h||ae!==O||Kn.current||vs?(typeof ue=="function"&&(Md(o,l,ue,h),O=o.memoizedState),(k=vs||Pg(o,l,k,h,ae,O,Y))?(he||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),S.props=h,S.state=O,S.context=Y,h=k):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,ng(i,o),k=o.memoizedProps,Y=o.type===o.elementType?k:Wr(o.type,k),S.props=Y,he=o.pendingProps,ae=S.context,O=l.contextType,typeof O=="object"&&O!==null?O=wr(O):(O=Gn(l)?no:Rn.current,O=Zo(o,O));var _e=l.getDerivedStateFromProps;(ue=typeof _e=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==he||ae!==O)&&kg(o,S,h,O),vs=!1,ae=o.memoizedState,S.state=ae,Wu(o,h,S,p);var Ie=o.memoizedState;k!==he||ae!==Ie||Kn.current||vs?(typeof _e=="function"&&(Md(o,l,_e,h),Ie=o.memoizedState),(Y=vs||Pg(o,l,Y,h,ae,Ie,O)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Ie,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Ie,O)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),S.props=h,S.state=Ie,S.context=O,h=Y):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),h=!1)}return Bd(i,o,l,h,y,p)}function Bd(i,o,l,h,p,y){Fg(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return p&&qm(o,l,!1),Hi(i,o,y);h=o.stateNode,PT.current=o;var k=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=ra(o,i.child,null,y),o.child=ra(o,null,k,y)):jn(i,o,k,y),o.memoizedState=h.state,p&&qm(o,l,!0),o.child}function zg(i){var o=i.stateNode;o.pendingContext?$m(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$m(i,o.context,!1),Rd(i,o.containerInfo)}function Bg(i,o,l,h,p){return na(),vd(p),o.flags|=256,jn(i,o,l,h),o.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Hd(i){return{baseLanes:i,cachePool:null,transitions:null}}function $g(i,o,l){var h=o.pendingProps,p=Nt.current,y=!1,S=(o.flags&128)!==0,k;if((k=S)||(k=i!==null&&i.memoizedState===null?!1:(p&2)!==0),k?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Et(Nt,p&1),i===null)return yd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=h.children,i=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=S):y=fc(S,h,0,null),i=fo(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Hd(l),o.memoizedState=$d,i):qd(o,S));if(p=i.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return AT(i,o,S,h,k,p,l);if(y){y=h.fallback,S=o.mode,p=i.child,k=p.sibling;var O={mode:"hidden",children:h.children};return!(S&1)&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Rs(p,O),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=Rs(k,y):(y=fo(y,S,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=i.child.memoizedState,S=S===null?Hd(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~l,o.memoizedState=$d,h}return y=i.child,i=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function qd(i,o){return o=fc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ec(i,o,l,h){return h!==null&&vd(h),ra(o,i.child,null,l),i=qd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function AT(i,o,l,h,p,y,S){if(l)return o.flags&256?(o.flags&=-257,h=Fd(Error(t(422))),ec(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=fc({mode:"visible",children:h.children},p,0,null),y=fo(y,p,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,o.mode&1&&ra(o,i.child,null,S),o.child.memoizedState=Hd(S),o.memoizedState=$d,y);if(!(o.mode&1))return ec(i,o,S,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=Fd(y,h,void 0),ec(i,o,S,h)}if(k=(S&i.childLanes)!==0,Qn||k){if(h=on,h!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|S)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Bi(i,p),Qr(h,i,p,-1))}return lf(),h=Fd(Error(t(421))),ec(i,o,S,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=zT.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,ur=ps(p.nextSibling),lr=o,bt=!0,qr=null,i!==null&&(vr[_r++]=ji,vr[_r++]=zi,vr[_r++]=ro,ji=i.id,zi=i.overflow,ro=o),o=qd(o,h.children),o.flags|=4096,o)}function Hg(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Td(i.return,o,l)}function Wd(i,o,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function qg(i,o,l){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(jn(i,o,h.children,l),h=Nt.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hg(i,l,o);else if(i.tag===19)Hg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Et(Nt,h),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Ku(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Wd(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Ku(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Wd(o,!0,l,null,y);break;case"together":Wd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function tc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Hi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),lo|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Rs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Rs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function kT(i,o,l){switch(o.tag){case 3:zg(o),na();break;case 5:sg(o);break;case 1:Gn(o.type)&&Mu(o);break;case 4:Rd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Et($u,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Et(Nt,Nt.current&1),o.flags|=128,null):l&o.child.childLanes?$g(i,o,l):(Et(Nt,Nt.current&1),i=Hi(i,o,l),i!==null?i.sibling:null);Et(Nt,Nt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return qg(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Et(Nt,Nt.current),h)break;return null;case 22:case 23:return o.lanes=0,Ug(i,o,l)}return Hi(i,o,l)}var Wg,Kd,Kg,Gg;Wg=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kd=function(){},Kg=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,oo(fi.current);var y=null;switch(l){case"input":p=Ar(i,p),h=Ar(i,h),y=[];break;case"select":p=X({},p,{value:void 0}),h=X({},h,{value:void 0}),y=[];break;case"textarea":p=nr(i,p),h=nr(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Lu)}ir(l,h);var S;l=null;for(Y in p)if(!h.hasOwnProperty(Y)&&p.hasOwnProperty(Y)&&p[Y]!=null)if(Y==="style"){var k=p[Y];for(S in k)k.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var O=h[Y];if(k=p!=null?p[Y]:void 0,h.hasOwnProperty(Y)&&O!==k&&(O!=null||k!=null))if(Y==="style")if(k){for(S in k)!k.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in O)O.hasOwnProperty(S)&&k[S]!==O[S]&&(l||(l={}),l[S]=O[S])}else l||(y||(y=[]),y.push(Y,l)),l=O;else Y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(y=y||[]).push(Y,O)):Y==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(Y,""+O):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(O!=null&&Y==="onScroll"&&Rt("scroll",i),y||k===O||(y=[])):(y=y||[]).push(Y,O))}l&&(y=y||[]).push("style",l);var Y=y;(o.updateQueue=Y)&&(o.flags|=4)}},Gg=function(i,o,l,h){l!==h&&(o.flags|=4)};function dl(i,o){if(!bt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Pn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function xT(i,o,l){var h=o.pendingProps;switch(md(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(o),null;case 1:return Gn(o.type)&&Vu(),Pn(o),null;case 3:return h=o.stateNode,oa(),Ct(Kn),Ct(Rn),Ad(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(zu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qr!==null&&(sf(qr),qr=null))),Kd(i,o),Pn(o),null;case 5:Cd(o);var p=oo(al.current);if(l=o.type,i!==null&&o.stateNode!=null)Kg(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Pn(o),null}if(i=oo(fi.current),zu(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[di]=o,h[nl]=y,i=(o.mode&1)!==0,l){case"dialog":Rt("cancel",h),Rt("close",h);break;case"iframe":case"object":case"embed":Rt("load",h);break;case"video":case"audio":for(p=0;p<Za.length;p++)Rt(Za[p],h);break;case"source":Rt("error",h);break;case"img":case"image":case"link":Rt("error",h),Rt("load",h);break;case"details":Rt("toggle",h);break;case"input":mr(h,y),Rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Rt("invalid",h);break;case"textarea":Mt(h,y),Rt("invalid",h)}ir(l,y),p=null;for(var S in y)if(y.hasOwnProperty(S)){var k=y[S];S==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,k,i),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,k,i),p=["children",""+k]):s.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&Rt("scroll",h)}switch(l){case"input":en(h),kr(h,y,!0);break;case"textarea":en(h),Tn(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Lu)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(l,{is:h.is}):(i=S.createElement(l),l==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,l),i[di]=o,i[nl]=h,Wg(i,o,!1,!1),o.stateNode=i;e:{switch(S=si(l,h),l){case"dialog":Rt("cancel",i),Rt("close",i),p=h;break;case"iframe":case"object":case"embed":Rt("load",i),p=h;break;case"video":case"audio":for(p=0;p<Za.length;p++)Rt(Za[p],i);p=h;break;case"source":Rt("error",i),p=h;break;case"img":case"image":case"link":Rt("error",i),Rt("load",i),p=h;break;case"details":Rt("toggle",i),p=h;break;case"input":mr(i,h),p=Ar(i,h),Rt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=X({},h,{value:void 0}),Rt("invalid",i);break;case"textarea":Mt(i,h),p=nr(i,h),Rt("invalid",i);break;default:p=h}ir(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var O=k[y];y==="style"?xi(i,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&br(i,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&kt(i,O):typeof O=="number"&&kt(i,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Rt("scroll",i):O!=null&&ee(i,y,O,S))}switch(l){case"input":en(i),kr(i,h,!1);break;case"textarea":en(i),Tn(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ye(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Kt(i,!!h.multiple,y,!1):h.defaultValue!=null&&Kt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Lu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pn(o),null;case 6:if(i&&o.stateNode!=null)Gg(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=oo(al.current),oo(fi.current),zu(o)){if(h=o.stateNode,l=o.memoizedProps,h[di]=o,(y=h.nodeValue!==l)&&(i=lr,i!==null))switch(i.tag){case 3:Nu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[di]=o,o.stateNode=h}return Pn(o),null;case 13:if(Ct(Nt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(bt&&ur!==null&&o.mode&1&&!(o.flags&128))Xm(),na(),o.flags|=98560,y=!1;else if(y=zu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[di]=o}else na(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Pn(o),y=!1}else qr!==null&&(sf(qr),qr=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||Nt.current&1?Yt===0&&(Yt=3):lf())),o.updateQueue!==null&&(o.flags|=4),Pn(o),null);case 4:return oa(),Kd(i,o),i===null&&el(o.stateNode.containerInfo),Pn(o),null;case 10:return Ed(o.type._context),Pn(o),null;case 17:return Gn(o.type)&&Vu(),Pn(o),null;case 19:if(Ct(Nt),y=o.memoizedState,y===null)return Pn(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)dl(y,!1);else{if(Yt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(S=Ku(i),S!==null){for(o.flags|=128,dl(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Et(Nt,Nt.current&1|2),o.child}i=i.sibling}y.tail!==null&&mt()>ca&&(o.flags|=128,h=!0,dl(y,!1),o.lanes=4194304)}else{if(!h)if(i=Ku(S),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!bt)return Pn(o),null}else 2*mt()-y.renderingStartTime>ca&&l!==1073741824&&(o.flags|=128,h=!0,dl(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(l=y.last,l!==null?l.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=mt(),o.sibling=null,l=Nt.current,Et(Nt,h?l&1|2:l&1),o):(Pn(o),null);case 22:case 23:return af(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?cr&1073741824&&(Pn(o),o.subtreeFlags&6&&(o.flags|=8192)):Pn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function bT(i,o){switch(md(o),o.tag){case 1:return Gn(o.type)&&Vu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return oa(),Ct(Kn),Ct(Rn),Ad(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Cd(o),null;case 13:if(Ct(Nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ct(Nt),null;case 4:return oa(),null;case 10:return Ed(o.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var nc=!1,An=!1,DT=typeof WeakSet=="function"?WeakSet:Set,Te=null;function la(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Ft(i,o,h)}else l.current=null}function Gd(i,o,l){try{l()}catch(h){Ft(i,o,h)}}var Qg=!1;function NT(i,o){if(od=hs,i=Pm(),Jh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,k=-1,O=-1,Y=0,ue=0,he=i,ae=null;t:for(;;){for(var _e;he!==l||p!==0&&he.nodeType!==3||(k=S+p),he!==y||h!==0&&he.nodeType!==3||(O=S+h),he.nodeType===3&&(S+=he.nodeValue.length),(_e=he.firstChild)!==null;)ae=he,he=_e;for(;;){if(he===i)break t;if(ae===l&&++Y===p&&(k=S),ae===y&&++ue===h&&(O=S),(_e=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=_e}l=k===-1||O===-1?null:{start:k,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ad={focusedElem:i,selectionRange:l},hs=!1,Te=o;Te!==null;)if(o=Te,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Te=i;else for(;Te!==null;){o=Te;try{var Ie=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Pe=Ie.memoizedProps,jt=Ie.memoizedState,G=o.stateNode,j=G.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:Wr(o.type,Pe),jt);G.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Ft(o,o.return,de)}if(i=o.sibling,i!==null){i.return=o.return,Te=i;break}Te=o.return}return Ie=Qg,Qg=!1,Ie}function fl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Gd(o,l,y)}p=p.next}while(p!==h)}}function rc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Qd(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Yg(i){var o=i.alternate;o!==null&&(i.alternate=null,Yg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[di],delete o[nl],delete o[hd],delete o[mT],delete o[gT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xg(i){return i.tag===5||i.tag===3||i.tag===4}function Jg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Lu));else if(h!==4&&(i=i.child,i!==null))for(Yd(i,o,l),i=i.sibling;i!==null;)Yd(i,o,l),i=i.sibling}function Xd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Xd(i,o,l),i=i.sibling;i!==null;)Xd(i,o,l),i=i.sibling}var yn=null,Kr=!1;function ws(i,o,l){for(l=l.child;l!==null;)Zg(i,o,l),l=l.sibling}function Zg(i,o,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Hn,l)}catch{}switch(l.tag){case 5:An||la(l,o);case 6:var h=yn,p=Kr;yn=null,ws(i,o,l),yn=h,Kr=p,yn!==null&&(Kr?(i=yn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):yn.removeChild(l.stateNode));break;case 18:yn!==null&&(Kr?(i=yn,l=l.stateNode,i.nodeType===8?cd(i.parentNode,l):i.nodeType===1&&cd(i,l),Br(i)):cd(yn,l.stateNode));break;case 4:h=yn,p=Kr,yn=l.stateNode.containerInfo,Kr=!0,ws(i,o,l),yn=h,Kr=p;break;case 0:case 11:case 14:case 15:if(!An&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,S=y.destroy;y=y.tag,S!==void 0&&(y&2||y&4)&&Gd(l,o,S),p=p.next}while(p!==h)}ws(i,o,l);break;case 1:if(!An&&(la(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){Ft(l,o,k)}ws(i,o,l);break;case 21:ws(i,o,l);break;case 22:l.mode&1?(An=(h=An)||l.memoizedState!==null,ws(i,o,l),An=h):ws(i,o,l);break;default:ws(i,o,l)}}function ey(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new DT),o.forEach(function(h){var p=BT.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Gr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,S=o,k=S;e:for(;k!==null;){switch(k.tag){case 5:yn=k.stateNode,Kr=!1;break e;case 3:yn=k.stateNode.containerInfo,Kr=!0;break e;case 4:yn=k.stateNode.containerInfo,Kr=!0;break e}k=k.return}if(yn===null)throw Error(t(160));Zg(y,S,p),yn=null,Kr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(Y){Ft(p,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ty(o,i),o=o.sibling}function ty(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gr(o,i),mi(i),h&4){try{fl(3,i,i.return),rc(3,i)}catch(Pe){Ft(i,i.return,Pe)}try{fl(5,i,i.return)}catch(Pe){Ft(i,i.return,Pe)}}break;case 1:Gr(o,i),mi(i),h&512&&l!==null&&la(l,l.return);break;case 5:if(Gr(o,i),mi(i),h&512&&l!==null&&la(l,l.return),i.flags&32){var p=i.stateNode;try{kt(p,"")}catch(Pe){Ft(i,i.return,Pe)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,S=l!==null?l.memoizedProps:y,k=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&ri(p,y),si(k,S);var Y=si(k,y);for(S=0;S<O.length;S+=2){var ue=O[S],he=O[S+1];ue==="style"?xi(p,he):ue==="dangerouslySetInnerHTML"?br(p,he):ue==="children"?kt(p,he):ee(p,ue,he,Y)}switch(k){case"input":ii(p,y);break;case"textarea":hn(p,y);break;case"select":var ae=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var _e=y.value;_e!=null?Kt(p,!!y.multiple,_e,!1):ae!==!!y.multiple&&(y.defaultValue!=null?Kt(p,!!y.multiple,y.defaultValue,!0):Kt(p,!!y.multiple,y.multiple?[]:"",!1))}p[nl]=y}catch(Pe){Ft(i,i.return,Pe)}}break;case 6:if(Gr(o,i),mi(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(Pe){Ft(i,i.return,Pe)}}break;case 3:if(Gr(o,i),mi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Br(o.containerInfo)}catch(Pe){Ft(i,i.return,Pe)}break;case 4:Gr(o,i),mi(i);break;case 13:Gr(o,i),mi(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ef=mt())),h&4&&ey(i);break;case 22:if(ue=l!==null&&l.memoizedState!==null,i.mode&1?(An=(Y=An)||ue,Gr(o,i),An=Y):Gr(o,i),mi(i),h&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ue&&i.mode&1)for(Te=i,ue=i.child;ue!==null;){for(he=Te=ue;Te!==null;){switch(ae=Te,_e=ae.child,ae.tag){case 0:case 11:case 14:case 15:fl(4,ae,ae.return);break;case 1:la(ae,ae.return);var Ie=ae.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=ae,l=ae.return;try{o=h,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Pe){Ft(h,l,Pe)}}break;case 5:la(ae,ae.return);break;case 22:if(ae.memoizedState!==null){iy(he);continue}}_e!==null?(_e.return=ae,Te=_e):iy(he)}ue=ue.sibling}e:for(ue=null,he=i;;){if(he.tag===5){if(ue===null){ue=he;try{p=he.stateNode,Y?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=he.stateNode,O=he.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=Dr("display",S))}catch(Pe){Ft(i,i.return,Pe)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=Y?"":he.memoizedProps}catch(Pe){Ft(i,i.return,Pe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Gr(o,i),mi(i),h&4&&ey(i);break;case 21:break;default:Gr(o,i),mi(i)}}function mi(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Xg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(kt(p,""),h.flags&=-33);var y=Jg(i);Xd(i,y,p);break;case 3:case 4:var S=h.stateNode.containerInfo,k=Jg(i);Yd(i,k,S);break;default:throw Error(t(161))}}catch(O){Ft(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function LT(i,o,l){Te=i,ny(i)}function ny(i,o,l){for(var h=(i.mode&1)!==0;Te!==null;){var p=Te,y=p.child;if(p.tag===22&&h){var S=p.memoizedState!==null||nc;if(!S){var k=p.alternate,O=k!==null&&k.memoizedState!==null||An;k=nc;var Y=An;if(nc=S,(An=O)&&!Y)for(Te=p;Te!==null;)S=Te,O=S.child,S.tag===22&&S.memoizedState!==null?sy(p):O!==null?(O.return=S,Te=O):sy(p);for(;y!==null;)Te=y,ny(y),y=y.sibling;Te=p,nc=k,An=Y}ry(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,Te=y):ry(i)}}function ry(i){for(;Te!==null;){var o=Te;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:An||rc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!An)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Wr(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&ig(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ig(o,S,l)}break;case 5:var k=o.stateNode;if(l===null&&o.flags&4){l=k;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ue=Y.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&Br(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||o.flags&512&&Qd(o)}catch(ae){Ft(o,o.return,ae)}}if(o===i){Te=null;break}if(l=o.sibling,l!==null){l.return=o.return,Te=l;break}Te=o.return}}function iy(i){for(;Te!==null;){var o=Te;if(o===i){Te=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Te=l;break}Te=o.return}}function sy(i){for(;Te!==null;){var o=Te;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{rc(4,o)}catch(O){Ft(o,l,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(O){Ft(o,p,O)}}var y=o.return;try{Qd(o)}catch(O){Ft(o,y,O)}break;case 5:var S=o.return;try{Qd(o)}catch(O){Ft(o,S,O)}}}catch(O){Ft(o,o.return,O)}if(o===i){Te=null;break}var k=o.sibling;if(k!==null){k.return=o.return,Te=k;break}Te=o.return}}var OT=Math.ceil,ic=ne.ReactCurrentDispatcher,Jd=ne.ReactCurrentOwner,Tr=ne.ReactCurrentBatchConfig,ut=0,on=null,Ht=null,vn=0,cr=0,ua=ms(0),Yt=0,pl=null,lo=0,sc=0,Zd=0,ml=null,Yn=null,ef=0,ca=1/0,qi=null,oc=!1,tf=null,Es=null,ac=!1,Ts=null,lc=0,gl=0,nf=null,uc=-1,cc=0;function zn(){return ut&6?mt():uc!==-1?uc:uc=mt()}function Ss(i){return i.mode&1?ut&2&&vn!==0?vn&-vn:vT.transition!==null?(cc===0&&(cc=Ys()),cc):(i=rt,i!==0||(i=window.event,i=i===void 0?16:Ha(i.type)),i):1}function Qr(i,o,l,h){if(50<gl)throw gl=0,nf=null,Error(t(185));as(i,l,h),(!(ut&2)||i!==on)&&(i===on&&(!(ut&2)&&(sc|=l),Yt===4&&Is(i,vn)),Xn(i,h),l===1&&ut===0&&!(o.mode&1)&&(ca=mt()+500,Uu&&ys()))}function Xn(i,o){var l=i.callbackNode;Ni(i,o);var h=Qs(i,i===on?vn:0);if(h===0)l!==null&&bi(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&bi(l),o===1)i.tag===0?yT(ay.bind(null,i)):Wm(ay.bind(null,i)),fT(function(){!(ut&6)&&ys()}),l=null;else{switch(us(h)){case 1:l=st;break;case 4:l=St;break;case 16:l=pn;break;case 536870912:l=It;break;default:l=pn}l=my(l,oy.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function oy(i,o){if(uc=-1,cc=0,ut&6)throw Error(t(327));var l=i.callbackNode;if(ha()&&i.callbackNode!==l)return null;var h=Qs(i,i===on?vn:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=hc(i,h);else{o=h;var p=ut;ut|=2;var y=uy();(on!==i||vn!==o)&&(qi=null,ca=mt()+500,co(i,o));do try{UT();break}catch(k){ly(i,k)}while(!0);wd(),ic.current=y,ut=p,Ht!==null?o=0:(on=null,vn=0,o=Yt)}if(o!==0){if(o===2&&(p=sr(i),p!==0&&(h=p,o=rf(i,p))),o===1)throw l=pl,co(i,0),Is(i,h),Xn(i,mt()),l;if(o===6)Is(i,h);else{if(p=i.current.alternate,!(h&30)&&!VT(p)&&(o=hc(i,h),o===2&&(y=sr(i),y!==0&&(h=y,o=rf(i,y))),o===1))throw l=pl,co(i,0),Is(i,h),Xn(i,mt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ho(i,Yn,qi);break;case 3:if(Is(i,h),(h&130023424)===h&&(o=ef+500-mt(),10<o)){if(Qs(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){zn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=ud(ho.bind(null,i,Yn,qi),o);break}ho(i,Yn,qi);break;case 4:if(Is(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var S=31-Un(h);y=1<<S,S=o[S],S>p&&(p=S),h&=~y}if(h=p,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*OT(h/1960))-h,10<h){i.timeoutHandle=ud(ho.bind(null,i,Yn,qi),h);break}ho(i,Yn,qi);break;case 5:ho(i,Yn,qi);break;default:throw Error(t(329))}}}return Xn(i,mt()),i.callbackNode===l?oy.bind(null,i):null}function rf(i,o){var l=ml;return i.current.memoizedState.isDehydrated&&(co(i,o).flags|=256),i=hc(i,o),i!==2&&(o=Yn,Yn=l,o!==null&&sf(o)),i}function sf(i){Yn===null?Yn=i:Yn.push.apply(Yn,i)}function VT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Hr(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(i,o){for(o&=~Zd,o&=~sc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Un(o),h=1<<l;i[l]=-1,o&=~h}}function ay(i){if(ut&6)throw Error(t(327));ha();var o=Qs(i,0);if(!(o&1))return Xn(i,mt()),null;var l=hc(i,o);if(i.tag!==0&&l===2){var h=sr(i);h!==0&&(o=h,l=rf(i,h))}if(l===1)throw l=pl,co(i,0),Is(i,o),Xn(i,mt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ho(i,Yn,qi),Xn(i,mt()),null}function of(i,o){var l=ut;ut|=1;try{return i(o)}finally{ut=l,ut===0&&(ca=mt()+500,Uu&&ys())}}function uo(i){Ts!==null&&Ts.tag===0&&!(ut&6)&&ha();var o=ut;ut|=1;var l=Tr.transition,h=rt;try{if(Tr.transition=null,rt=1,i)return i()}finally{rt=h,Tr.transition=l,ut=o,!(ut&6)&&ys()}}function af(){cr=ua.current,Ct(ua)}function co(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,dT(l)),Ht!==null)for(l=Ht.return;l!==null;){var h=l;switch(md(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vu();break;case 3:oa(),Ct(Kn),Ct(Rn),Ad();break;case 5:Cd(h);break;case 4:oa();break;case 13:Ct(Nt);break;case 19:Ct(Nt);break;case 10:Ed(h.type._context);break;case 22:case 23:af()}l=l.return}if(on=i,Ht=i=Rs(i.current,null),vn=cr=o,Yt=0,pl=null,Zd=sc=lo=0,Yn=ml=null,so!==null){for(o=0;o<so.length;o++)if(l=so[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=p,h.next=S}l.pending=h}so=null}return i}function ly(i,o){do{var l=Ht;try{if(wd(),Gu.current=Ju,Qu){for(var h=Lt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Qu=!1}if(ao=0,sn=Qt=Lt=null,ll=!1,ul=0,Jd.current=null,l===null||l.return===null){Yt=1,pl=o,Ht=null;break}e:{var y=i,S=l.return,k=l,O=o;if(o=vn,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=O,ue=k,he=ue.tag;if(!(ue.mode&1)&&(he===0||he===11||he===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var _e=Ng(S);if(_e!==null){_e.flags&=-257,Lg(_e,S,k,y,o),_e.mode&1&&Dg(y,Y,o),o=_e,O=Y;var Ie=o.updateQueue;if(Ie===null){var Pe=new Set;Pe.add(O),o.updateQueue=Pe}else Ie.add(O);break e}else{if(!(o&1)){Dg(y,Y,o),lf();break e}O=Error(t(426))}}else if(bt&&k.mode&1){var jt=Ng(S);if(jt!==null){!(jt.flags&65536)&&(jt.flags|=256),Lg(jt,S,k,y,o),vd(aa(O,k));break e}}y=O=aa(O,k),Yt!==4&&(Yt=2),ml===null?ml=[y]:ml.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var G=xg(y,O,o);rg(y,G);break e;case 1:k=O;var j=y.type,Q=y.stateNode;if(!(y.flags&128)&&(typeof j.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Es===null||!Es.has(Q)))){y.flags|=65536,o&=-o,y.lanes|=o;var de=bg(y,k,o);rg(y,de);break e}}y=y.return}while(y!==null)}hy(l)}catch(Ae){o=Ae,Ht===l&&l!==null&&(Ht=l=l.return);continue}break}while(!0)}function uy(){var i=ic.current;return ic.current=Ju,i===null?Ju:i}function lf(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),on===null||!(lo&268435455)&&!(sc&268435455)||Is(on,vn)}function hc(i,o){var l=ut;ut|=2;var h=uy();(on!==i||vn!==o)&&(qi=null,co(i,o));do try{MT();break}catch(p){ly(i,p)}while(!0);if(wd(),ut=l,ic.current=h,Ht!==null)throw Error(t(261));return on=null,vn=0,Yt}function MT(){for(;Ht!==null;)cy(Ht)}function UT(){for(;Ht!==null&&!oi();)cy(Ht)}function cy(i){var o=py(i.alternate,i,cr);i.memoizedProps=i.pendingProps,o===null?hy(i):Ht=o,Jd.current=null}function hy(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=bT(l,o),l!==null){l.flags&=32767,Ht=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Yt=6,Ht=null;return}}else if(l=xT(l,o,cr),l!==null){Ht=l;return}if(o=o.sibling,o!==null){Ht=o;return}Ht=o=i}while(o!==null);Yt===0&&(Yt=5)}function ho(i,o,l){var h=rt,p=Tr.transition;try{Tr.transition=null,rt=1,FT(i,o,l,h)}finally{Tr.transition=p,rt=h}return null}function FT(i,o,l,h){do ha();while(Ts!==null);if(ut&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(wt(i,y),i===on&&(Ht=on=null,vn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ac||(ac=!0,my(pn,function(){return ha(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Tr.transition,Tr.transition=null;var S=rt;rt=1;var k=ut;ut|=4,Jd.current=null,NT(i,l),ty(l,i),sT(ad),hs=!!od,ad=od=null,i.current=l,LT(l),Mr(),ut=k,rt=S,Tr.transition=y}else i.current=l;if(ac&&(ac=!1,Ts=i,lc=p),y=i.pendingLanes,y===0&&(Es=null),Do(l.stateNode),Xn(i,mt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(oc)throw oc=!1,i=tf,tf=null,i;return lc&1&&i.tag!==0&&ha(),y=i.pendingLanes,y&1?i===nf?gl++:(gl=0,nf=i):gl=0,ys(),null}function ha(){if(Ts!==null){var i=us(lc),o=Tr.transition,l=rt;try{if(Tr.transition=null,rt=16>i?16:i,Ts===null)var h=!1;else{if(i=Ts,Ts=null,lc=0,ut&6)throw Error(t(331));var p=ut;for(ut|=4,Te=i.current;Te!==null;){var y=Te,S=y.child;if(Te.flags&16){var k=y.deletions;if(k!==null){for(var O=0;O<k.length;O++){var Y=k[O];for(Te=Y;Te!==null;){var ue=Te;switch(ue.tag){case 0:case 11:case 15:fl(8,ue,y)}var he=ue.child;if(he!==null)he.return=ue,Te=he;else for(;Te!==null;){ue=Te;var ae=ue.sibling,_e=ue.return;if(Yg(ue),ue===Y){Te=null;break}if(ae!==null){ae.return=_e,Te=ae;break}Te=_e}}}var Ie=y.alternate;if(Ie!==null){var Pe=Ie.child;if(Pe!==null){Ie.child=null;do{var jt=Pe.sibling;Pe.sibling=null,Pe=jt}while(Pe!==null)}}Te=y}}if(y.subtreeFlags&2064&&S!==null)S.return=y,Te=S;else e:for(;Te!==null;){if(y=Te,y.flags&2048)switch(y.tag){case 0:case 11:case 15:fl(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Te=G;break e}Te=y.return}}var j=i.current;for(Te=j;Te!==null;){S=Te;var Q=S.child;if(S.subtreeFlags&2064&&Q!==null)Q.return=S,Te=Q;else e:for(S=j;Te!==null;){if(k=Te,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:rc(9,k)}}catch(Ae){Ft(k,k.return,Ae)}if(k===S){Te=null;break e}var de=k.sibling;if(de!==null){de.return=k.return,Te=de;break e}Te=k.return}}if(ut=p,ys(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Hn,i)}catch{}h=!0}return h}finally{rt=l,Tr.transition=o}}return!1}function dy(i,o,l){o=aa(l,o),o=xg(i,o,1),i=_s(i,o,1),o=zn(),i!==null&&(as(i,1,o),Xn(i,o))}function Ft(i,o,l){if(i.tag===3)dy(i,i,l);else for(;o!==null;){if(o.tag===3){dy(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))){i=aa(l,i),i=bg(o,i,1),o=_s(o,i,1),i=zn(),o!==null&&(as(o,1,i),Xn(o,i));break}}o=o.return}}function jT(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=zn(),i.pingedLanes|=i.suspendedLanes&l,on===i&&(vn&l)===l&&(Yt===4||Yt===3&&(vn&130023424)===vn&&500>mt()-ef?co(i,0):Zd|=l),Xn(i,o)}function fy(i,o){o===0&&(i.mode&1?(o=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):o=1);var l=zn();i=Bi(i,o),i!==null&&(as(i,o,l),Xn(i,l))}function zT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),fy(i,l)}function BT(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),fy(i,l)}var py;py=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Kn.current)Qn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return Qn=!1,kT(i,o,l);Qn=!!(i.flags&131072)}else Qn=!1,bt&&o.flags&1048576&&Km(o,ju,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;tc(i,o),i=o.pendingProps;var p=Zo(o,Rn.current);sa(o,l),p=bd(null,o,h,i,p,l);var y=Dd();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Gn(h)?(y=!0,Mu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Id(o),p.updater=Zu,o.stateNode=p,p._reactInternals=o,Ud(o,h,i,l),o=Bd(null,o,h,!0,y,l)):(o.tag=0,bt&&y&&pd(o),jn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(tc(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=HT(h),i=Wr(h,i),p){case 0:o=zd(null,o,h,i,l);break e;case 1:o=jg(null,o,h,i,l);break e;case 11:o=Og(null,o,h,i,l);break e;case 14:o=Vg(null,o,h,Wr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Wr(h,p),zd(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Wr(h,p),jg(i,o,h,p,l);case 3:e:{if(zg(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,ng(i,o),Wu(o,h,null,l);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=aa(Error(t(423)),o),o=Bg(i,o,h,l,p);break e}else if(h!==p){p=aa(Error(t(424)),o),o=Bg(i,o,h,l,p);break e}else for(ur=ps(o.stateNode.containerInfo.firstChild),lr=o,bt=!0,qr=null,l=eg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),h===p){o=Hi(i,o,l);break e}jn(i,o,h,l)}o=o.child}return o;case 5:return sg(o),i===null&&yd(o),h=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,S=p.children,ld(h,p)?S=null:y!==null&&ld(h,y)&&(o.flags|=32),Fg(i,o),jn(i,o,S,l),o.child;case 6:return i===null&&yd(o),null;case 13:return $g(i,o,l);case 4:return Rd(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ra(o,null,h,l):jn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Wr(h,p),Og(i,o,h,p,l);case 7:return jn(i,o,o.pendingProps,l),o.child;case 8:return jn(i,o,o.pendingProps.children,l),o.child;case 12:return jn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,S=p.value,Et($u,h._currentValue),h._currentValue=S,y!==null)if(Hr(y.value,S)){if(y.children===p.children&&!Kn.current){o=Hi(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var k=y.dependencies;if(k!==null){S=y.child;for(var O=k.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=$i(-1,l&-l),O.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ue=Y.pending;ue===null?O.next=O:(O.next=ue.next,ue.next=O),Y.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Td(y.return,l,o),k.lanes|=l;break}O=O.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,k=S.alternate,k!==null&&(k.lanes|=l),Td(S,l,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}jn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,sa(o,l),p=wr(p),h=h(p),o.flags|=1,jn(i,o,h,l),o.child;case 14:return h=o.type,p=Wr(h,o.pendingProps),p=Wr(h.type,p),Vg(i,o,h,p,l);case 15:return Mg(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Wr(h,p),tc(i,o),o.tag=1,Gn(h)?(i=!0,Mu(o)):i=!1,sa(o,l),Ag(o,h,p),Ud(o,h,p,l),Bd(null,o,h,!0,i,l);case 19:return qg(i,o,l);case 22:return Ug(i,o,l)}throw Error(t(156,o.tag))};function my(i,o){return fn(i,o)}function $T(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,o,l,h){return new $T(i,o,l,h)}function uf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function HT(i){if(typeof i=="function")return uf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===ze)return 14}return 2}function Rs(i,o){var l=i.alternate;return l===null?(l=Sr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function dc(i,o,l,h,p,y){var S=2;if(h=i,typeof i=="function")uf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case A:return fo(l.children,p,y,o);case R:S=8,p|=8;break;case P:return i=Sr(12,l,o,p|2),i.elementType=P,i.lanes=y,i;case b:return i=Sr(13,l,o,p),i.elementType=b,i.lanes=y,i;case Ge:return i=Sr(19,l,o,p),i.elementType=Ge,i.lanes=y,i;case Oe:return fc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:S=10;break e;case V:S=9;break e;case z:S=11;break e;case ze:S=14;break e;case Xe:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Sr(S,l,o,p),o.elementType=i,o.type=h,o.lanes=y,o}function fo(i,o,l,h){return i=Sr(7,i,h,o),i.lanes=l,i}function fc(i,o,l,h){return i=Sr(22,i,h,o),i.elementType=Oe,i.lanes=l,i.stateNode={isHidden:!1},i}function cf(i,o,l){return i=Sr(6,i,null,o),i.lanes=l,i}function hf(i,o,l){return o=Sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function qT(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function df(i,o,l,h,p,y,S,k,O){return i=new qT(i,o,l,k,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Sr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(y),i}function WT(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function gy(i){if(!i)return gs;i=i._reactInternals;e:{if(nt(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Gn(l))return Hm(i,l,o)}return o}function yy(i,o,l,h,p,y,S,k,O){return i=df(l,h,!0,i,p,y,S,k,O),i.context=gy(null),l=i.current,h=zn(),p=Ss(l),y=$i(h,p),y.callback=o??null,_s(l,y,p),i.current.lanes=p,as(i,p,h),Xn(i,h),i}function pc(i,o,l,h){var p=o.current,y=zn(),S=Ss(p);return l=gy(l),o.context===null?o.context=l:o.pendingContext=l,o=$i(y,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=_s(p,o,S),i!==null&&(Qr(i,p,S,y),qu(i,p,S)),S}function mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function vy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function ff(i,o){vy(i,o),(i=i.alternate)&&vy(i,o)}function KT(){return null}var _y=typeof reportError=="function"?reportError:function(i){console.error(i)};function pf(i){this._internalRoot=i}gc.prototype.render=pf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));pc(i,o,null,null)},gc.prototype.unmount=pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;uo(function(){pc(null,i,null,null)}),o[Ui]=null}};function gc(i){this._internalRoot=i}gc.prototype.unstable_scheduleHydration=function(i){if(i){var o=gu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<li.length&&o!==0&&o<li[l].priority;l++);li.splice(l,0,i),l===0&&_u(i)}};function mf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function wy(){}function GT(i,o,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var Y=mc(S);y.call(Y)}}var S=yy(o,h,i,0,null,!1,!1,"",wy);return i._reactRootContainer=S,i[Ui]=S.current,el(i.nodeType===8?i.parentNode:i),uo(),S}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var Y=mc(O);k.call(Y)}}var O=df(i,0,!1,null,null,!1,!1,"",wy);return i._reactRootContainer=O,i[Ui]=O.current,el(i.nodeType===8?i.parentNode:i),uo(function(){pc(o,O,l,h)}),O}function vc(i,o,l,h,p){var y=l._reactRootContainer;if(y){var S=y;if(typeof p=="function"){var k=p;p=function(){var O=mc(S);k.call(O)}}pc(o,S,i,p)}else S=GT(l,o,i,p,h);return mc(S)}pu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ss(o.pendingLanes);l!==0&&(ls(o,l|1),Xn(o,mt()),!(ut&6)&&(ca=mt()+500,ys()))}break;case 13:uo(function(){var h=Bi(i,1);if(h!==null){var p=zn();Qr(h,i,1,p)}}),ff(i,1)}},Oo=function(i){if(i.tag===13){var o=Bi(i,134217728);if(o!==null){var l=zn();Qr(o,i,134217728,l)}ff(i,134217728)}},mu=function(i){if(i.tag===13){var o=Ss(i),l=Bi(i,o);if(l!==null){var h=zn();Qr(l,i,o,h)}ff(i,o)}},gu=function(){return rt},yu=function(i,o){var l=rt;try{return rt=i,o()}finally{rt=l}},Lr=function(i,o,l){switch(o){case"input":if(ii(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=Ou(h);if(!p)throw Error(t(90));ni(h),ii(h,p)}}}break;case"textarea":hn(i,l);break;case"select":o=l.value,o!=null&&Kt(i,!!l.multiple,o,!1)}},$n=of,L=uo;var QT={usingClientEntryPoint:!1,Events:[rl,Xo,Ou,_t,nn,of]},yl={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YT={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Vr(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||KT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Hn=_c.inject(YT),In=_c}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT,Jn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(o))throw Error(t(200));return WT(i,o,null,l)},Jn.createRoot=function(i,o){if(!mf(i))throw Error(t(299));var l=!1,h="",p=_y;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=df(i,1,!1,null,null,l,!1,h,p),i[Ui]=o.current,el(i.nodeType===8?i.parentNode:i),new pf(o)},Jn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Vr(o),i=i===null?null:i.stateNode,i},Jn.flushSync=function(i){return uo(i)},Jn.hydrate=function(i,o,l){if(!yc(o))throw Error(t(200));return vc(null,i,o,!0,l)},Jn.hydrateRoot=function(i,o,l){if(!mf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",S=_y;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=yy(o,null,i,1,l??null,p,!1,y,S),i[Ui]=o.current,el(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new gc(o)},Jn.render=function(i,o,l){if(!yc(o))throw Error(t(200));return vc(null,i,o,!1,l)},Jn.unmountComponentAtNode=function(i){if(!yc(i))throw Error(t(40));return i._reactRootContainer?(uo(function(){vc(null,null,i,!1,function(){i._reactRootContainer=null,i[Ui]=null})}),!0):!1},Jn.unstable_batchedUpdates=of,Jn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return vc(i,o,l,!1,h)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var Ay;function V_(){if(Ay)return vf.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vf.exports=iS(),vf.exports}var ky;function sS(){if(ky)return wc;ky=1;var n=V_();return wc.createRoot=n.createRoot,wc.hydrateRoot=n.hydrateRoot,wc}var oS=sS(),_l={},xy;function aS(){if(xy)return _l;xy=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=u,_l.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,w){const C=new a,N=E.length;if(N<2)return C;const x=(w==null?void 0:w.decode)||v;let F=0;do{const te=E.indexOf("=",F);if(te===-1)break;const ee=E.indexOf(";",F),ne=ee===-1?N:ee;if(te>ne){F=E.lastIndexOf(";",te-1)+1;continue}const M=d(E,F,te),ie=f(E,te,M),A=E.slice(M,ie);if(C[A]===void 0){let R=d(E,te+1,ne),P=f(E,ne,R);const D=x(E.slice(R,P));C[A]=D}F=ne+1}while(F<N);return C}function d(E,w,C){do{const N=E.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<C);return C}function f(E,w,C){for(;w>C;){const N=E.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return C}function m(E,w,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=N(w);if(!e.test(x))throw new TypeError(`argument val is invalid: ${w}`);let F=E+"="+x;if(!C)return F;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);F+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);F+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);F+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);F+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(F+="; HttpOnly"),C.secure&&(F+="; Secure"),C.partitioned&&(F+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return F}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return s.call(E)==="[object Date]"}return _l}aS();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var by="popstate";function lS(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return jl("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Fs(s)}return cS(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uS(){return Math.random().toString(36).substring(2,10)}function Dy(n,e){return{usr:n.state,key:n.key,idx:e}}function jl(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:t,key:e&&e.key||r||uS()}}function Fs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ks(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cS(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function T(){d="POP";let x=v(),F=x==null?null:x-m;m=x,f&&f({action:d,location:N.location,delta:F})}function E(x,F){d="PUSH";let te=jl(N.location,x,F);m=v()+1;let ee=Dy(te,m),ne=N.createHref(te);try{u.pushState(ee,"",ne)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(ne)}a&&f&&f({action:d,location:N.location,delta:1})}function w(x,F){d="REPLACE";let te=jl(N.location,x,F);m=v();let ee=Dy(te,m),ne=N.createHref(te);u.replaceState(ee,"",ne),a&&f&&f({action:d,location:N.location,delta:0})}function C(x){let F=s.location.origin!=="null"?s.location.origin:s.location.href,te=typeof x=="string"?x:Fs(x);return te=te.replace(/ $/,"%20"),et(F,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,F)}let N={get action(){return d},get location(){return n(s,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(by,T),f=x,()=>{s.removeEventListener(by,T),f=null}},createHref(x){return e(s,x)},createURL:C,encodeLocation(x){let F=C(x);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:w,go(x){return u.go(x)}};return N}var hS=new Set(["lazy","caseSensitive","path","id","index","children"]);function dS(n){return n.index===!0}function Wc(n,e,t=[],r={}){return n.map((s,a)=>{let u=[...t,String(a)],d=typeof s.id=="string"?s.id:u.join("-");if(et(s.index!==!0||!s.children,"Cannot specify children on an index route"),et(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),dS(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=Wc(s.children,e,u,r)),f}})}function ks(n,e,t="/"){return Nc(n,e,t,!1)}function Nc(n,e,t,r){let s=typeof e=="string"?Ks(e):e,a=Zr(s.pathname||"/",t);if(a==null)return null;let u=M_(n);pS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=RS(a);d=SS(u[f],m,r)}return d}function fS(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function M_(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=wi([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),M_(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ES(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of U_(a.path))s(a,u,f)}),e}function U_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=U_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function pS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mS=/^:[\w-]+$/,gS=3,yS=2,vS=1,_S=10,wS=-2,Ny=n=>n==="*";function ES(n,e){let t=n.split("/"),r=t.length;return t.some(Ny)&&(r+=wS),e&&(r+=yS),t.filter(s=>!Ny(s)).reduce((s,a)=>s+(mS.test(a)?gS:a===""?vS:_S),r)}function TS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function SS(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",T=Kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!T&&m&&t&&!r[r.length-1].route.index&&(T=Kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),u.push({params:s,pathname:wi([a,T.pathname]),pathnameBase:AS(wi([a,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(a=wi([a,T.pathnameBase]))}return u}function Kc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IS(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:T},E)=>{if(v==="*"){let C=d[E]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[E];return T&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function IS(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function RS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CS(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ks(n):n;return{pathname:t?t.startsWith("/")?t:PS(t,e):e,search:kS(r),hash:xS(s)}}function PS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _h(n){let e=F_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function wh(n,e,t,r=!1){let s;typeof n=="string"?s=Ks(n):(s={...n},et(!s.pathname||!s.pathname.includes("?"),Ef("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Ef("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Ef("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),T-=1;s.pathname=E.join("/")}d=T>=0?e[T]:"/"}let f=CS(s,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var wi=n=>n.join("/").replace(/\/\/+/g,"/"),AS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gc=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Eh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var j_=["POST","PUT","PATCH","DELETE"],bS=new Set(j_),DS=["GET",...j_],NS=new Set(DS),LS=new Set([301,302,303,307,308]),OS=new Set([307,308]),Tf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),z_="remix-router-transitions",B_=Symbol("ResetLoaderData");function US(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||MS,s={},a=Wc(n.routes,r,void 0,s),u,d=n.basename||"/",f=n.dataStrategy||$S,m=n.patchRoutesOnNavigation,v={...n.future},T=null,E=new Set,w=null,C=null,N=null,x=n.hydrationData!=null,F=ks(a,n.history.location,d),te=null;if(F==null&&!m){let L=Rr(404,{pathname:n.history.location.pathname}),{matches:H,route:J}=Hy(a);F=H,te={[J.id]:L}}F&&!n.hydrationData&&Je(F,a,n.history.location.pathname).active&&(F=null);let ee;if(F)if(F.some(L=>L.route.lazy))ee=!1;else if(!F.some(L=>L.route.loader))ee=!0;else{let L=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let J=F.findIndex(re=>H[re.route.id]!==void 0);ee=F.slice(0,J+1).every(re=>!zf(re.route,L,H))}else ee=F.every(J=>!zf(J.route,L,H))}else{ee=!1,F=[];let L=Je(null,a,n.history.location.pathname);L.active&&L.matches&&(F=L.matches)}let ne,M={historyAction:n.history.action,location:n.history.location,matches:F,initialized:ee,navigation:Tf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},ie="POP",A=!1,R,P=!1,D=new Map,V=null,z=!1,b=!1,Ge=new Set,ze=new Map,Xe=0,Oe=-1,B=new Map,$=new Set,X=new Map,U=new Map,W=new Set,se=new Map,me,ge=null;function Re(){if(T=n.history.listen(({action:L,location:H,delta:J})=>{if(me){me(),me=void 0;return}un(se.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=si({currentLocation:M.location,nextLocation:H,historyAction:L});if(re&&J!=null){let ye=new Promise(Ee=>{me=Ee});n.history.go(J*-1),ir(re,{state:"blocked",location:H,proceed(){ir(re,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ye.then(()=>n.history.go(J))},reset(){let Ee=new Map(M.blockers);Ee.set(re,wl),Me({blockers:Ee})}});return}return Wt(L,H)}),t){e1(e,D);let L=()=>t1(e,D);e.addEventListener("pagehide",L),V=()=>e.removeEventListener("pagehide",L)}return M.initialized||Wt("POP",M.location,{initialHydration:!0}),ne}function Ce(){T&&T(),V&&V(),E.clear(),R&&R.abort(),M.fetchers.forEach((L,H)=>On(H)),M.blockers.forEach((L,H)=>Nr(H))}function Ye(L){return E.add(L),()=>E.delete(L)}function Me(L,H={}){M={...M,...L};let J=[],re=[];M.fetchers.forEach((ye,Ee)=>{ye.state==="idle"&&(W.has(Ee)?J.push(Ee):re.push(Ee))}),[...E].forEach(ye=>ye(M,{deletedFetchers:J,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),J.forEach(ye=>On(ye)),re.forEach(ye=>M.fetchers.delete(ye))}function ht(L,H,{flushSync:J}={}){var fe,Ve;let re=M.actionData!=null&&M.navigation.formMethod!=null&&Xr(M.navigation.formMethod)&&M.navigation.state==="loading"&&((fe=L.state)==null?void 0:fe._isRedirect)!==!0,ye;H.actionData?Object.keys(H.actionData).length>0?ye=H.actionData:ye=null:re?ye=M.actionData:ye=null;let Ee=H.loaderData?By(M.loaderData,H.loaderData,H.matches||[],H.errors):M.loaderData,be=M.blockers;be.size>0&&(be=new Map(be),be.forEach((We,ft)=>be.set(ft,wl)));let ve=A===!0||M.navigation.formMethod!=null&&Xr(M.navigation.formMethod)&&((Ve=L.state)==null?void 0:Ve._isRedirect)!==!0;u&&(a=u,u=void 0),z||ie==="POP"||(ie==="PUSH"?n.history.push(L,L.state):ie==="REPLACE"&&n.history.replace(L,L.state));let Se;if(ie==="POP"){let We=D.get(M.location.pathname);We&&We.has(L.pathname)?Se={currentLocation:M.location,nextLocation:L}:D.has(L.pathname)&&(Se={currentLocation:L,nextLocation:M.location})}else if(P){let We=D.get(M.location.pathname);We?We.add(L.pathname):(We=new Set([L.pathname]),D.set(M.location.pathname,We)),Se={currentLocation:M.location,nextLocation:L}}Me({...H,actionData:ye,loaderData:Ee,historyAction:ie,location:L,initialized:!0,navigation:Tf,revalidation:"idle",restoreScrollPosition:qe(L,H.matches||M.matches),preventScrollReset:ve,blockers:be},{viewTransitionOpts:Se,flushSync:J===!0}),ie="POP",A=!1,P=!1,z=!1,b=!1,ge==null||ge.resolve(),ge=null}async function en(L,H){if(typeof L=="number"){n.history.go(L);return}let J=jf(M.location,M.matches,d,L,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:re,submission:ye,error:Ee}=Ly(!1,J,H),be=M.location,ve=jl(M.location,re,H&&H.state);ve={...ve,...n.history.encodeLocation(ve)};let Se=H&&H.replace!=null?H.replace:void 0,fe="PUSH";Se===!0?fe="REPLACE":Se===!1||ye!=null&&Xr(ye.formMethod)&&ye.formAction===M.location.pathname+M.location.search&&(fe="REPLACE");let Ve=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,We=(H&&H.flushSync)===!0,ft=si({currentLocation:be,nextLocation:ve,historyAction:fe});if(ft){ir(ft,{state:"blocked",location:ve,proceed(){ir(ft,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),en(L,H)},reset(){let Ut=new Map(M.blockers);Ut.set(ft,wl),Me({blockers:Ut})}});return}await Wt(fe,ve,{submission:ye,pendingError:Ee,preventScrollReset:Ve,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:We})}function ni(){ge||(ge=n1()),hn(),Me({revalidation:"loading"});let L=ge.promise;return M.navigation.state==="submitting"?L:M.navigation.state==="idle"?(Wt(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),L):(Wt(ie||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:P===!0}),L)}async function Wt(L,H,J){R&&R.abort(),R=null,ie=L,z=(J&&J.startUninterruptedRevalidation)===!0,ke(M.location,M.matches),A=(J&&J.preventScrollReset)===!0,P=(J&&J.enableViewTransition)===!0;let re=u||a,ye=J&&J.overrideNavigation,Ee=ks(re,H,d),be=(J&&J.flushSync)===!0,ve=Je(Ee,re,H.pathname);if(ve.active&&ve.matches&&(Ee=ve.matches),!Ee){let{error:nt,notFoundMatches:lt,route:pt}=Mn(H.pathname);ht(H,{matches:lt,loaderData:{},errors:{[pt.id]:nt}},{flushSync:be});return}if(M.initialized&&!b&&QS(M.location,H)&&!(J&&J.submission&&Xr(J.submission.formMethod))){ht(H,{matches:Ee},{flushSync:be});return}R=new AbortController;let Se=da(n.history,H,R.signal,J&&J.submission),fe;if(J&&J.pendingError)fe=[mo(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Xr(J.submission.formMethod)){let nt=await Ar(Se,H,J.submission,Ee,ve.active,{replace:J.replace,flushSync:be});if(nt.shortCircuited)return;if(nt.pendingActionResult){let[lt,pt]=nt.pendingActionResult;if(dr(pt)&&Eh(pt.error)&&pt.error.status===404){R=null,ht(H,{matches:nt.matches,loaderData:{},errors:{[lt]:pt.error}});return}}Ee=nt.matches||Ee,fe=nt.pendingActionResult,ye=Sf(H,J.submission),be=!1,ve.active=!1,Se=da(n.history,Se.url,Se.signal)}let{shortCircuited:Ve,matches:We,loaderData:ft,errors:Ut}=await mr(Se,H,Ee,ve.active,ye,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,fe);Ve||(R=null,ht(H,{matches:We||Ee,...$y(fe),loaderData:ft,errors:Ut}))}async function Ar(L,H,J,re,ye,Ee={}){hn();let be=JS(H,J);if(Me({navigation:be},{flushSync:Ee.flushSync===!0}),ye){let fe=await _t(re,H.pathname,L.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){let Ve=mo(fe.partialMatches).route.id;return{matches:fe.partialMatches,pendingActionResult:[Ve,{type:"error",error:fe.error}]}}else if(fe.matches)re=fe.matches;else{let{notFoundMatches:Ve,error:We,route:ft}=Mn(H.pathname);return{matches:Ve,pendingActionResult:[ft.id,{type:"error",error:We}]}}}let ve,Se=Cl(re,H);if(!Se.route.action&&!Se.route.lazy)ve={type:"error",error:Rr(405,{method:L.method,pathname:H.pathname,routeId:Se.route.id})};else if(ve=(await nr("action",M,L,[Se],re,null))[Se.route.id],L.signal.aborted)return{shortCircuited:!0};if(yo(ve)){let fe;return Ee&&Ee.replace!=null?fe=Ee.replace:fe=Fy(ve.response.headers.get("Location"),new URL(L.url),d)===M.location.pathname+M.location.search,await Kt(L,ve,!0,{submission:J,replace:fe}),{shortCircuited:!0}}if(dr(ve)){let fe=mo(re,Se.route.id);return(Ee&&Ee.replace)!==!0&&(ie="PUSH"),{matches:re,pendingActionResult:[fe.route.id,ve]}}return{matches:re,pendingActionResult:[Se.route.id,ve]}}async function mr(L,H,J,re,ye,Ee,be,ve,Se,fe,Ve){let We=ye||Sf(H,Ee),ft=Ee||be||Wy(We),Ut=!z&&!Se;if(re){if(Ut){let St=ri(Ve);Me({navigation:We,...St!==void 0?{actionData:St}:{}},{flushSync:fe})}let st=await _t(J,H.pathname,L.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){let St=mo(st.partialMatches).route.id;return{matches:st.partialMatches,loaderData:{},errors:{[St]:st.error}}}else if(st.matches)J=st.matches;else{let{error:St,notFoundMatches:pn,route:Ur}=Mn(H.pathname);return{matches:pn,loaderData:{},errors:{[Ur.id]:St}}}}let nt=u||a,[lt,pt]=Vy(n.history,M,J,ft,H,Se===!0,b,Ge,W,X,$,nt,d,Ve);if(Oe=++Xe,lt.length===0&&pt.length===0){let st=Vn();return ht(H,{matches:J,loaderData:{},errors:Ve&&dr(Ve[1])?{[Ve[0]]:Ve[1].error}:null,...$y(Ve),...st?{fetchers:new Map(M.fetchers)}:{}},{flushSync:fe}),{shortCircuited:!0}}if(Ut){let st={};if(!re){st.navigation=We;let St=ri(Ve);St!==void 0&&(st.actionData=St)}pt.length>0&&(st.fetchers=ii(pt)),Me(st,{flushSync:fe})}pt.forEach(st=>{kt(st.key),st.controller&&ze.set(st.key,st.controller)});let Or=()=>pt.forEach(st=>kt(st.key));R&&R.signal.addEventListener("abort",Or);let{loaderResults:Vr,fetcherResults:Sn}=await Mt(M,J,lt,pt,L);if(L.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Or),pt.forEach(st=>ze.delete(st.key));let fn=Ec(Vr);if(fn)return await Kt(L,fn.result,!0,{replace:ve}),{shortCircuited:!0};if(fn=Ec(Sn),fn)return $.add(fn.key),await Kt(L,fn.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:bi,errors:oi}=zy(M,J,Vr,Ve,pt,Sn);Se&&M.errors&&(oi={...M.errors,...oi});let Mr=Vn(),mt=Dr(Oe),Di=Mr||mt||pt.length>0;return{matches:J,loaderData:bi,errors:oi,...Di?{fetchers:new Map(M.fetchers)}:{}}}function ri(L){if(L&&!dr(L[1]))return{[L[0]]:L[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function ii(L){return L.forEach(H=>{let J=M.fetchers.get(H.key),re=El(void 0,J?J.data:void 0);M.fetchers.set(H.key,re)}),new Map(M.fetchers)}async function kr(L,H,J,re){kt(L);let ye=(re&&re.flushSync)===!0,Ee=u||a,be=jf(M.location,M.matches,d,J,H,re==null?void 0:re.relative),ve=ks(Ee,be,d),Se=Je(ve,Ee,be);if(Se.active&&Se.matches&&(ve=Se.matches),!ve){dt(L,H,Rr(404,{pathname:be}),{flushSync:ye});return}let{path:fe,submission:Ve,error:We}=Ly(!0,be,re);if(We){dt(L,H,We,{flushSync:ye});return}let ft=Cl(ve,fe),Ut=(re&&re.preventScrollReset)===!0;if(Ve&&Xr(Ve.formMethod)){await xr(L,H,fe,ft,ve,Se.active,ye,Ut,Ve);return}X.set(L,{routeId:H,path:fe}),await tn(L,H,fe,ft,ve,Se.active,ye,Ut,Ve)}async function xr(L,H,J,re,ye,Ee,be,ve,Se){hn(),X.delete(L);function fe(It){if(!It.route.action&&!It.route.lazy){let Hn=Rr(405,{method:Se.formMethod,pathname:J,routeId:H});return dt(L,H,Hn,{flushSync:be}),!0}return!1}if(!Ee&&fe(re))return;let Ve=M.fetchers.get(L);Tn(L,ZS(Se,Ve),{flushSync:be});let We=new AbortController,ft=da(n.history,J,We.signal,Se);if(Ee){let It=await _t(ye,J,ft.signal);if(It.type==="aborted")return;if(It.type==="error"){dt(L,H,It.error,{flushSync:be});return}else if(It.matches){if(ye=It.matches,re=Cl(ye,J),fe(re))return}else{dt(L,H,Rr(404,{pathname:J}),{flushSync:be});return}}ze.set(L,We);let Ut=Xe,lt=(await nr("action",M,ft,[re],ye,L))[re.route.id];if(ft.signal.aborted){ze.get(L)===We&&ze.delete(L);return}if(W.has(L)){if(yo(lt)||dr(lt)){Tn(L,As(void 0));return}}else{if(yo(lt))if(ze.delete(L),Oe>Ut){Tn(L,As(void 0));return}else return $.add(L),Tn(L,El(Se)),Kt(ft,lt,!1,{fetcherSubmission:Se,preventScrollReset:ve});if(dr(lt)){dt(L,H,lt.error);return}}let pt=M.navigation.location||M.location,Or=da(n.history,pt,We.signal),Vr=u||a,Sn=M.navigation.state!=="idle"?ks(Vr,M.navigation.location,d):M.matches;et(Sn,"Didn't find any matches after fetcher action");let fn=++Xe;B.set(L,fn);let bi=El(Se,lt.data);M.fetchers.set(L,bi);let[oi,Mr]=Vy(n.history,M,Sn,Se,pt,!1,b,Ge,W,X,$,Vr,d,[re.route.id,lt]);Mr.filter(It=>It.key!==L).forEach(It=>{let Hn=It.key,In=M.fetchers.get(Hn),Do=El(void 0,In?In.data:void 0);M.fetchers.set(Hn,Do),kt(Hn),It.controller&&ze.set(Hn,It.controller)}),Me({fetchers:new Map(M.fetchers)});let mt=()=>Mr.forEach(It=>kt(It.key));We.signal.addEventListener("abort",mt);let{loaderResults:Di,fetcherResults:st}=await Mt(M,Sn,oi,Mr,Or);if(We.signal.aborted)return;We.signal.removeEventListener("abort",mt),B.delete(L),ze.delete(L),Mr.forEach(It=>ze.delete(It.key));let St=Ec(Di);if(St)return Kt(Or,St.result,!1,{preventScrollReset:ve});if(St=Ec(st),St)return $.add(St.key),Kt(Or,St.result,!1,{preventScrollReset:ve});let{loaderData:pn,errors:Ur}=zy(M,Sn,Di,void 0,Mr,st);if(M.fetchers.has(L)){let It=As(lt.data);M.fetchers.set(L,It)}Dr(fn),M.navigation.state==="loading"&&fn>Oe?(et(ie,"Expected pending action"),R&&R.abort(),ht(M.navigation.location,{matches:Sn,loaderData:pn,errors:Ur,fetchers:new Map(M.fetchers)})):(Me({errors:Ur,loaderData:By(M.loaderData,pn,Sn,Ur),fetchers:new Map(M.fetchers)}),b=!1)}async function tn(L,H,J,re,ye,Ee,be,ve,Se){let fe=M.fetchers.get(L);Tn(L,El(Se,fe?fe.data:void 0),{flushSync:be});let Ve=new AbortController,We=da(n.history,J,Ve.signal);if(Ee){let lt=await _t(ye,J,We.signal);if(lt.type==="aborted")return;if(lt.type==="error"){dt(L,H,lt.error,{flushSync:be});return}else if(lt.matches)ye=lt.matches,re=Cl(ye,J);else{dt(L,H,Rr(404,{pathname:J}),{flushSync:be});return}}ze.set(L,Ve);let ft=Xe,nt=(await nr("loader",M,We,[re],ye,L))[re.route.id];if(ze.get(L)===Ve&&ze.delete(L),!We.signal.aborted){if(W.has(L)){Tn(L,As(void 0));return}if(yo(nt))if(Oe>ft){Tn(L,As(void 0));return}else{$.add(L),await Kt(We,nt,!1,{preventScrollReset:ve});return}if(dr(nt)){dt(L,H,nt.error);return}Tn(L,As(nt.data))}}async function Kt(L,H,J,{submission:re,fetcherSubmission:ye,preventScrollReset:Ee,replace:be}={}){H.response.headers.has("X-Remix-Revalidate")&&(b=!0);let ve=H.response.headers.get("Location");et(ve,"Expected a Location header on the redirect Response"),ve=Fy(ve,new URL(L.url),d);let Se=jl(M.location,ve,{_isRedirect:!0});if(t){let nt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))nt=!0;else if(mp.test(ve)){const lt=n.history.createURL(ve);nt=lt.origin!==e.location.origin||Zr(lt.pathname,d)==null}if(nt){be?e.location.replace(ve):e.location.assign(ve);return}}R=null;let fe=be===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ve,formAction:We,formEncType:ft}=M.navigation;!re&&!ye&&Ve&&We&&ft&&(re=Wy(M.navigation));let Ut=re||ye;if(OS.has(H.response.status)&&Ut&&Xr(Ut.formMethod))await Wt(fe,Se,{submission:{...Ut,formAction:ve},preventScrollReset:Ee||A,enableViewTransition:J?P:void 0});else{let nt=Sf(Se,re);await Wt(fe,Se,{overrideNavigation:nt,fetcherSubmission:ye,preventScrollReset:Ee||A,enableViewTransition:J?P:void 0})}}async function nr(L,H,J,re,ye,Ee){let be,ve={};try{be=await HS(f,L,H,J,re,ye,Ee,s,r)}catch(Se){return re.forEach(fe=>{ve[fe.route.id]={type:"error",error:Se}}),ve}for(let[Se,fe]of Object.entries(be))if(YS(fe)){let Ve=fe.result;ve[Se]={type:"redirect",response:KS(Ve,J,Se,ye,d)}}else ve[Se]=await WS(fe);return ve}async function Mt(L,H,J,re,ye){let Ee=nr("loader",L,ye,J,H,null),be=Promise.all(re.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let We=(await nr("loader",L,da(n.history,fe.path,fe.controller.signal),[fe.match],fe.matches,fe.key))[fe.match.route.id];return{[fe.key]:We}}else return Promise.resolve({[fe.key]:{type:"error",error:Rr(404,{pathname:fe.path})}})})),ve=await Ee,Se=(await be).reduce((fe,Ve)=>Object.assign(fe,Ve),{});return{loaderResults:ve,fetcherResults:Se}}function hn(){b=!0,X.forEach((L,H)=>{ze.has(H)&&Ge.add(H),kt(H)})}function Tn(L,H,J={}){M.fetchers.set(L,H),Me({fetchers:new Map(M.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function dt(L,H,J,re={}){let ye=mo(M.matches,H);On(L),Me({errors:{[ye.route.id]:J},fetchers:new Map(M.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function vt(L){return U.set(L,(U.get(L)||0)+1),W.has(L)&&W.delete(L),M.fetchers.get(L)||VS}function On(L){let H=M.fetchers.get(L);ze.has(L)&&!(H&&H.state==="loading"&&B.has(L))&&kt(L),X.delete(L),B.delete(L),$.delete(L),W.delete(L),Ge.delete(L),M.fetchers.delete(L)}function br(L){let H=(U.get(L)||0)-1;H<=0?(U.delete(L),W.add(L)):U.set(L,H),Me({fetchers:new Map(M.fetchers)})}function kt(L){let H=ze.get(L);H&&(H.abort(),ze.delete(L))}function rr(L){for(let H of L){let J=vt(H),re=As(J.data);M.fetchers.set(H,re)}}function Vn(){let L=[],H=!1;for(let J of $){let re=M.fetchers.get(J);et(re,`Expected fetcher: ${J}`),re.state==="loading"&&($.delete(J),L.push(J),H=!0)}return rr(L),H}function Dr(L){let H=[];for(let[J,re]of B)if(re<L){let ye=M.fetchers.get(J);et(ye,`Expected fetcher: ${J}`),ye.state==="loading"&&(kt(J),B.delete(J),H.push(J))}return rr(H),H.length>0}function xi(L,H){let J=M.blockers.get(L)||wl;return se.get(L)!==H&&se.set(L,H),J}function Nr(L){M.blockers.delete(L),se.delete(L)}function ir(L,H){let J=M.blockers.get(L)||wl;et(J.state==="unblocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="proceeding"||J.state==="blocked"&&H.state==="unblocked"||J.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${H.state}`);let re=new Map(M.blockers);re.set(L,H),Me({blockers:re})}function si({currentLocation:L,nextLocation:H,historyAction:J}){if(se.size===0)return;se.size>1&&un(!1,"A router only supports one blocker at a time");let re=Array.from(se.entries()),[ye,Ee]=re[re.length-1],be=M.blockers.get(ye);if(!(be&&be.state==="proceeding")&&Ee({currentLocation:L,nextLocation:H,historyAction:J}))return ye}function Mn(L){let H=Rr(404,{pathname:L}),J=u||a,{matches:re,route:ye}=Hy(J);return{notFoundMatches:re,route:ye,error:H}}function dn(L,H,J){if(w=L,N=H,C=J||null,!x&&M.navigation===Tf){x=!0;let re=qe(M.location,M.matches);re!=null&&Me({restoreScrollPosition:re})}return()=>{w=null,N=null,C=null}}function Lr(L,H){return C&&C(L,H.map(re=>fS(re,M.loaderData)))||L.key}function ke(L,H){if(w&&N){let J=Lr(L,H);w[J]=N()}}function qe(L,H){if(w){let J=Lr(L,H),re=w[J];if(typeof re=="number")return re}return null}function Je(L,H,J){if(m)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Nc(H,J,d,!0)}}else return{active:!0,matches:Nc(H,J,d,!0)||[]};return{active:!1,matches:null}}async function _t(L,H,J){if(!m)return{type:"success",matches:L};let re=L;for(;;){let ye=u==null,Ee=u||a,be=s;try{await m({path:H,matches:re,patch:(fe,Ve)=>{J.aborted||Uy(fe,Ve,Ee,be,r)}})}catch(fe){return{type:"error",error:fe,partialMatches:re}}finally{ye&&!J.aborted&&(a=[...a])}if(J.aborted)return{type:"aborted"};let ve=ks(Ee,H,d);if(ve)return{type:"success",matches:ve};let Se=Nc(Ee,H,d,!0);if(!Se||re.length===Se.length&&re.every((fe,Ve)=>fe.route.id===Se[Ve].route.id))return{type:"success",matches:null};re=Se}}function nn(L){s={},u=Wc(L,r,void 0,s)}function $n(L,H){let J=u==null;Uy(L,H,u||a,s,r),J&&(a=[...a],Me({}))}return ne={get basename(){return d},get future(){return v},get state(){return M},get routes(){return a},get window(){return e},initialize:Re,subscribe:Ye,enableScrollRestoration:dn,navigate:en,fetch:kr,revalidate:ni,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:vt,deleteFetcher:br,dispose:Ce,getBlocker:xi,deleteBlocker:Nr,patchRoutes:$n,_internalFetchControllers:ze,_internalSetRoutes:nn},ne}function FS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function jf(n,e,t,r,s,a){let u,d;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){d=m;break}}else u=e,d=e[e.length-1];let f=wh(r||".",_h(u),Zr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let m=gp(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(f.search),T=v.getAll("index");v.delete("index"),T.filter(w=>w).forEach(w=>v.append("index",w));let E=v.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:wi([t,f.pathname])),Fs(f)}function Ly(n,e,t){if(!t||!FS(t))return{path:e};if(t.formMethod&&!XS(t.formMethod))return{path:e,error:Rr(405,{method:t.formMethod})};let r=()=>({path:e,error:Rr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=H_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Xr(a))return r();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[w,C])=>`${E}${w}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Xr(a))return r();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=Bf(t.formData),f=t.formData;else if(t.body instanceof FormData)d=Bf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=jy(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=jy(d)}catch{return r()}let m={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Xr(m.formMethod))return{path:e,submission:m};let v=Ks(e);return n&&v.search&&gp(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Fs(v),submission:m}}function Oy(n,e,t=!1){let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function Vy(n,e,t,r,s,a,u,d,f,m,v,T,E,w){let C=w?dr(w[1])?w[1].error:w[1].data:void 0,N=n.createURL(e.location),x=n.createURL(s),F=t;a&&e.errors?F=Oy(t,Object.keys(e.errors)[0],!0):w&&dr(w[1])&&(F=Oy(t,w[0]));let te=w?w[1].statusCode:void 0,ee=te&&te>=400,ne=F.filter((ie,A)=>{let{route:R}=ie;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return zf(R,e.loaderData,e.errors);if(jS(e.loaderData,e.matches[A],ie))return!0;let P=e.matches[A],D=ie;return My(ie,{currentUrl:N,currentParams:P.params,nextUrl:x,nextParams:D.params,...r,actionResult:C,actionStatus:te,defaultShouldRevalidate:ee?!1:u||N.pathname+N.search===x.pathname+x.search||N.search!==x.search||zS(P,D)})}),M=[];return m.forEach((ie,A)=>{if(a||!t.some(z=>z.route.id===ie.routeId)||f.has(A))return;let R=ks(T,ie.path,E);if(!R){M.push({key:A,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(A),D=Cl(R,ie.path),V=!1;v.has(A)?V=!1:d.has(A)?(d.delete(A),V=!0):P&&P.state!=="idle"&&P.data===void 0?V=u:V=My(D,{currentUrl:N,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:t[t.length-1].params,...r,actionResult:C,actionStatus:te,defaultShouldRevalidate:ee?!1:u}),V&&M.push({key:A,routeId:ie.routeId,path:ie.path,matches:R,match:D,controller:new AbortController})}),[ne,M]}function zf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function jS(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function zS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function My(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Uy(n,e,t,r,s){let a;if(n){let f=r[n];et(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let u=e.filter(f=>!a.some(m=>$_(f,m))),d=Wc(u,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...d)}function $_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>$_(t,a))}):!1}async function BS(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];et(s,"No route found in manifest");let a={};for(let u in r){let f=s[u]!==void 0&&u!=="hasErrorBoundary";un(!f,`Route "${s.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!hS.has(u)&&(a[u]=r[u])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function $S({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,s,a)=>Object.assign(r,{[e[a].route.id]:s}),{})}async function HS(n,e,t,r,s,a,u,d,f,m){let v=a.map(w=>w.route.lazy?BS(w.route,f,d):void 0),T=a.map((w,C)=>{let N=v[C],x=s.some(te=>te.route.id===w.route.id);return{...w,shouldLoad:x,resolve:async te=>(te&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(x=!0),x?qS(e,r,w,N,te,m):Promise.resolve({type:"data",result:void 0}))}}),E=await n({matches:T,request:r,params:a[0].params,fetcherKey:u,context:m});try{await Promise.all(v)}catch{}return E}async function qS(n,e,t,r,s,a){let u,d,f=m=>{let v,T=new Promise((C,N)=>v=N);d=()=>v(),e.signal.addEventListener("abort",d);let E=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:a},...C!==void 0?[C]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(N=>E(N)):E())}}catch(C){return{type:"error",result:C}}})();return Promise.race([w,T])};try{let m=t.route[n];if(r)if(m){let v,[T]=await Promise.all([f(m).catch(E=>{v=E}),r]);if(v!==void 0)throw v;u=T}else if(await r,m=t.route[n],m)u=await f(m);else if(n==="action"){let v=new URL(e.url),T=v.pathname+v.search;throw Rr(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)u=await f(m);else{let v=new URL(e.url),T=v.pathname+v.search;throw Rr(404,{pathname:T})}}catch(m){return{type:"error",result:m}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function WS(n){var r,s,a,u;let{result:e,type:t}=n;if(q_(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new Gc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(qy(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new Gc(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Eh(e)?e.status:void 0}}return qy(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KS(n,e,t,r,s){let a=n.headers.get("Location");if(et(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!mp.test(a)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);a=jf(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function Fy(n,e,t){if(mp.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Zr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function da(n,e,t,r){let s=n.createURL(H_(e)).toString(),a={signal:t};if(r&&Xr(r.formMethod)){let{formMethod:u,formEncType:d}=r;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=Bf(r.formData):a.body=r.formData}return new Request(s,a)}function Bf(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function jy(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function GS(n,e,t,r=!1,s=!1){let a={},u=null,d,f=!1,m={},v=t&&dr(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let E=T.route.id,w=e[E];if(et(!yo(w),"Cannot handle redirect results in processLoaderData"),dr(w)){let C=w.error;if(v!==void 0&&(C=v,v=void 0),u=u||{},s)u[E]=C;else{let N=mo(n,E);u[N.route.id]==null&&(u[N.route.id]=C)}r||(a[E]=B_),f||(f=!0,d=Eh(w.error)?w.error.status:500),w.headers&&(m[E]=w.headers)}else a[E]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(m[E]=w.headers)}),v!==void 0&&t&&(u={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:m}}function zy(n,e,t,r,s,a){let{loaderData:u,errors:d}=GS(e,t,r);return s.forEach(f=>{let{key:m,match:v,controller:T}=f,E=a[m];if(et(E,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(dr(E)){let w=mo(n.matches,v==null?void 0:v.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:E.error}),n.fetchers.delete(m)}else if(yo(E))et(!1,"Unhandled fetcher revalidation redirect");else{let w=As(E.data);n.fetchers.set(m,w)}}),{loaderData:u,errors:d}}function By(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==B_).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function $y(n){return n?dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function mo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Hy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rr(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Gc(n||500,u,new Error(d),!0)}function Ec(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(yo(s))return{key:r,result:s}}}function H_(n){let e=typeof n=="string"?Ks(n):n;return Fs({...e,hash:""})}function QS(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function YS(n){return q_(n.result)&&LS.has(n.result.status)}function dr(n){return n.type==="error"}function yo(n){return(n&&n.type)==="redirect"}function qy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function q_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function XS(n){return NS.has(n.toUpperCase())}function Xr(n){return bS.has(n.toUpperCase())}function gp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Cl(n,e){let t=typeof e=="string"?Ks(e).search:e.search;if(n[n.length-1].route.index&&gp(t||""))return n[n.length-1];let r=F_(n);return r[r.length-1]}function Wy(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Sf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function El(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function As(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function e1(n,e){try{let t=n.sessionStorage.getItem(z_);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function t1(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(z_,JSON.stringify(t))}catch(r){un(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function n1(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Co=q.createContext(null);Co.displayName="DataRouter";var Xl=q.createContext(null);Xl.displayName="DataRouterState";var yp=q.createContext({isTransitioning:!1});yp.displayName="ViewTransition";var W_=q.createContext(new Map);W_.displayName="Fetchers";var r1=q.createContext(null);r1.displayName="Await";var ti=q.createContext(null);ti.displayName="Navigation";var Th=q.createContext(null);Th.displayName="Location";var Pr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var vp=q.createContext(null);vp.displayName="RouteError";function i1(n,{relative:e}={}){et(La(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(ti),{hash:s,pathname:a,search:u}=Jl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:wi([t,a])),r.createHref({pathname:d,search:u,hash:s})}function La(){return q.useContext(Th)!=null}function ns(){return et(La(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Th).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(n){q.useContext(ti).static||q.useLayoutEffect(n)}function Q_(){let{isDataRoute:n}=q.useContext(Pr);return n?v1():s1()}function s1(){et(La(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Co),{basename:e,navigator:t}=q.useContext(ti),{matches:r}=q.useContext(Pr),{pathname:s}=ns(),a=JSON.stringify(_h(r)),u=q.useRef(!1);return G_(()=>{u.current=!0}),q.useCallback((f,m={})=>{if(un(u.current,K_),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=wh(f,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:wi([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,s,n])}var o1=q.createContext(null);function a1(n){let e=q.useContext(Pr).outlet;return e&&q.createElement(o1.Provider,{value:n},e)}function EL(){let{matches:n}=q.useContext(Pr),e=n[n.length-1];return e?e.params:{}}function Jl(n,{relative:e}={}){let{matches:t}=q.useContext(Pr),{pathname:r}=ns(),s=JSON.stringify(_h(t));return q.useMemo(()=>wh(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function l1(n,e,t,r){et(La(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=q.useContext(ti),{matches:a}=q.useContext(Pr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let F=v&&v.path||"";X_(f,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let T=ns(),E;E=T;let w=E.pathname||"/",C=w;if(m!=="/"){let F=m.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=ks(n,{pathname:C});return un(v||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),un(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),f1(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:wi([m,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:wi([m,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r)}function u1(){let n=Y_(),e=Eh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:a},"ErrorBoundary")," or"," ",q.createElement("code",{style:a},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,u)}var c1=q.createElement(u1,null),h1=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Pr.Provider,{value:this.props.routeContext},q.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d1({routeContext:n,match:e,children:t}){let r=q.useContext(Co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Pr.Provider,{value:n},t)}function f1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:v,errors:T}=t,E=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let T,E=!1,w=null,C=null;t&&(T=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||c1,u&&(d<0&&v===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):d===v&&(E=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,v+1)),x=()=>{let F;return T?F=w:E?F=C:m.route.Component?F=q.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=f,q.createElement(d1,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?q.createElement(h1,{location:t.location,revalidation:t.revalidation,component:w,error:T,children:x(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):x()},null)}function _p(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(n){let e=q.useContext(Co);return et(e,_p(n)),e}function m1(n){let e=q.useContext(Xl);return et(e,_p(n)),e}function g1(n){let e=q.useContext(Pr);return et(e,_p(n)),e}function wp(n){let e=g1(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function y1(){return wp("useRouteId")}function Y_(){var r;let n=q.useContext(vp),e=m1("useRouteError"),t=wp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function v1(){let{router:n}=p1("useNavigate"),e=wp("useNavigate"),t=q.useRef(!1);return G_(()=>{t.current=!0}),q.useCallback(async(s,a={})=>{un(t.current,K_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Ky={};function X_(n,e,t){!e&&!Ky[n]&&(Ky[n]=!0,un(!1,t))}var Gy={};function Qy(n,e){!n&&!Gy[e]&&(Gy[e]=!0,console.warn(e))}function _1(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var w1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function E1({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[s,a]=q.useState(),[u,d]=q.useState({isTransitioning:!1}),[f,m]=q.useState(),[v,T]=q.useState(),[E,w]=q.useState(),C=q.useRef(new Map),N=q.useCallback((ee,{deletedFetchers:ne,flushSync:M,viewTransitionOpts:ie})=>{ne.forEach(R=>C.current.delete(R)),ee.fetchers.forEach((R,P)=>{R.data!==void 0&&C.current.set(P,R.data)}),Qy(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Qy(ie==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!A){e&&M?e(()=>r(ee)):q.startTransition(()=>r(ee));return}if(e&&M){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(ee))});R.finished.finally(()=>{e(()=>{m(void 0),T(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>T(R));return}v?(f&&f.resolve(),v.skipTransition(),w({state:ee,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(a(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,e,v,f]);q.useLayoutEffect(()=>n.subscribe(N),[n,N]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new w1)},[u]),q.useEffect(()=>{if(f&&s&&n.window){let ee=s,ne=f.promise,M=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(ee)),await ne});M.finished.finally(()=>{m(void 0),T(void 0),a(void 0),d({isTransitioning:!1})}),T(M)}},[s,f,n.window]),q.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,v,t.location,s]),q.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),w(void 0))},[u.isTransitioning,E]);let x=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ee=>n.navigate(ee),push:(ee,ne,M)=>n.navigate(ee,{state:ne,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(ee,ne,M)=>n.navigate(ee,{replace:!0,state:ne,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),F=n.basename||"/",te=q.useMemo(()=>({router:n,navigator:x,static:!1,basename:F}),[n,x,F]);return q.createElement(q.Fragment,null,q.createElement(Co.Provider,{value:te},q.createElement(Xl.Provider,{value:t},q.createElement(W_.Provider,{value:C.current},q.createElement(yp.Provider,{value:u},q.createElement(R1,{basename:F,location:t.location,navigationType:t.historyAction,navigator:x},q.createElement(T1,{routes:n.routes,future:n.future,state:t})))))),null)}var T1=q.memo(S1);function S1({routes:n,future:e,state:t}){return l1(n,void 0,t,e)}function I1({to:n,replace:e,state:t,relative:r}){et(La(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=q.useContext(ti);un(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=q.useContext(Pr),{pathname:u}=ns(),d=Q_(),f=wh(n,_h(a),u,r==="path"),m=JSON.stringify(f);return q.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:r})},[d,m,r,e,t]),null}function SL(n){return a1(n.context)}function R1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){et(!La(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Ks(t));let{pathname:f="/",search:m="",hash:v="",state:T=null,key:E="default"}=t,w=q.useMemo(()=>{let C=Zr(f,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:T,key:E},navigationType:r}},[u,f,m,v,T,E,r]);return un(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:q.createElement(ti.Provider,{value:d},q.createElement(Th.Provider,{children:e,value:w}))}var Lc="get",Oc="application/x-www-form-urlencoded";function Sh(n){return n!=null&&typeof n.tagName=="string"}function C1(n){return Sh(n)&&n.tagName.toLowerCase()==="button"}function P1(n){return Sh(n)&&n.tagName.toLowerCase()==="form"}function A1(n){return Sh(n)&&n.tagName.toLowerCase()==="input"}function k1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function x1(n,e){return n.button===0&&(!e||e==="_self")&&!k1(n)}var Tc=null;function b1(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var D1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(n){return n!=null&&!D1.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):n}function N1(n,e){let t,r,s,a,u;if(P1(n)){let d=n.getAttribute("action");r=d?Zr(d,e):null,t=n.getAttribute("method")||Lc,s=If(n.getAttribute("enctype"))||Oc,a=new FormData(n)}else if(C1(n)||A1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Zr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Lc,s=If(n.getAttribute("formenctype"))||If(d.getAttribute("enctype"))||Oc,a=new FormData(d,n),!b1()){let{name:m,type:v,value:T}=n;if(v==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,T)}}else{if(Sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lc,r=null,s=Oc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Ep(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function L1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function V1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await L1(a,t);return u.links?u.links():[]}return[]}));return j1(r.flat(1).filter(O1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yy(n,e,t,r,s,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var T;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function M1(n,e){return U1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function U1(n){return[...new Set(n)]}function F1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function j1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(F1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function z1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function B1(){let n=q.useContext(Co);return Ep(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $1(){let n=q.useContext(Xl);return Ep(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tp=q.createContext(void 0);Tp.displayName="FrameworkContext";function J_(){let n=q.useContext(Tp);return Ep(n,"You must render this element inside a <HydratedRouter> element"),n}function H1(n,e){let t=q.useContext(Tp),[r,s]=q.useState(!1),[a,u]=q.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=e,E=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=F=>{F.forEach(te=>{u(te.isIntersecting)})},x=new IntersectionObserver(N,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),q.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Tl(d,w),onBlur:Tl(f,C),onMouseEnter:Tl(m,w),onMouseLeave:Tl(v,C),onTouchStart:Tl(T,w)}]:[!1,E,{}]}function Tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function q1({page:n,...e}){let{router:t}=B1(),r=q.useMemo(()=>ks(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(K1,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function W1(n){let{manifest:e,routeModules:t}=J_(),[r,s]=q.useState([]);return q.useEffect(()=>{let a=!1;return V1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function K1({page:n,matches:e,...t}){let r=ns(),{manifest:s,routeModules:a}=J_(),{loaderData:u,matches:d}=$1(),f=q.useMemo(()=>Yy(n,e,d,s,r,"data"),[n,e,d,s,r]),m=q.useMemo(()=>Yy(n,e,d,s,r,"assets"),[n,e,d,s,r]),v=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(e.forEach(x=>{var te;let F=s.routes[x.route.id];!F||!F.hasLoader||(!f.some(ee=>ee.route.id===x.route.id)&&x.route.id in u&&((te=a[x.route.id])!=null&&te.shouldRevalidate)||F.hasClientLoader?C=!0:w.add(x.route.id))}),w.size===0)return[];let N=z1(n);return C&&w.size>0&&N.searchParams.set("_routes",e.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[N.pathname+N.search]},[u,r,s,f,e,n,a]),T=q.useMemo(()=>M1(m,s),[m,s]),E=W1(m);return q.createElement(q.Fragment,null,v.map(w=>q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),T.map(w=>q.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),E.map(({key:w,link:C})=>q.createElement("link",{key:w,...C})))}function G1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z_&&(window.__reactRouterVersion="7.0.2")}catch{}function Q1(n,e){return US({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:lS({window:e==null?void 0:e.window}),hydrationData:Y1(),routes:n,mapRouteProperties:_1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Y1(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:X1(n.errors)}),n}function X1(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Gc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:T,...E},w){let{basename:C}=q.useContext(ti),N=typeof m=="string"&&e0.test(m),x,F=!1;if(typeof m=="string"&&N&&(x=m,Z_))try{let P=new URL(window.location.href),D=m.startsWith("//")?new URL(P.protocol+m):new URL(m),V=Zr(D.pathname,C);D.origin===P.origin&&V!=null?m=V+D.search+D.hash:F=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=i1(m,{relative:s}),[ee,ne,M]=H1(r,E),ie=tI(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:T});function A(P){e&&e(P),P.defaultPrevented||ie(P)}let R=q.createElement("a",{...E,...M,href:x||te,onClick:F||a?e:A,ref:G1(w,ne),target:f,"data-discover":!N&&t==="render"?"true":void 0});return ee&&!N?q.createElement(q.Fragment,null,R,q.createElement(q1,{page:te})):R});t0.displayName="Link";var J1=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...m},v){let T=Jl(u,{relative:m.relative}),E=ns(),w=q.useContext(Xl),{navigator:C,basename:N}=q.useContext(ti),x=w!=null&&oI(T)&&d===!0,F=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,te=E.pathname,ee=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,F=F.toLowerCase()),ee&&N&&(ee=Zr(ee,N)||ee);const ne=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let M=te===F||!s&&te.startsWith(F)&&te.charAt(ne)==="/",ie=ee!=null&&(ee===F||!s&&ee.startsWith(F)&&ee.charAt(F.length)==="/"),A={isActive:M,isPending:ie,isTransitioning:x},R=M?e:void 0,P;typeof r=="function"?P=r(A):P=[r,M?"active":null,ie?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(A):a;return q.createElement(t0,{...m,"aria-current":R,className:P,ref:v,style:D,to:u,viewTransition:d},typeof f=="function"?f(A):f)});J1.displayName="NavLink";var Z1=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Lc,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:T,...E},w)=>{let C=iI(),N=sI(d,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&e0.test(d),te=ee=>{if(f&&f(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,M=(ne==null?void 0:ne.getAttribute("formmethod"))||u;C(ne||ee.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:s,state:a,relative:m,preventScrollReset:v,viewTransition:T})};return q.createElement("form",{ref:w,method:x,action:N,onSubmit:r?f:te,...E,"data-discover":!F&&n==="render"?"true":void 0})});Z1.displayName="Form";function eI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(n){let e=q.useContext(Co);return et(e,eI(n)),e}function tI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=Q_(),f=ns(),m=Jl(n,{relative:a});return q.useCallback(v=>{if(x1(v,e)){v.preventDefault();let T=t!==void 0?t:Fs(f)===Fs(m);d(n,{replace:T,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,m,t,r,e,n,s,a,u])}var nI=0,rI=()=>`__${String(++nI)}__`;function iI(){let{router:n}=n0("useSubmit"),{basename:e}=q.useContext(ti),t=y1();return q.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=N1(r,e);if(s.navigate===!1){let v=s.fetcherKey||rI();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function sI(n,{relative:e}={}){let{basename:t}=q.useContext(ti),r=q.useContext(Pr);et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Jl(n||".",{relative:e})},u=ns();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:wi([t,a.pathname])),Fs(a)}function oI(n,e={}){let t=q.useContext(yp);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n0("useViewTransitionState"),s=Jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Zr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Kc(s.pathname,u)!=null||Kc(s.pathname,a)!=null}new TextEncoder;var r0=V_();const aI=O_(r0);/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lI(n){return q.createElement(E1,{flushSync:r0.flushSync,...n})}const uI="modulepreload",cI=function(n){return"/"+n},Xy={},At=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(f=>{if(f=cI(f),f in Xy)return;Xy[f]=!0;const m=f.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const T=document.createElement("link");if(T.rel=m?"stylesheet":uI,m||(T.as="script"),T.crossOrigin="",T.href=f,d&&T.setAttribute("nonce",d),document.head.appendChild(T),m)return new Promise((E,w)=>{T.addEventListener("load",E),T.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i0=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...d},f)=>q.createElement("svg",{ref:f,...dI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:i0("lucide",s),...d},[...u.map(([m,v])=>q.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=(n,e)=>{const t=q.forwardRef(({className:r,...s},a)=>q.createElement(fI,{ref:a,iconNode:e,className:i0(`lucide-${hI(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=pI("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),gI=()=>Ke.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Ke.jsx(mI,{className:"h-8 w-8 animate-spin text-blue-500"})}),Ir=()=>{const n=Y_();return Ke.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Ke.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg",children:[Ke.jsx("div",{className:"flex items-center justify-center mb-6"}),Ke.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"Oops! Something went wrong"}),Ke.jsx("p",{className:"text-gray-600 text-center mb-6",children:(n==null?void 0:n.message)||"An unexpected error occurred"}),Ke.jsx("div",{className:"text-center",children:Ke.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Return Home"})})]})})},yI={admin:["admin","editor","star"],editor:["editor","star"],star:["star"],viewer:["viewer"]},vI=[{path:"/dashboard",requiredRoles:["admin","editor","viewer"]},{path:"/dashboard/home",requiredRoles:["admin","editor"]},{path:"/dashboard/users",requiredRoles:["admin","editor"]},{path:"/dashboard/apartments",requiredRoles:["admin","editor"]},{path:"/dashboard/notifications",requiredRoles:["admin","editor"]},{path:"/dashboard/Send_Notification",requiredRoles:["admin","editor"]},{path:"/dashboard/createAd",requiredRoles:["admin","viewer"]},{path:"/dashboard/website_data",requiredRoles:["admin","editor"]},{path:"/dashboard/employees",requiredRoles:["admin"]},{path:"/dashboard/ads-list",requiredRoles:["admin","editor"]},{path:"/dashboard/privacy",requiredRoles:["admin"]},{path:"/dashboard/contact",requiredRoles:["admin","editor"]}],_I=(n,e)=>{if(!n||!e.length)return!1;const t=yI[n]||[];return e.some(r=>t.includes(r))},wI=n=>{const e=vI.find(t=>n.startsWith(t.path));return(e==null?void 0:e.requiredRoles)||[]};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},EI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,v=a>>2,T=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,w=m&63;f||(w=64,u||(E=64)),r.push(t[v],t[T],t[E],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(s0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||T==null)throw new TI;const E=a<<2|d>>4;if(r.push(E),m!==64){const w=d<<4&240|m>>2;if(r.push(w),T!==64){const C=m<<6&192|T;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(n){const e=s0(n);return o0.encodeByteArray(e,!0)},Qc=function(n){return SI(n).replace(/\./g,"")},a0=function(n){try{return o0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>II().__FIREBASE_DEFAULTS__,CI=()=>{if(typeof process>"u"||typeof Jy>"u")return;const n=Jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a0(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return RI()||CI()||PI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l0=n=>{var e,t;return(t=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},u0=n=>{const e=l0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},c0=()=>{var n;return(n=Ih())===null||n===void 0?void 0:n.config},h0=n=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qc(JSON.stringify(t)),Qc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function xI(){var n;const e=(n=Ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LI(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VI(){try{return typeof indexedDB=="object"}catch{return!1}}function MI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UI,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?FI(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ki(s,d,r)}}function FI(n,e){return n.replace(jI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jI=/\{\$([^}]+)}/g;function zI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Zy(a)&&Zy(u)){if(!Yc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Zy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BI(n,e){const t=new $I(n,e);return t.subscribe.bind(t)}class $I{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");HI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class js{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new AI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KI(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WI(n){return n===po?void 0:n}function KI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const QI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},YI=Ze.INFO,XI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},JI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=XI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sp=class{constructor(e){this.name=e,this._logLevel=YI,this._logHandler=JI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}};const ZI=(n,e)=>e.some(t=>n instanceof t);let ev,tv;function eR(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,$f=new WeakMap,p0=new WeakMap,Cf=new WeakMap,Ip=new WeakMap;function nR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&f0.set(t,n)}).catch(()=>{}),Ip.set(e,n),e}function rR(n){if($f.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});$f.set(n,e)}let Hf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $f.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iR(n){Hf=n(Hf)}function sR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pf(this),e,...t);return p0.set(r,e.sort?e.sort():[e]),Vs(r)}:tR().includes(n)?function(...e){return n.apply(Pf(this),e),Vs(f0.get(this))}:function(...e){return Vs(n.apply(Pf(this),e))}}function oR(n){return typeof n=="function"?sR(n):(n instanceof IDBTransaction&&rR(n),ZI(n,eR())?new Proxy(n,Hf):n)}function Vs(n){if(n instanceof IDBRequest)return nR(n);if(Cf.has(n))return Cf.get(n);const e=oR(n);return e!==n&&(Cf.set(n,e),Ip.set(e,n)),e}const Pf=n=>Ip.get(n);function aR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Vs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Vs(u.result),f.oldVersion,f.newVersion,Vs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const lR=["get","getKey","getAll","getAllKeys","count"],uR=["put","add","delete","clear"],Af=new Map;function nv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=uR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return Af.set(e,a),a}iR(n=>({...n,get:(e,t,r)=>nv(e,t)||n.get(e,t,r),has:(e,t)=>!!nv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",rv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Sp("@firebase/app"),dR="@firebase/app-compat",fR="@firebase/analytics-compat",pR="@firebase/analytics",mR="@firebase/app-check-compat",gR="@firebase/app-check",yR="@firebase/auth",vR="@firebase/auth-compat",_R="@firebase/database",wR="@firebase/data-connect",ER="@firebase/database-compat",TR="@firebase/functions",SR="@firebase/functions-compat",IR="@firebase/installations",RR="@firebase/installations-compat",CR="@firebase/messaging",PR="@firebase/messaging-compat",AR="@firebase/performance",kR="@firebase/performance-compat",xR="@firebase/remote-config",bR="@firebase/remote-config-compat",DR="@firebase/storage",NR="@firebase/storage-compat",LR="@firebase/firestore",OR="@firebase/vertexai",VR="@firebase/firestore-compat",MR="firebase",UR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",FR={[qf]:"fire-core",[dR]:"fire-core-compat",[pR]:"fire-analytics",[fR]:"fire-analytics-compat",[gR]:"fire-app-check",[mR]:"fire-app-check-compat",[yR]:"fire-auth",[vR]:"fire-auth-compat",[_R]:"fire-rtdb",[wR]:"fire-data-connect",[ER]:"fire-rtdb-compat",[TR]:"fire-fn",[SR]:"fire-fn-compat",[IR]:"fire-iid",[RR]:"fire-iid-compat",[CR]:"fire-fcm",[PR]:"fire-fcm-compat",[AR]:"fire-perf",[kR]:"fire-perf-compat",[xR]:"fire-rc",[bR]:"fire-rc-compat",[DR]:"fire-gcs",[NR]:"fire-gcs-compat",[LR]:"fire-fst",[VR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,jR=new Map,Kf=new Map;function iv(n,e){try{n.container.addComponent(e)}catch(t){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eo(n){const e=n.name;if(Kf.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,n);for(const t of Xc.values())iv(t,n);for(const t of jR.values())iv(t,n);return!0}function Rh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Zl("app","Firebase",zR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=UR;function m0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(t||(t=c0()),!t)throw Ms.create("no-options");const a=Xc.get(s);if(a){if(Yc(t,a.options)&&Yc(r,a.config))return a;throw Ms.create("duplicate-app",{appName:s})}const u=new GI(s);for(const f of Kf.values())u.addComponent(f);const d=new BR(t,r,u);return Xc.set(s,d),d}function Rp(n=Wf){const e=Xc.get(n);if(!e&&n===Wf&&c0())return m0();if(!e)throw Ms.create("no-app",{appName:n});return e}function Ei(n,e,t){var r;let s=(r=FR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Eo(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",HR=1,zl="firebase-heartbeat-store";let kf=null;function g0(){return kf||(kf=aR($R,HR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),kf}async function qR(n){try{const t=(await g0()).transaction(zl),r=await t.objectStore(zl).get(y0(n));return await t.done,r}catch(e){if(e instanceof ki)Ji.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(t.message)}}}async function sv(n,e){try{const r=(await g0()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,y0(n)),await r.done}catch(t){if(t instanceof ki)Ji.warn(t.message);else{const r=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(r.message)}}}function y0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1024,KR=30*24*60*60*1e3;class GR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ov();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=KR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ov(),{heartbeatsToSend:r,unsentEntries:s}=QR(this._heartbeatsCache.heartbeats),a=Qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ji.warn(t),""}}}function ov(){return new Date().toISOString().substring(0,10)}function QR(n,e=WR){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),av(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),av(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class YR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VI()?MI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function av(n){return Qc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){Eo(new js("platform-logger",e=>new cR(e),"PRIVATE")),Eo(new js("heartbeat",e=>new GR(e),"PRIVATE")),Ei(qf,rv,n),Ei(qf,rv,"esm2017"),Ei("fire-js","")}XR("");var lv=function(){return lv=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},lv.apply(this,arguments)};function Cp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function RL(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=v0,_0=new Zl("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Sp("@firebase/auth");function ZR(n,...e){Jc.logLevel<=Ze.WARN&&Jc.warn(`Auth (${Po}): ${n}`,...e)}function Vc(n,...e){Jc.logLevel<=Ze.ERROR&&Jc.error(`Auth (${Po}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n,...e){throw Pp(n,...e)}function Ti(n,...e){return Pp(n,...e)}function w0(n,e,t){const r=Object.assign(Object.assign({},JR()),{[e]:t});return new Zl("auth","Firebase",r).create(e,{appName:n.name})}function Qi(n){return w0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _0.create(n,...e)}function Ue(n,e,...t){if(!n)throw Pp(e,...t)}function Wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vc(e),new Error(e)}function Zi(n,e){n||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eC(){return uv()==="http:"||uv()==="https:"}function uv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eC()||DI()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zi(t>e,"Short delay should be less than long delay!"),this.isMobile=kI()||NI()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){Zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new tu(3e4,6e4);function rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function is(n,e,t,r,s={}){return T0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=eu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return bI()||(m.referrerPolicy="no-referrer"),E0.fetch()(S0(n,n.config.apiHost,t,d),m)})}async function T0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rC),e);try{const s=new oC(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Sc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Sc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Sc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw w0(n,v,m);ei(n,v)}}catch(s){if(s instanceof ki)throw s;ei(n,"network-request-failed",{message:String(s)})}}async function nu(n,e,t,r,s={}){const a=await is(n,e,t,r,s);return"mfaPendingCredential"in a&&ei(n,"multi-factor-auth-required",{_serverResponse:a}),a}function S0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Ap(n.config,s):`${n.config.apiScheme}://${s}`}function sC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),iC.get())})}}function Sc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ti(n,e,r);return s.customData._tokenResponse=t,s}function cv(n){return n!==void 0&&n.enterprise!==void 0}class aC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lC(n,e){return is(n,"GET","/v2/recaptchaConfig",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e){return is(n,"POST","/v1/accounts:delete",e)}async function I0(n,e){return is(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cC(n,e=!1){const t=cn(n),r=await t.getIdToken(e),s=kp(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Nl(xf(s.auth_time)),issuedAtTime:Nl(xf(s.iat)),expirationTime:Nl(xf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(n){return Number(n)*1e3}function kp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const s=a0(t);return s?JSON.parse(s):(Vc("Failed to decode base64 JWT payload"),null)}catch(s){return Vc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hv(n){const e=kp(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ki&&hC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Bl(n,I0(t,{idToken:r}));Ue(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?R0(a.providerUserInfo):[],d=pC(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?m:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Qf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function fC(n){const e=cn(n);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function R0(n){return n.map(e=>{var{providerId:t}=e,r=Cp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(n,e){const t=await T0(n,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=S0(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",E0.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gC(n,e){return is(n,"POST","/v2/accounts:revokeToken",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=hv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await mC(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Sa;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cC(this,e)}reload(){return fC(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Bl(this,uC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,m,v;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,w=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(m=t.createdAt)!==null&&m!==void 0?m:void 0,te=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ee,emailVerified:ne,isAnonymous:M,providerData:ie,stsTokenManager:A}=t;Ue(ee&&A,e,"internal-error");const R=Sa.fromJSON(this.name,A);Ue(typeof ee=="string",e,"internal-error"),Ps(T,e.name),Ps(E,e.name),Ue(typeof ne=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),Ps(w,e.name),Ps(C,e.name),Ps(N,e.name),Ps(x,e.name),Ps(F,e.name),Ps(te,e.name);const P=new Ki({uid:ee,auth:e,email:E,emailVerified:ne,displayName:T,isAnonymous:M,photoURL:C,phoneNumber:w,tenantId:N,stsTokenManager:R,createdAt:F,lastLoginAt:te});return ie&&Array.isArray(ie)&&(P.providerData=ie.map(D=>Object.assign({},D))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Sa;s.updateFromServerResponse(t);const a=new Ki({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?R0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Sa;d.updateFromIdToken(r);const f=new Ki({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;function Gi(n){Zi(n instanceof Function,"Expected a class definition");let e=dv.get(n);return e?(Zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C0.type="NONE";const fv=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ia{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Mc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Mc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ia(Gi(fv),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Gi(fv);const u=Mc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){const T=Ki._fromJSON(e,v);m!==a&&(d=T),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ia(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ia(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(N0(e))return"Webos";if(A0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(b0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P0(n=Nn()){return/firefox\//i.test(n)}function A0(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(n=Nn()){return/crios\//i.test(n)}function x0(n=Nn()){return/iemobile/i.test(n)}function b0(n=Nn()){return/android/i.test(n)}function D0(n=Nn()){return/blackberry/i.test(n)}function N0(n=Nn()){return/webos/i.test(n)}function xp(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yC(n=Nn()){var e;return xp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vC(){return LI()&&document.documentMode===10}function L0(n=Nn()){return xp(n)||b0(n)||N0(n)||D0(n)||/windows phone/i.test(n)||x0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e=[]){let t;switch(n){case"Browser":t=pv(Nn());break;case"Worker":t=`${pv(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e={}){return is(n,"GET","/v2/passwordPolicy",rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=6;class TC{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:EC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new _C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await I0(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Qi(this));const t=e?cn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wC(this),t=new TC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gs(n){return cn(n)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=BI(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(n){Ch=n}function V0(n){return Ch.loadJS(n)}function RC(){return Ch.recaptchaEnterpriseScript}function CC(){return Ch.gapiScript}function PC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AC{constructor(){this.enterprise=new kC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class kC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xC="recaptcha-enterprise",M0="NO_RECAPTCHA";class bC{constructor(e){this.type=xC,this.auth=Gs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{lC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new aC(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;cv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(M0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&cv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=RC();f.length!==0&&(f+=d),V0(f).then(()=>{s(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function gv(n,e,t,r=!1,s=!1){const a=new bC(n);let u;if(s)u=M0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function eh(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await gv(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n,e){const t=Rh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Yc(a,e??{}))return s;ei(s,"already-initialized")}return t.initialize({options:e})}function NC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Gi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LC(n,e,t){const r=Gs(n);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=U0(e),{host:u,port:d}=OC(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),VC()}function U0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OC(n){const e=U0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:yv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:yv(u)}}}function yv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function MC(n,e){return is(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e){return nu(n,"POST","/v1/accounts:signInWithPassword",rs(n,e))}async function FC(n,e){return is(n,"POST","/v1/accounts:sendOobCode",rs(n,e))}async function jC(n,e){return FC(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",rs(n,e))}async function BC(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends bp{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $l(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,t,"signInWithPassword",UC);case"emailLink":return zC(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,r,"signUpPassword",MC);case"emailLink":return BC(e,{idToken:t,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n,e){return nu(n,"POST","/v1/accounts:signInWithIdp",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="http://localhost";class To extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Cp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new To(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qC(n){const e=Pl(Al(n)).link,t=e?Pl(Al(e)).deep_link_id:null,r=Pl(Al(n)).deep_link_id;return(r?Pl(Al(r)).link:null)||r||t||e||n}class Dp{constructor(e){var t,r,s,a,u,d;const f=Pl(Al(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,T=HC((s=f.mode)!==null&&s!==void 0?s:null);Ue(m&&v&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=qC(e);try{return new Dp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dp.parseLink(t);return Ue(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends F0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ru{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return To._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ru{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends ru{constructor(){super("twitter.com")}static credential(e,t){return To._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ns.credential(t,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e){return nu(n,"POST","/v1/accounts:signUp",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Ki._fromIdTokenResponse(e,r,s),u=vv(r);return new So({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=vv(r);return new So({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function vv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends ki{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new th(e,t,r,s)}}function j0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(n,a,e,r):a})}async function KC(n,e,t=!1){const r=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return So._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e,t=!1){const{auth:r}=n;if(yi(r.app))return Promise.reject(Qi(r));const s="reauthenticate";try{const a=await Bl(n,j0(r,s,e,n),t);Ue(a.idToken,r,"internal-error");const u=kp(a.idToken);Ue(u,r,"internal-error");const{sub:d}=u;return Ue(n.uid===d,r,"user-mismatch"),So._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(n,e,t=!1){if(yi(n.app))return Promise.reject(Qi(n));const r="signIn",s=await j0(n,r,e),a=await So._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function QC(n,e){return z0(Gs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(n){const e=Gs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YC(n,e,t){const r=Gs(n);await eh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jC)}async function XC(n,e,t){if(yi(n.app))return Promise.reject(Qi(n));const r=Gs(n),u=await eh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&B0(n),f}),d=await So._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function JC(n,e,t){return yi(n.app)?Promise.reject(Qi(n)):QC(cn(n),Oa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B0(n),r})}function ZC(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function eP(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function $0(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function tP(n){return cn(n).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=1e3,rP=10;class q0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);vC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q0.type="LOCAL";const iP=q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}W0.type="SESSION";const K0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await sP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Np("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(T){const E=T;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function aP(n){Si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function lP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cP(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",hP=1,rh="firebaseLocalStorage",Y0="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ah(n,e){return n.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function dP(){const n=indexedDB.deleteDatabase(Q0);return new iu(n).toPromise()}function Yf(){const n=indexedDB.open(Q0,hP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rh,{keyPath:Y0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await dP(),e(await Yf()))})})}async function _v(n,e,t){const r=Ah(n,!0).put({[Y0]:e,value:t});return new iu(r).toPromise()}async function fP(n,e){const t=Ah(n,!1).get(e),r=await new iu(t).toPromise();return r===void 0?null:r.value}function wv(n,e){const t=Ah(n,!0).delete(e);return new iu(t).toPromise()}const pP=800,mP=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(cP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yf();return await _v(e,nh,"1"),await wv(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_v(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ah(s,!1).getAll();return new iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const gP=X0;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e){return e?Gi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vP(n){return z0(n.auth,new Lp(n),n.bypassAuthState)}function _P(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),GC(t,new Lp(n),n.bypassAuthState)}async function wP(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),KC(t,new Lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return wP;case"reauthViaPopup":case"reauthViaRedirect":return _P;default:ei(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new tu(2e3,1e4);class Ta extends J0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EP.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="pendingRedirect",Uc=new Map;class SP extends J0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await IP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IP(n,e){const t=PP(e),r=CP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function RP(n,e){Uc.set(n._key(),e)}function CP(n){return Gi(n._redirectPersistence)}function PP(n){return Mc(TP,n.config.apiKey,n.name)}async function AP(n,e,t=!1){if(yi(n.app))return Promise.reject(Qi(n));const r=Gs(n),s=yP(r,e),u=await new SP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=10*60*1e3;class xP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Z0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(n,e={}){return is(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LP=/^https?/;async function OP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DP(n);for(const t of e)try{if(VP(t))return}catch{}ei(n,"unauthorized-domain")}function VP(n){const e=Gf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!LP.test(t))return!1;if(NP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new tu(3e4,6e4);function Tv(){const n=Si().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UP(n){return new Promise((e,t)=>{var r,s,a;function u(){Tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tv(),t(Ti(n,"network-request-failed"))},timeout:MP.get()})}if(!((s=(r=Si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Si().gapi)===null||a===void 0)&&a.load)u();else{const d=PC("iframefcb");return Si()[d]=()=>{gapi.load?u():t(Ti(n,"network-request-failed"))},V0(`${CC()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function FP(n){return Fc=Fc||UP(n),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new tu(5e3,15e3),zP="__/auth/iframe",BP="emulator/auth/iframe",$P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qP(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,BP):`https://${n.config.authDomain}/${zP}`,r={apiKey:e.apiKey,appName:n.name,v:Po},s=HP.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${eu(r).slice(1)}`}async function WP(n){const e=await FP(n),t=Si().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:qP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$P,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ti(n,"network-request-failed"),d=Si().setTimeout(()=>{a(u)},jP.get());function f(){Si().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GP=500,QP=600,YP="_blank",XP="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JP(n,e,t,r=GP,s=QP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},KP),{width:r.toString(),height:s.toString(),top:a,left:u}),m=Nn().toLowerCase();t&&(d=k0(m)?YP:t),P0(m)&&(e=e||XP,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[w,C])=>`${E}${w}=${C},`,"");if(yC(m)&&d!=="_self")return ZP(e||"",d),new Sv(null);const T=window.open(e||"",d,v);Ue(T,n,"popup-blocked");try{T.focus()}catch{}return new Sv(T)}function ZP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="__/auth/handler",tA="emulator/auth/handler",nA=encodeURIComponent("fac");async function Iv(n,e,t,r,s,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Po,eventId:s};if(e instanceof F0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",zI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))u[v]=T}if(e instanceof ru){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${nA}=${encodeURIComponent(f)}`:"";return`${rA(n)}?${eu(d).slice(1)}${m}`}function rA({config:n}){return n.emulator?Ap(n,tA):`https://${n.authDomain}/${eA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="webStorageSupport";class iA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=AP,this._overrideRedirectResult=RP}async _openPopup(e,t,r,s){var a;Zi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Iv(e,t,r,Gf(),s);return JP(e,u,Np())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Iv(e,t,r,Gf(),s);return aP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WP(e),r=new xP(e);return t.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bf,{type:bf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[bf];u!==void 0&&t(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L0()||A0()||xp()}}const sA=iA;var Rv="@firebase/auth",Cv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lA(n){Eo(new js("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O0(n)},m=new SC(r,s,a,f);return NC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new js("auth-internal",e=>{const t=Gs(e.getProvider("auth").getImmediate());return(r=>new oA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(Rv,Cv,aA(n)),Ei(Rv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=5*60,cA=h0("authIdTokenMaxAge")||uA;let Pv=null;const hA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cA)return;const s=t==null?void 0:t.token;Pv!==s&&(Pv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ew(n=Rp()){const e=Rh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DC(n,{popupRedirectResolver:sA,persistence:[gP,iP,K0]}),r=h0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=hA(a.toString());eP(t,u,()=>u(t.currentUser)),ZC(t,d=>u(d))}}const s=l0("auth");return s&&LC(t,`http://${s}`),t}function dA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ti("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",dA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lA("Browser");var fA="firebase",pA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(fA,pA,"app");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,tw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function P(){}P.prototype=R.prototype,A.D=R.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(D,V,z){for(var b=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)b[Ge-2]=arguments[Ge];return R.prototype[V].apply(D,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,R,P){P||(P=0);var D=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)D[V]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(V=0;16>V;++V)D[V]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=A.g[0],P=A.g[1],V=A.g[2];var z=A.g[3],b=R+(z^P&(V^z))+D[0]+3614090360&4294967295;R=P+(b<<7&4294967295|b>>>25),b=z+(V^R&(P^V))+D[1]+3905402710&4294967295,z=R+(b<<12&4294967295|b>>>20),b=V+(P^z&(R^P))+D[2]+606105819&4294967295,V=z+(b<<17&4294967295|b>>>15),b=P+(R^V&(z^R))+D[3]+3250441966&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(z^P&(V^z))+D[4]+4118548399&4294967295,R=P+(b<<7&4294967295|b>>>25),b=z+(V^R&(P^V))+D[5]+1200080426&4294967295,z=R+(b<<12&4294967295|b>>>20),b=V+(P^z&(R^P))+D[6]+2821735955&4294967295,V=z+(b<<17&4294967295|b>>>15),b=P+(R^V&(z^R))+D[7]+4249261313&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(z^P&(V^z))+D[8]+1770035416&4294967295,R=P+(b<<7&4294967295|b>>>25),b=z+(V^R&(P^V))+D[9]+2336552879&4294967295,z=R+(b<<12&4294967295|b>>>20),b=V+(P^z&(R^P))+D[10]+4294925233&4294967295,V=z+(b<<17&4294967295|b>>>15),b=P+(R^V&(z^R))+D[11]+2304563134&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(z^P&(V^z))+D[12]+1804603682&4294967295,R=P+(b<<7&4294967295|b>>>25),b=z+(V^R&(P^V))+D[13]+4254626195&4294967295,z=R+(b<<12&4294967295|b>>>20),b=V+(P^z&(R^P))+D[14]+2792965006&4294967295,V=z+(b<<17&4294967295|b>>>15),b=P+(R^V&(z^R))+D[15]+1236535329&4294967295,P=V+(b<<22&4294967295|b>>>10),b=R+(V^z&(P^V))+D[1]+4129170786&4294967295,R=P+(b<<5&4294967295|b>>>27),b=z+(P^V&(R^P))+D[6]+3225465664&4294967295,z=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(z^R))+D[11]+643717713&4294967295,V=z+(b<<14&4294967295|b>>>18),b=P+(z^R&(V^z))+D[0]+3921069994&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^z&(P^V))+D[5]+3593408605&4294967295,R=P+(b<<5&4294967295|b>>>27),b=z+(P^V&(R^P))+D[10]+38016083&4294967295,z=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(z^R))+D[15]+3634488961&4294967295,V=z+(b<<14&4294967295|b>>>18),b=P+(z^R&(V^z))+D[4]+3889429448&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^z&(P^V))+D[9]+568446438&4294967295,R=P+(b<<5&4294967295|b>>>27),b=z+(P^V&(R^P))+D[14]+3275163606&4294967295,z=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(z^R))+D[3]+4107603335&4294967295,V=z+(b<<14&4294967295|b>>>18),b=P+(z^R&(V^z))+D[8]+1163531501&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(V^z&(P^V))+D[13]+2850285829&4294967295,R=P+(b<<5&4294967295|b>>>27),b=z+(P^V&(R^P))+D[2]+4243563512&4294967295,z=R+(b<<9&4294967295|b>>>23),b=V+(R^P&(z^R))+D[7]+1735328473&4294967295,V=z+(b<<14&4294967295|b>>>18),b=P+(z^R&(V^z))+D[12]+2368359562&4294967295,P=V+(b<<20&4294967295|b>>>12),b=R+(P^V^z)+D[5]+4294588738&4294967295,R=P+(b<<4&4294967295|b>>>28),b=z+(R^P^V)+D[8]+2272392833&4294967295,z=R+(b<<11&4294967295|b>>>21),b=V+(z^R^P)+D[11]+1839030562&4294967295,V=z+(b<<16&4294967295|b>>>16),b=P+(V^z^R)+D[14]+4259657740&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^z)+D[1]+2763975236&4294967295,R=P+(b<<4&4294967295|b>>>28),b=z+(R^P^V)+D[4]+1272893353&4294967295,z=R+(b<<11&4294967295|b>>>21),b=V+(z^R^P)+D[7]+4139469664&4294967295,V=z+(b<<16&4294967295|b>>>16),b=P+(V^z^R)+D[10]+3200236656&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^z)+D[13]+681279174&4294967295,R=P+(b<<4&4294967295|b>>>28),b=z+(R^P^V)+D[0]+3936430074&4294967295,z=R+(b<<11&4294967295|b>>>21),b=V+(z^R^P)+D[3]+3572445317&4294967295,V=z+(b<<16&4294967295|b>>>16),b=P+(V^z^R)+D[6]+76029189&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(P^V^z)+D[9]+3654602809&4294967295,R=P+(b<<4&4294967295|b>>>28),b=z+(R^P^V)+D[12]+3873151461&4294967295,z=R+(b<<11&4294967295|b>>>21),b=V+(z^R^P)+D[15]+530742520&4294967295,V=z+(b<<16&4294967295|b>>>16),b=P+(V^z^R)+D[2]+3299628645&4294967295,P=V+(b<<23&4294967295|b>>>9),b=R+(V^(P|~z))+D[0]+4096336452&4294967295,R=P+(b<<6&4294967295|b>>>26),b=z+(P^(R|~V))+D[7]+1126891415&4294967295,z=R+(b<<10&4294967295|b>>>22),b=V+(R^(z|~P))+D[14]+2878612391&4294967295,V=z+(b<<15&4294967295|b>>>17),b=P+(z^(V|~R))+D[5]+4237533241&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~z))+D[12]+1700485571&4294967295,R=P+(b<<6&4294967295|b>>>26),b=z+(P^(R|~V))+D[3]+2399980690&4294967295,z=R+(b<<10&4294967295|b>>>22),b=V+(R^(z|~P))+D[10]+4293915773&4294967295,V=z+(b<<15&4294967295|b>>>17),b=P+(z^(V|~R))+D[1]+2240044497&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~z))+D[8]+1873313359&4294967295,R=P+(b<<6&4294967295|b>>>26),b=z+(P^(R|~V))+D[15]+4264355552&4294967295,z=R+(b<<10&4294967295|b>>>22),b=V+(R^(z|~P))+D[6]+2734768916&4294967295,V=z+(b<<15&4294967295|b>>>17),b=P+(z^(V|~R))+D[13]+1309151649&4294967295,P=V+(b<<21&4294967295|b>>>11),b=R+(V^(P|~z))+D[4]+4149444226&4294967295,R=P+(b<<6&4294967295|b>>>26),b=z+(P^(R|~V))+D[11]+3174756917&4294967295,z=R+(b<<10&4294967295|b>>>22),b=V+(R^(z|~P))+D[2]+718787259&4294967295,V=z+(b<<15&4294967295|b>>>17),b=P+(z^(V|~R))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(V+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+z&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var P=R-this.blockSize,D=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=P;)s(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<R;)if(D[V++]=A.charCodeAt(z++),V==this.blockSize){s(this,D),V=0;break}}else for(;z<R;)if(D[V++]=A[z++],V==this.blockSize){s(this,D),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var P=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=P&255,P/=256;for(this.u(A),A=Array(16),R=P=0;4>R;++R)for(var D=0;32>D;D+=8)A[P++]=this.g[R]>>>D&255;return A};function a(A,R){var P=d;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=R(A)}function u(A,R){this.h=R;for(var P=[],D=!0,V=A.length-1;0<=V;V--){var z=A[V]|0;D&&z==R||(P[V]=z,D=!1)}this.g=P}var d={};function f(A){return-128<=A&&128>A?a(A,function(R){return new u([R|0],0>R?-1:0)}):new u([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return x(m(-A));for(var R=[],P=1,D=0;A>=P;D++)R[D]=A/P|0,P*=4294967296;return new u(R,0)}function v(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return x(v(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(R,8)),D=T,V=0;V<A.length;V+=8){var z=Math.min(8,A.length-V),b=parseInt(A.substring(V,V+z),R);8>z?(z=m(Math.pow(R,z)),D=D.j(z).add(m(b))):(D=D.j(P),D=D.add(m(b)))}return D}var T=f(0),E=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-x(this).m();for(var A=0,R=1,P=0;P<this.g.length;P++){var D=this.i(P);A+=(0<=D?D:4294967296+D)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C(this))return"0";if(N(this))return"-"+x(this).toString(A);for(var R=m(Math.pow(A,6)),P=this,D="";;){var V=ne(P,R).g;P=F(P,V.j(R));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=V,C(P))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function C(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function N(A){return A.h==-1}n.l=function(A){return A=F(this,A),N(A)?-1:C(A)?0:1};function x(A){for(var R=A.g.length,P=[],D=0;D<R;D++)P[D]=~A.g[D];return new u(P,~A.h).add(E)}n.abs=function(){return N(this)?x(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0,V=0;V<=R;V++){var z=D+(this.i(V)&65535)+(A.i(V)&65535),b=(z>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);D=b>>>16,z&=65535,b&=65535,P[V]=b<<16|z}return new u(P,P[P.length-1]&-2147483648?-1:0)};function F(A,R){return A.add(x(R))}n.j=function(A){if(C(this)||C(A))return T;if(N(this))return N(A)?x(this).j(x(A)):x(x(this).j(A));if(N(A))return x(this.j(x(A)));if(0>this.l(w)&&0>A.l(w))return m(this.m()*A.m());for(var R=this.g.length+A.g.length,P=[],D=0;D<2*R;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<A.g.length;V++){var z=this.i(D)>>>16,b=this.i(D)&65535,Ge=A.i(V)>>>16,ze=A.i(V)&65535;P[2*D+2*V]+=b*ze,te(P,2*D+2*V),P[2*D+2*V+1]+=z*ze,te(P,2*D+2*V+1),P[2*D+2*V+1]+=b*Ge,te(P,2*D+2*V+1),P[2*D+2*V+2]+=z*Ge,te(P,2*D+2*V+2)}for(D=0;D<R;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=R;D<2*R;D++)P[D]=0;return new u(P,0)};function te(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function ee(A,R){this.g=A,this.h=R}function ne(A,R){if(C(R))throw Error("division by zero");if(C(A))return new ee(T,T);if(N(A))return R=ne(x(A),R),new ee(x(R.g),x(R.h));if(N(R))return R=ne(A,x(R)),new ee(x(R.g),R.h);if(30<A.g.length){if(N(A)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var P=E,D=R;0>=D.l(A);)P=M(P),D=M(D);var V=ie(P,1),z=ie(D,1);for(D=ie(D,2),P=ie(P,2);!C(D);){var b=z.add(D);0>=b.l(A)&&(V=V.add(P),z=b),D=ie(D,1),P=ie(P,1)}return R=F(A,V.j(R)),new ee(V,R)}for(V=T;0<=A.l(R);){for(P=Math.max(1,Math.floor(A.m()/R.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=m(P),b=z.j(R);N(b)||0<b.l(A);)P-=D,z=m(P),b=z.j(R);C(z)&&(z=E),V=V.add(z),A=F(A,b)}return new ee(V,A)}n.A=function(A){return ne(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)&A.i(D);return new u(P,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)|A.i(D);return new u(P,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)^A.i(D);return new u(P,this.h^A.h)};function M(A){for(var R=A.g.length+1,P=[],D=0;D<R;D++)P[D]=A.i(D)<<1|A.i(D-1)>>>31;return new u(P,A.h)}function ie(A,R){var P=R>>5;R%=32;for(var D=A.g.length-P,V=[],z=0;z<D;z++)V[z]=0<R?A.i(z+P)>>>R|A.i(z+P+1)<<32-R:A.i(z+P);return new u(V,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,_o=u}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nw,kl,rw,jc,Xf,iw,sw,ow;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var K=c[I];if(!(K in _))break e;_=_[K]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,K={next:function(){if(!I&&_<c.length){var Z=_++;return{value:g(Z,c[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function T(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,I),c.apply(g,K)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,E.apply(null,arguments)}function w(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function C(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,K,Z){for(var pe=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)pe[yt-2]=arguments[yt];return g.prototype[K].apply(I,pe)}}function N(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function x(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const K=c.length||0,Z=I.length||0;c.length=K+Z;for(let pe=0;pe<Z;pe++)c[K+pe]=I[pe]}else c.push(I)}}class F{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var M=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ie(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(_ in I)c[_]=I[_];for(let Z=0;Z<P.length;Z++)_=P[Z],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){d.setTimeout(()=>{throw c},0)}function b(){var c=$;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ge{constructor(){this.h=this.g=null}add(g,_){const I=ze.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var ze=new F(()=>new Xe,c=>c.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,B=!1,$=new Ge,X=()=>{const c=d.Promise.resolve(void 0);Oe=()=>{c.then(U)}};var U=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){z(_)}var g=ze;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}B=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function ge(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(M){e:{try{ne(g.nodeName);var K=!0;break e}catch{}K=!1}K||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ge.aa.h.call(this)}}C(ge,se);var Re={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Me(c,g,_,I,K){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=K,this.key=++Ye,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,_,I,K){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var pe=Wt(c,g,I,K);return-1<pe?(g=c[pe],_||(g.fa=!1)):(g=new Me(g,this.src,Z,!!I,K),g.fa=_,c.push(g)),g};function ni(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],K=Array.prototype.indexOf.call(I,g,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(I,K,1),Z&&(ht(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,g,_,I){for(var K=0;K<c.length;++K){var Z=c[K];if(!Z.da&&Z.listener==g&&Z.capture==!!_&&Z.ha==I)return K}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),mr={};function ri(c,g,_,I,K){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)ri(c,g[Z],_,I,K);return null}return _=Tn(_),c&&c[Ce]?c.K(g,_,m(I)?!!I.capture:!!I,K):ii(c,g,_,!1,I,K)}function ii(c,g,_,I,K,Z){if(!g)throw Error("Invalid event type");var pe=m(K)?!!K.capture:!!K,yt=Mt(c);if(yt||(c[Ar]=yt=new en(c)),_=yt.add(g,_,I,pe,Z),_.proxy)return _;if(I=kr(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)me||(K=pe),K===void 0&&(K=!1),c.addEventListener(g.toString(),I,K);else if(c.attachEvent)c.attachEvent(Kt(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kr(){function c(_){return g.call(c.src,c.listener,_)}const g=nr;return c}function xr(c,g,_,I,K){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)xr(c,g[Z],_,I,K);else I=m(I)?!!I.capture:!!I,_=Tn(_),c&&c[Ce]?(c=c.i,g=String(g).toString(),g in c.g&&(Z=c.g[g],_=Wt(Z,_,I,K),-1<_&&(ht(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[g],c.h--)))):c&&(c=Mt(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Wt(g,_,I,K)),(_=-1<c?g[c]:null)&&tn(_))}function tn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ce])ni(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Kt(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Mt(g))?(ni(_,c),_.h==0&&(_.src=null,g[Ar]=null)):ht(c)}}}function Kt(c){return c in mr?mr[c]:mr[c]="on"+c}function nr(c,g){if(c.da)c=!0;else{g=new ge(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&tn(c),c=_.call(I,g)}return c}function Mt(c){return c=c[Ar],c instanceof en?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(g){return c.handleEvent(g)}),c[hn])}function dt(){W.call(this),this.i=new en(this),this.M=this,this.F=null}C(dt,W),dt.prototype[Ce]=!0,dt.prototype.removeEventListener=function(c,g,_,I){xr(this,c,g,_,I)};function vt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var K=g;g=new se(I,c),D(g,K)}if(K=!0,_)for(var Z=_.length-1;0<=Z;Z--){var pe=g.g=_[Z];K=On(pe,I,!0,g)&&K}if(pe=g.g=c,K=On(pe,I,!0,g)&&K,K=On(pe,I,!1,g)&&K,_)for(Z=0;Z<_.length;Z++)pe=g.g=_[Z],K=On(pe,I,!1,g)&&K}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)ht(_[I]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},dt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function On(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var K=!0,Z=0;Z<g.length;++Z){var pe=g[Z];if(pe&&!pe.da&&pe.capture==_){var yt=pe.listener,Gt=pe.ha||pe.src;pe.fa&&ni(c.i,pe),K=yt.call(Gt,I)!==!1&&K}}return K&&!I.defaultPrevented}function br(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function kt(c){c.g=br(()=>{c.g=null,c.i&&(c.i=!1,kt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rr extends W{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(c){W.call(this),this.h=c,this.g={}}C(Vn,W);var Dr=[];function xi(c){ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&tn(g)},c),c.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),xi(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=d.JSON.stringify,ir=d.JSON.parse,si=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Mn(){}Mn.prototype.h=null;function dn(c){return c.h||(c.h=c.i())}function Lr(){}var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qe(){se.call(this,"d")}C(qe,se);function Je(){se.call(this,"c")}C(Je,se);var _t={},nn=null;function $n(){return nn=nn||new dt}_t.La="serverreachability";function L(c){se.call(this,_t.La,c)}C(L,se);function H(c){const g=$n();vt(g,new L(g))}_t.STAT_EVENT="statevent";function J(c,g){se.call(this,_t.STAT_EVENT,c),this.stat=g}C(J,se);function re(c){const g=$n();vt(g,new J(g,c))}_t.Ma="timingevent";function ye(c,g){se.call(this,_t.Ma,c),this.size=g}C(ye,se);function Ee(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function ve(c,g,_,I,K,Z){c.info(function(){if(c.g)if(Z)for(var pe="",yt=Z.split("&"),Gt=0;Gt<yt.length;Gt++){var ot=yt[Gt].split("=");if(1<ot.length){var rn=ot[0];ot=ot[1];var $t=rn.split("_");pe=2<=$t.length&&$t[1]=="type"?pe+(rn+"="+ot+"&"):pe+(rn+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+g+`
`+_+`
`+pe})}function Se(c,g,_,I,K,Z,pe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+g+`
`+_+`
`+Z+" "+pe})}function fe(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+We(c,_)+(I?" "+I:"")})}function Ve(c,g){c.info(function(){return"TIMEOUT: "+g})}be.prototype.info=function(){};function We(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var K=I[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return Nr(_)}catch{return g}}var ft={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function lt(){}C(lt,Mn),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},nt=new lt;function pt(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}var Vr={},Sn={};function fn(c,g,_){c.L=1,c.v=ls(sr(g)),c.m=_,c.P=!0,bi(c,null)}function bi(c,g){c.F=Date.now(),mt(c),c.A=sr(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),cs(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Or,c.g=Ru(c.j,_?g:null,!c.m),0<c.O&&(c.M=new rr(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(Dr[0]=K.toString()),K=Dr);for(var Z=0;Z<K.length;Z++){var pe=ri(_,K[Z],I||g.handleEvent,!1,g.h||g);if(!pe)break;g.g[pe.key]=pe}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),H(),ve(c.i,c.u,c.A,c.l,c.R,c.m)}pt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Wn(c)==3?g.j():this.Y(c)},pt.prototype.Y=function(c){try{if(c==this.g)e:{const $t=Wn(this.g);var g=this.g.Ba();const yr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||$t!=4||g==7||(g==8||0>=yr?H(3):H(2)),st(this);var _=this.g.Z();this.X=_;t:if(oi(this)){var I=qa(this.g);c="";var K=I.length,Z=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),St(this);var pe="";break t}this.h.i=new d.TextDecoder}for(g=0;g<K;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(Z&&g==K-1)});I.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,Se(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,Gt=this.g;if((yt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(yt)){var ot=yt;break t}}ot=null}if(_=ot)fe(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,_);else{this.o=!1,this.s=3,re(12),pn(this),St(this);break e}}if(this.P){_=!0;let ar;for(;!this.J&&this.C<pe.length;)if(ar=Mr(this,pe),ar==Sn){$t==4&&(this.s=4,re(14),_=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Vr){this.s=4,re(15),fe(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else fe(this.i,this.l,ar,null),Ur(this,ar);if(oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||pe.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)fe(this.i,this.l,pe,"[Invalid Chunked Response]"),pn(this),St(this);else if(0<pe.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ka(rn),rn.M=!0,re(11))}}else fe(this.i,this.l,pe,null),Ur(this,pe);$t==4&&pn(this),this.o&&!this.J&&($t==4?$o(this.j,this):(this.o=!1,mt(this)))}else Uo(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),pn(this),St(this)}}}catch{}finally{}};function oi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mr(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Sn:(_=Number(g.substring(_,I)),isNaN(_)?Vr:(I+=1,I+_>g.length?Sn:(g=g.slice(I,I+_),c.C=I+_,g)))}pt.prototype.cancel=function(){this.J=!0,pn(this)};function mt(c){c.S=Date.now()+c.I,Di(c,c.I)}function Di(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ee(E(c.ba,c),g)}function st(c){c.B&&(d.clearTimeout(c.B),c.B=null)}pt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ve(this.i,this.A),this.L!=2&&(H(),re(17)),pn(this),this.s=2,St(this)):Di(this,this.S-c)};function St(c){c.j.G==0||c.J||$o(c.j,c)}function pn(c){st(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,xi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ur(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Un(_.h,c))){if(!c.K&&Un(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Bo(_),$r(_);else break e;zo(_),re(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(E(_.Za,_),6e3));if(1>=Do(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Bo(_),!te(g))for(K=_.Da.g.parse(g),g=0;g<K.length;g++){let ot=K[g];if(_.T=ot[0],ot=ot[1],_.G==2)if(ot[0]=="c"){_.K=ot[1],_.ia=ot[2];const rn=ot[3];rn!=null&&(_.la=rn,_.j.info("VER="+_.la));const $t=ot[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const yr=ot[5];yr!=null&&typeof yr=="number"&&0<yr&&(I=1.5*yr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const ar=c.g;if(ar){const eo=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var Z=I.h;Z.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(za(Z,Z.h),Z.h=null))}if(I.D){const qo=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(I.ya=qo,wt(I.I,I.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var pe=c;if(I.qa=Iu(I,I.J?I.ia:null,I.W),pe.K){du(I.h,pe);var yt=pe,Gt=I.L;Gt&&(yt.I=Gt),yt.B&&(st(yt),mt(yt)),I.g=pe}else Zs(I);0<_.i.length&&ci(_)}else ot[0]!="stop"&&ot[0]!="close"||Mi(_,7);else _.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Mi(_,7):gn(_):ot[0]!="noop"&&_.l&&_.l.ta(ot),_.v=0)}}H(4)}catch{}}var It=class{constructor(c,g){this.g=c,this.map=g}};function Hn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Do(c){return c.h?1:c.g?c.g.size:0}function Un(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function za(c,g){c.g?c.g.add(g):c.h=g}function du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Hn.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return N(c.i)}function No(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Lo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function ss(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Lo(c),I=No(c),K=I.length,Z=0;Z<K;Z++)g.call(void 0,I[Z],_&&_[Z],c)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),K=null;if(0<=I){var Z=c[_].substring(0,I);K=c[_].substring(I+1)}else Z=c[_];g(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ni(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ni){this.h=c.h,Ys(this,c.j),this.o=c.o,this.g=c.g,os(this,c.s),this.l=c.l;var g=c.i,_=new ai;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),as(this,_),this.m=c.m}else c&&(g=String(c).match(Qs))?(this.h=!1,Ys(this,g[1]||"",!0),this.o=rt(g[2]||""),this.g=rt(g[3]||"",!0),os(this,g[4]),this.l=rt(g[5]||"",!0),as(this,g[6]||"",!0),this.m=rt(g[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Ni.prototype.toString=function(){var c=[],g=this.j;g&&c.push(us(g,Oo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(us(g,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(us(_,_.charAt(0)=="/"?gu:mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",us(_,Ba)),c.join("")};function sr(c){return new Ni(c)}function Ys(c,g,_){c.j=_?rt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function os(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function as(c,g,_){g instanceof ai?(c.i=g,li(c.i,c.h)):(_||(g=us(g,yu)),c.i=new ai(g,c.h))}function wt(c,g,_){c.i.set(g,_)}function ls(c){return wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,Ba=/#/g;function ai(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ai.prototype,n.add=function(c,g){mn(this),this.i=null,c=gr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Fr(c,g){mn(c),g=gr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jr(c,g){return mn(c),g=gr(c,g),c.g.has(g)}n.forEach=function(c,g){mn(this),this.g.forEach(function(_,I){_.forEach(function(K){c.call(g,K,I,this)},this)},this)},n.na=function(){mn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const K=c[I];for(let Z=0;Z<K.length;Z++)_.push(g[I])}return _},n.V=function(c){mn(this);let g=[];if(typeof c=="string")jr(this,c)&&(g=g.concat(this.g.get(gr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return mn(this),this.i=null,c=gr(this,c),jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function cs(c,g,_){Fr(c,g),0<_.length&&(c.i=null,c.g.set(gr(c,g),N(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const Z=encodeURIComponent(String(I)),pe=this.V(I);for(I=0;I<pe.length;I++){var K=Z;pe[I]!==""&&(K+="="+encodeURIComponent(String(pe[I]))),c.push(K)}}return this.i=c.join("&")};function gr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function li(c,g){g&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(_,I){var K=I.toLowerCase();I!=K&&(Fr(this,I),cs(this,K,_))},c)),c.j=g}function Wh(c,g){const _=new be;if(d.Image){const I=new Image;I.onload=w(qn,_,"TestLoadImage: loaded",!0,g,I),I.onerror=w(qn,_,"TestLoadImage: error",!1,g,I),I.onabort=w(qn,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=w(qn,_,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function vu(c,g){const _=new be,I=new AbortController,K=setTimeout(()=>{I.abort(),qn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(Z=>{clearTimeout(K),Z.ok?qn(_,"TestPingServer: ok",!0,g):qn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(K),qn(_,"TestPingServer: error",!1,g)})}function qn(c,g,_,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(_)}catch{}}function Kh(){this.g=new si}function _u(c,g,_){const I=_||"";try{ss(c,function(K,Z){let pe=K;m(K)&&(pe=Nr(K)),g.push(I+Z+"="+encodeURIComponent(pe))})}catch(K){throw g.push(I+"type="+encodeURIComponent("_badmap")),K}}function Li(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Li,Mn),Li.prototype.g=function(){return new Xs(this.l,this.j)},Li.prototype.i=function(c){return function(){return c}}({});function Xs(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Xs,dt),n=Xs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Br(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zr(this):Br(this),this.readyState==3&&wu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zr(this))},n.Qa=function(c){this.g&&(this.response=c,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Br(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oi(c){let g="";return ie(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function hs(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Oi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):wt(c,g,_))}function xt(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xt,dt);var Gh=/^https?$/i,$a=["POST","PUT"];n=xt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?dn(this.o):dn(nt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Z){Js(this,Z);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)_.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())_.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,g,void 0))||I||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of _)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Js(this,Z)}};function Js(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Vo(c),or(c)}function Vo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)br(c.Ea,0,c);else if(vt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=pe===0){var K=String(c.D).match(Qs)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),I=!Gh.test(K?K.toLowerCase():"")}_=I}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var Z=2<Wn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Vo(c)}}finally{or(c)}}}}function or(c,g){if(c.g){Mo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=I}catch{}}}function Mo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ir(g)}};function qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uo(c){const g={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(te(c[I]))continue;var _=V(c[I]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=g[K]||[];g[K]=Z,Z.push(_)}A(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Wa(c){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ui("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ui("baseRetryDelayMs",5e3,c),this.cb=ui("retryDelaySeedMs",1e4,c),this.Wa=ui("forwardChannelMaxRetries",2,c),this.wa=ui("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hn(c&&c.concurrentRequestLimit),this.Da=new Kh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){re(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Iu(this,null,this.W),ci(this)};function gn(c){if(Fo(c),c.G==3){var g=c.U++,_=sr(c.I);if(wt(_,"SID",c.K),wt(_,"RID",g),wt(_,"TYPE","terminate"),Vi(c,_),g=new pt(c,c.j,g),g.L=2,g.v=ls(sr(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ru(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mt(g)}Su(c)}function $r(c){c.g&&(Ka(c),c.g.cancel(),c.g=null)}function Fo(c){$r(c),c.u&&(d.clearTimeout(c.u),c.u=null),Bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ci(c){if(!In(c.h)&&!c.s){c.s=!0;var g=c.Ga;Oe||X(),B||(Oe(),B=!0),$.add(g,c),c.B=0}}function Qh(c,g){return Do(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ee(E(c.Ga,c,g),Tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new pt(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),D(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ds(this,K,g),_=sr(this.I),wt(_,"RID",c),wt(_,"CVER",22),this.D&&wt(_,"X-HTTP-Session-Id",this.D),Vi(this,_),Z&&(this.O?g="headers="+encodeURIComponent(String(Oi(Z)))+"&"+g:this.m&&hs(_,this.m,Z)),za(this.h,K),this.Ua&&wt(_,"TYPE","init"),this.P?(wt(_,"$req",g),wt(_,"SID","null"),K.T=!0,fn(K,_,null)):fn(K,_,g),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||In(this.h)||jo(this))};function jo(c,g){var _;g?_=g.l:_=c.U++;const I=sr(c.I);wt(I,"SID",c.K),wt(I,"RID",_),wt(I,"AID",c.T),Vi(c,I),c.m&&c.o&&hs(I,c.m,c.o),_=new pt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ds(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),za(c.h,_),fn(_,I,g)}function Vi(c,g){c.H&&ie(c.H,function(_,I){wt(g,I,_)}),c.l&&ss({},function(_,I){wt(g,I,_)})}function ds(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var K=c.i;let Z=-1;for(;;){const pe=["count="+_];Z==-1?0<_?(Z=K[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let yt=!0;for(let Gt=0;Gt<_;Gt++){let ot=K[Gt].g;const rn=K[Gt].map;if(ot-=Z,0>ot)Z=Math.max(0,K[Gt].g-100),yt=!1;else try{_u(rn,pe,"req"+ot+"_")}catch{I&&I(rn)}}if(yt){I=pe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Zs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Oe||X(),B||(Oe(),B=!0),$.add(g,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ee(E(c.Fa,c),Tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ee(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),$r(this),Eu(this))};function Ka(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new pt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=sr(c.qa);wt(g,"RID","rpc"),wt(g,"SID",c.K),wt(g,"AID",c.T),wt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&wt(g,"TO",c.ja),wt(g,"TYPE","xmlhttp"),Vi(c,g),c.m&&c.o&&hs(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(sr(g)),_.m=null,_.P=!0,bi(_,c)}n.Za=function(){this.C!=null&&(this.C=null,$r(this),zo(this),re(19))};function Bo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function $o(c,g){var _=null;if(c.g==g){Bo(c),Ka(c),c.g=null;var I=2}else if(Un(c.h,g))_=g.D,du(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var K=c.B;I=$n(),vt(I,new ye(I,_)),ci(c)}else Zs(c);else if(K=g.s,K==3||K==0&&0<g.X||!(I==1&&Qh(c,g)||I==2&&zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),K){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Tu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mi(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const K=!I;I=new Ni(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ys(I,"https"),ls(I),K?Wh(I.toString(),_):vu(I.toString(),_)}else re(2);c.G=0,c.l&&c.l.sa(g),Su(c),Fo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const g=fu(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Iu(c,g,_){var I=_ instanceof Ni?sr(_):new Ni(_);if(I.g!="")g&&(I.g=g+"."+I.g),os(I,I.s);else{var K=d.location;I=K.protocol,g=g?g+"."+K.hostname:K.hostname,K=+K.port;var Z=new Ni(null);I&&Ys(Z,I),g&&(Z.g=g),K&&os(Z,K),_&&(Z.l=_),I=Z}return _=c.D,g=c.ya,_&&g&&wt(I,_,g),wt(I,"VER",c.la),Vi(c,I),I}function Ru(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new xt(new Li({eb:_})):new xt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ga(){}n=Ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ho(){}Ho.prototype.g=function(c,g){return new Fn(c,g)};function Fn(c,g){dt.call(this),this.g=new Wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hi(this)}C(Fn,dt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){gn(this.g)},Fn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Nr(c),c=_);g.i.push(new It(g.Ya++,c)),g.G==3&&ci(g)},Fn.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Fn.aa.N.call(this)};function Cu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Cu,qe);function Pu(){Je.call(this),this.status=1}C(Pu,Je);function hi(c){this.g=c}C(hi,Ga),hi.prototype.ua=function(){vt(this.g,"a")},hi.prototype.ta=function(c){vt(this.g,new Cu(c))},hi.prototype.sa=function(c){vt(this.g,new Pu)},hi.prototype.ra=function(){vt(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,ow=function(){return new Ho},sw=function(){return $n()},iw=_t,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,jc=ft,Ut.COMPLETE="complete",rw=Ut,Lr.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",dt.prototype.listen=dt.prototype.K,kl=Lr,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,nw=xt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Sp("@firebase/firestore");function ya(){return Io.logLevel}function we(n,...e){if(Io.logLevel<=Ze.DEBUG){const t=e.map(Op);Io.debug(`Firestore (${Va}): ${n}`,...t)}}function es(n,...e){if(Io.logLevel<=Ze.ERROR){const t=e.map(Op);Io.error(`Firestore (${Va}): ${n}`,...t)}}function Pa(n,...e){if(Io.logLevel<=Ze.WARN){const t=e.map(Op);Io.warn(`Firestore (${Va}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+n;throw es(e),new Error(e)}function gt(n,e){n||je()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class gA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yA{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new bn(e)}}class vA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _A{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new vA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){gt(this.o===void 0);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string"),this.R=t.token,new wA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=TA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function it(n,e){return n<e?-1:n>e?1:0}function Aa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Jt(0,0))}static max(){return new $e(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(),r===void 0?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dt extends Hl{construct(e,t,r){return new Dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Dt(t)}static emptyPath(){return new Dt([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Hl{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Dt.fromString(e))}static fromName(e){return new Le(Dt.fromString(e).popFirst(5))}static empty(){return new Le(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Dt(e.slice()))}}function IA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new zs(s,Le.empty(),e)}function RA(n){return new zs(n.readTime,n.key,-1)}class zs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zs($e.min(),Le.empty(),-1)}static max(){return new zs($e.max(),Le.empty(),-1)}}function CA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==PA)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(s=>s?oe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new oe((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function kA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kh.oe=-1;function xh(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function xA(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xv(e)),e=DA(n.get(t),e);return xv(e)}function DA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function xv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=a??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new _n(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,r,s,a){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new Zt(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new cw("Invalid base64 string: "+a):a}}(e);return new En(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(gt(!!n),typeof n=="string"){let e=0;const t=NA.exec(n);if(gt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $s(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function bh(n){const e=n.mapValue.fields.__previous_value__;return Vp(e)?bh(e):e}function ql(n){const e=Bs(n.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,r,s,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vp(n)?4:VA(n)?9007199254740991:OA(n)?10:11:je()}function Pi(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Bs(s.timestampValue),d=Bs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return $s(s.bytesValue).isEqual($s(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Bt(s.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Bt(s.integerValue)===Bt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Bt(s.doubleValue),d=Bt(a.doubleValue);return u===d?ih(u)===ih(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(bv(u)!==bv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Pi(u[f],d[f])))return!1;return!0}(n,e);default:return je()}}function Kl(n,e){return(n.values||[]).find(t=>Pi(t,e))!==void 0}function ka(n,e){if(n===e)return 0;const t=Hs(n),r=Hs(e);if(t!==r)return it(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Bt(a.integerValue||a.doubleValue),f=Bt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Nv(n.timestampValue,e.timestampValue);case 4:return Nv(ql(n),ql(e));case 5:return it(n.stringValue,e.stringValue);case 6:return function(a,u){const d=$s(a),f=$s(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=it(d[m],f[m]);if(v!==0)return v}return it(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=it(Bt(a.latitude),Bt(u.latitude));return d!==0?d:it(Bt(a.longitude),Bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Lv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,v;const T=a.fields||{},E=u.fields||{},w=(d=T.value)===null||d===void 0?void 0:d.arrayValue,C=(f=E.value)===null||f===void 0?void 0:f.arrayValue,N=it(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:Lv(w,C)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Cc.mapValue&&u===Cc.mapValue)return 0;if(a===Cc.mapValue)return 1;if(u===Cc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const E=it(f[T],v[T]);if(E!==0)return E;const w=ka(d[f[T]],m[v[T]]);if(w!==0)return w}return it(f.length,v.length)}(n.mapValue,e.mapValue);default:throw je()}}function Nv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=Bs(n),r=Bs(e),s=it(t.seconds,r.seconds);return s!==0?s:it(t.nanos,r.nanos)}function Lv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ka(t[s],r[s]);if(a)return a}return it(t.length,r.length)}function xa(n){return Jf(n)}function Jf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Jf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Jf(t.fields[u])}`;return s+"}"}(n.mapValue):je()}function zc(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(n);return e?16+zc(e):16;case 5:return 2*n.stringValue.length;case 6:return $s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+zc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ao(r.fields,(a,u)=>{s+=a.length+zc(u)}),s}(n.mapValue);default:throw je()}}function Zf(n){return!!n&&"integerValue"in n}function Mp(n){return!!n&&"arrayValue"in n}function Ov(n){return!!n&&"nullValue"in n}function Vv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bc(n){return!!n&&"mapValue"in n}function OA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ll(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=wn.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ll(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Bc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ao(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Cr(Ll(this.value))}}function hw(n){const e=[];return Ao(n.fields,(t,r)=>{const s=new wn([t]);if(Bc(r)){const a=hw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,$e.min(),$e.min(),$e.min(),Cr.empty(),0)}static newFoundDocument(e,t,r,s){return new Dn(e,1,t,$e.min(),r,s,0)}static newNoDocument(e,t){return new Dn(e,2,t,$e.min(),$e.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,$e.min(),$e.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.position=e,this.inclusive=t}}function Mv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=ka(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function MA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{}class Xt extends dw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new FA(e,t,r):t==="array-contains"?new BA(e,r):t==="in"?new $A(e,r):t==="not-in"?new HA(e,r):t==="array-contains-any"?new qA(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jA(e,r):new zA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ka(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends dw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ai(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fw(n){return n.op==="and"}function pw(n){return UA(n)&&fw(n)}function UA(n){for(const e of n.filters)if(e instanceof Ai)return!1;return!0}function ep(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+xa(n.value);if(pw(n))return n.filters.map(e=>ep(e)).join(",");{const e=n.filters.map(t=>ep(t)).join(",");return`${n.op}(${e})`}}function mw(n,e){return n instanceof Xt?function(r,s){return s instanceof Xt&&r.op===s.op&&r.field.isEqual(s.field)&&Pi(r.value,s.value)}(n,e):n instanceof Ai?function(r,s){return s instanceof Ai&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&mw(u,s.filters[d]),!0):!1}(n,e):void je()}function gw(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`}(n):n instanceof Ai?function(t){return t.op.toString()+" {"+t.getFilters().map(gw).join(" ,")+"}"}(n):"Filter"}class FA extends Xt{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class jA extends Xt{constructor(e,t){super(e,"in",t),this.keys=yw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zA extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=yw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class BA extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&Kl(t.arrayValue,this.value)}}class $A extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Kl(this.value.arrayValue,t)}}class HA extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Kl(this.value.arrayValue,t)}}class qA extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function Fv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new WA(n,e,t,r,s,a,u)}function Up(n){const e=He(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ep(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xa(r)).join(",")),e.ue=t}return e.ue}function Fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uv(n.startAt,e.startAt)&&Uv(n.endAt,e.endAt)}function tp(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KA(n,e,t,r,s,a,u,d){return new Dh(n,e,t,r,s,a,u,d)}function jp(n){return new Dh(n)}function jv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GA(n){return n.collectionGroup!==null}function Ol(n){const e=He(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Zt(wn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new oh(a,r))}),t.has(wn.keyField().canonicalString())||e.ce.push(new oh(wn.keyField(),r))}return e.ce}function Ii(n){const e=He(n);return e.le||(e.le=QA(e,Ol(n))),e.le}function QA(n,e){if(n.limitType==="F")return Fv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new oh(s.field,a)});const t=n.endAt?new sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sh(n.startAt.position,n.startAt.inclusive):null;return Fv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function np(n,e,t){return new Dh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return Fp(Ii(n),Ii(e))&&n.limitType===e.limitType}function vw(n){return`${Up(Ii(n))}|lt:${n.limitType}`}function va(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>gw(s)).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>xa(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>xa(s)).join(",")),`Target(${r})`}(Ii(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ol(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const m=Mv(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Ol(r),s)||r.endAt&&!function(u,d,f){const m=Mv(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Ol(r),s))}(n,e)}function YA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _w(n){return(e,t)=>{let r=!1;for(const s of Ol(n)){const a=XA(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function XA(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ka(f,m):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Ot(Le.comparator);function ts(){return JA}const ww=new Ot(Le.comparator);function xl(...n){let e=ww;for(const t of n)e=e.insert(t.key,t);return e}function Ew(n){let e=ww;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vo(){return Vl()}function Tw(){return Vl()}function Vl(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZA=new Ot(Le.comparator),ek=new Zt(Le.comparator);function tt(...n){let e=ek;for(const t of n)e=e.add(t);return e}const tk=new Zt(it);function nk(){return tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function Sw(n){return{integerValue:""+n}}function rk(n,e){return xA(e)?Sw(e):zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function ik(n,e,t){return n instanceof ah?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Vp(a)&&(a=bh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Gl?Rw(n,e):n instanceof Ql?Cw(n,e):function(s,a){const u=Iw(s,a),d=zv(u)+zv(s.Pe);return Zf(u)&&Zf(s.Pe)?Sw(d):zp(s.serializer,d)}(n,e)}function sk(n,e,t){return n instanceof Gl?Rw(n,e):n instanceof Ql?Cw(n,e):t}function Iw(n,e){return n instanceof lh?function(r){return Zf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ah extends Oh{}class Gl extends Oh{constructor(e){super(),this.elements=e}}function Rw(n,e){const t=Pw(e);for(const r of n.elements)t.some(s=>Pi(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends Oh{constructor(e){super(),this.elements=e}}function Cw(n,e){let t=Pw(e);for(const r of n.elements)t=t.filter(s=>!Pi(s,r));return{arrayValue:{values:t}}}class lh extends Oh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function zv(n){return Bt(n.integerValue||n.doubleValue)}function Pw(n){return Mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ok(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Gl&&s instanceof Gl||r instanceof Ql&&s instanceof Ql?Aa(r.elements,s.elements,Pi):r instanceof lh&&s instanceof lh?Pi(r.Pe,s.Pe):r instanceof ah&&s instanceof ah}(n.transform,e.transform)}class ak{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vh{}function Aw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bp(n.key,Ri.none()):new su(n.key,n.data,Ri.none());{const t=n.data,r=Cr.empty();let s=new Zt(wn.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new xo(n.key,r,new Jr(s.toArray()),Ri.none())}}function lk(n,e,t){n instanceof su?function(s,a,u){const d=s.value.clone(),f=$v(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xo?function(s,a,u){if(!$c(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=$v(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(kw(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,r){return n instanceof su?function(a,u,d,f){if(!$c(a.precondition,u))return d;const m=a.value.clone(),v=Hv(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof xo?function(a,u,d,f){if(!$c(a.precondition,u))return d;const m=Hv(a.fieldTransforms,f,u),v=u.data;return v.setAll(kw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,r):function(a,u,d){return $c(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function uk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Iw(r.transform,s||null);a!=null&&(t===null&&(t=Cr.empty()),t.set(r.field,a))}return t||null}function Bv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Aa(r,s,(a,u)=>ok(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends Vh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends Vh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $v(n,e,t){const r=new Map;gt(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,sk(u,d,t[s]))}return r}function Hv(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,ik(a,u,e))}return r}class Bp extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&lk(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=Aw(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,r)=>Bv(t,r))&&Aa(this.baseMutations,e.baseMutations,(t,r)=>Bv(t,r))}}class $p{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gt(e.mutations.length===r.length);let s=function(){return ZA}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new $p(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,at;function pk(n){switch(n){default:return je();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function xw(n){if(n===void 0)return es("GRPC error has no .code"),ce.UNKNOWN;switch(n){case qt.OK:return ce.OK;case qt.CANCELLED:return ce.CANCELLED;case qt.UNKNOWN:return ce.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ce.INTERNAL;case qt.UNAVAILABLE:return ce.UNAVAILABLE;case qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case qt.NOT_FOUND:return ce.NOT_FOUND;case qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case qt.ABORTED:return ce.ABORTED;case qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case qt.DATA_LOSS:return ce.DATA_LOSS;default:return je()}}(at=qt||(qt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new _o([4294967295,4294967295],0);function qv(n){const e=mk().encode(n),t=new tw;return t.update(e),new Uint8Array(t.digest())}function Wv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _o([t,r],0),new _o([s,a],0)]}class Hp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=_o.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(_o.fromNumber(r)));return s.compare(gk)===1&&(s=new _o([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=qv(e),[r,s]=Wv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hp(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=qv(e),[r,s]=Wv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mh($e.min(),s,new Ot(it),ts(),tt())}}class ou{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ou(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class bw{constructor(e,t){this.targetId=e,this.me=t}}class Dw{constructor(e,t,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Kv{constructor(){this.fe=0,this.ge=Gv(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),t=tt(),r=tt();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je()}}),new ou(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Gv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ts(),this.qe=Pc(),this.Qe=Pc(),this.Ke=new Ot(it)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(tp(a))if(r===0){const u=new Le(a.path);this.We(t,u,Dn.newNoDocument(u,$e.min()))}else gt(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=$s(r).toUint8Array()}catch(f){if(f instanceof cw)return Pa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hp(u,s,a)}catch(f){return Pa(f instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&tp(d.target)){const f=new Le(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Dn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=tt();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Mh(e,t,this.Ke,this.ke,r);return this.ke=ts(),this.qe=Pc(),this.Qe=Pc(),this.Ke=new Ot(it),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Kv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Zt(it),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(it),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Kv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Pc(){return new Ot(Le.comparator)}function Gv(){return new Ot(Le.comparator)}const vk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wk={and:"AND",or:"OR"};class Ek{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(n,e){return n.useProto3Json||xh(e)?e:{value:e}}function uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Tk(n,e){return uh(n,e.toTimestamp())}function Ci(n){return gt(!!n),$e.fromTimestamp(function(t){const r=Bs(t);return new Jt(r.seconds,r.nanos)}(n))}function qp(n,e){return ip(n,e).canonicalString()}function ip(n,e){const t=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Lw(n){const e=Dt.fromString(n);return gt(Fw(e)),e}function sp(n,e){return qp(n.databaseId,e.path)}function Df(n,e){const t=Lw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(Vw(t))}function Ow(n,e){return qp(n.databaseId,e)}function Sk(n){const e=Lw(n);return e.length===4?Dt.emptyPath():Vw(e)}function op(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vw(n){return gt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Qv(n,e,t){return{name:sp(n,e),fields:t.value.mapValue.fields}}function Ik(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(gt(v===void 0||typeof v=="string"),En.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),En.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?ce.UNKNOWN:xw(m.code);return new xe(v,m.message||"")}(u);t=new Dw(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Df(n,r.document.name),a=Ci(r.document.updateTime),u=r.document.createTime?Ci(r.document.createTime):$e.min(),d=new Cr({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(s,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Hc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Df(n,r.document),a=r.readTime?Ci(r.readTime):$e.min(),u=Dn.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Hc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Df(n,r.document),a=r.removedTargetIds||[];t=new Hc([],a,s,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new fk(s,a),d=r.targetId;t=new bw(d,u)}}return t}function Rk(n,e){let t;if(e instanceof su)t={update:Qv(n,e.key,e.value)};else if(e instanceof Bp)t={delete:sp(n,e.key)};else if(e instanceof xo)t={update:Qv(n,e.key,e.data),updateMask:Lk(e.fieldMask)};else{if(!(e instanceof ck))return je();t={verify:sp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Tk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je()}(n,e.precondition)),t}function Ck(n,e){return n&&n.length>0?(gt(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Ci(s.updateTime):Ci(a);return u.isEqual($e.min())&&(u=Ci(a)),new ak(u,s.transformResults||[])}(t,e))):[]}function Pk(n,e){return{documents:[Ow(n,e.path)]}}function Ak(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ow(n,s);const a=function(m){if(m.length!==0)return Uw(Ai.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:_a(E.field),direction:bk(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=rp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:s}}function kk(n){let e=Sk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gt(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(T){const E=Mw(T);return E instanceof Ai&&pw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(E=>function(C){return new oh(wa(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(T){let E;return E=typeof T=="object"?T.value:T,xh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(T){const E=!!T.before,w=T.values||[];return new sh(w,E)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const E=!T.before,w=T.values||[];return new sh(w,E)}(t.endAt)),KA(e,s,u,a,d,"F",f,m)}function xk(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wa(t.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wa(t.unaryFilter.field);return Xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wa(t.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wa(t.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(wa(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ai.create(t.compositeFilter.filters.map(r=>Mw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function bk(n){return vk[n]}function Dk(n){return _k[n]}function Nk(n){return wk[n]}function _a(n){return{fieldPath:n.canonicalString()}}function wa(n){return wn.fromServerFormat(n.fieldPath)}function Uw(n){return n instanceof Xt?function(t){if(t.op==="=="){if(Vv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(Ov(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(Ov(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:Dk(t.op),value:t.value}}}(n):n instanceof Ai?function(t){const r=t.getFilters().map(s=>Uw(s));return r.length===1?r[0]:{compositeFilter:{op:Nk(t.op),filters:r}}}(n):je()}function Lk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,s,a=$e.min(),u=$e.min(),d=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ht=e}}function Vk(n){const e=kk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.ln=new Uk}addToCollectionParentIndex(e,t){return this.ln.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(zs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Zt(Dt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ba(0)}static Qn(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv([n,e],[t,r]){const s=it(n,t);return s===0?it(e,r):s}class Fk{constructor(e){this.Gn=e,this.buffer=new Zt(Xv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Xv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ua(t)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ma(t)}await this.Yn(3e5)})}}class zk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(kh.oe);const r=new Fk(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Yv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,u=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(m=Date.now(),ya()<=Ze.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:T})))}}function Bk(n,e){return new zk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ml(r.mutation,s,Jr.empty(),Jt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const s=vo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=xl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=ts();const u=Vl(),d=function(){return Vl()}();return t.forEach((f,m)=>{const v=r.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof xo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ml(v.mutation,m,v.mutation.getFieldMask(),Jt.now())):u.set(m.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var T;return d.set(m,new Hk(v,(T=u.get(m))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Vl();let s=new Ot((u,d)=>u-d),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Jr.empty();v=d.applyToLocalView(m,v),r.set(f,v);const T=(s.get(d.batchId)||tt()).add(f);s=s.insert(d.batchId,T)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,T=Tw();v.forEach(E=>{if(!a.has(E)){const w=Aw(t.get(E),r.get(E));w!==null&&T.set(E,w),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return oe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):oe.resolve(vo());let d=-1,f=a;return u.next(m=>oe.forEach(m,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,tt())).next(v=>({batchId:d,changes:Ew(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let s=xl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=xl();return this.indexManager.getCollectionParents(e,a).next(d=>oe.forEach(d,f=>{const m=function(T,E){return new Dh(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(v=>{v.forEach((T,E)=>{u=u.insert(T,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Dn.newInvalidDocument(v)))});let d=xl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,m,Jr.empty(),Jt.now()),Lh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return oe.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ci(s.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Vk(s.bundledQuery),readTime:Ci(s.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.overlays=new Ot(Le.comparator),this.Er=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vo();return oe.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const s=vo(),a=t.length+1,u=new Le(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Ot((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=vo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=vo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=s)););return oe.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new dk(t,r));let a=this.Er.get(t);a===void 0&&(a=tt(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.dr=new Zt(ln.Ar),this.Rr=new Zt(ln.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new ln(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new ln(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Le(new Dt([])),r=new ln(t,e),s=new ln(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Le(new Dt([])),r=new ln(t,e),s=new ln(t,e+1);let a=tt();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ln(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Le.comparator(e.key,t.key)||it(e.br,t.br)}static Vr(e,t){return it(e.br,t.br)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Zt(ln.Ar)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new hk(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new ln(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const d=this.Cr(u.br);a.push(d)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(it);return t.forEach(s=>{const a=new ln(s,0),u=new ln(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),oe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const u=new ln(new Le(a),0);let d=new Zt(it);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.br)),!0)},u),oe.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){gt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return oe.forEach(t.mutations,s=>{const a=new ln(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new ln(t,0),s=this.vr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.Nr=e,this.docs=function(){return new Ot(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Dn.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ts();const u=t.path,d=new Le(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||CA(RA(v),r)<=0||(s.has(v.key)||Lh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,s){je()}Lr(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Xk(this)}getSize(e){return oe.resolve(this.size)}}class Xk extends $k{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.persistence=e,this.Br=new ko(t=>Up(t),Fp),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.kr=0,this.qr=new Wp,this.targetCount=0,this.Qr=ba.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),oe.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ba(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Un(t),oe.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),oe.waitFor(a).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new kh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Gk,this.referenceDelegate=e(this),this.Gr=new Jk(this),this.indexManager=new Mk,this.remoteDocumentCache=function(s){return new Yk(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Ok(t),this.jr=new Wk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new Qk(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const s=new Zk(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return oe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class Zk extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Zr=new Wp,this.Xr=null}static ei(e){return new Kp(e)}get ti(){if(this.Xr)return this.Xr;throw je()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ti,r=>{const s=Le.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,$e.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return oe.or([()=>oe.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ch{constructor(e,t){this.persistence=e,this.ri=new ko(r=>bA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Bk(this,t)}static ei(e,t){return new ch(e,t)}Hr(){}Jr(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return oe.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?oe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),oe.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zc(e.data.value)),t}ir(e,t,r){return oe.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=tt(),s=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Gp(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return OI()?8:kA(Nn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new ex;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(ya()<=Ze.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",va(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),oe.resolve()):(ya()<=Ze.DEBUG&&we("QueryEngine","Query:",va(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ya()<=Ze.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",va(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):oe.resolve())}Xi(e,t){if(jv(t))return oe.resolve(null);let r=Ii(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=np(t,null,"F"),r=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,d);return this.ss(t,m,u,f.readTime)?this.Xi(e,np(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,s){return jv(t)||s.isEqual($e.min())?oe.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?oe.resolve(null):(ya()<=Ze.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(t)),this.os(e,u,t,IA(s,-1)).next(d=>d))})}rs(e,t){let r=new Zt(_w(e));return t.forEach((s,a)=>{Lh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return ya()<=Ze.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",va(t)),this.Zi.getDocumentsMatchingQuery(e,t,zs.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new Ot(it),this.cs=new ko(a=>Up(a),Fp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function rx(n,e,t,r){return new nx(n,e,t,r)}async function zw(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=tt();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:d}))})})}function ix(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const T=m.batch,E=T.keys();let w=oe.resolve();return E.forEach(C=>{w=w.next(()=>v.getEntry(f,C)).next(N=>{const x=m.docVersions.get(C);gt(x!==null),N.version.compareTo(x)<0&&(T.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=tt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Bw(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function sx(n,e){const t=He(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((v,T)=>{const E=s.get(T);if(!E)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,T)));let w=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(En.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),s=s.insert(T,w),function(N,x,F){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,w,v)&&d.push(t.Gr.updateTargetData(a,w))});let f=ts(),m=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(ox(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.Es})),!r.isEqual($e.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return oe.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=s,a))}function ox(n,e,t){let r=tt(),s=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ts();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):we("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Is:u,Es:s}})}function ax(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lx(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,oe.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function ap(n,e,t){const r=He(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ua(u))throw u;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Jv(n,e,t){const r=He(n);let s=$e.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const T=He(f),E=T.cs.get(v);return E!==void 0?oe.resolve(T.us.get(E)):T.Gr.getTargetData(m,v)}(r,u,Ii(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:$e.min(),t?a:tt())).next(d=>(ux(r,YA(e),d),{documents:d,ds:a})))}function ux(n,e,t){let r=n.ls.get(e)||$e.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Zv{constructor(){this.activeTargetIds=nk()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cx{constructor(){this._o=new Zv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Zv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Nf(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class px extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const d=Nf(),f=this.No(t,r.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,u),this.Bo(t,f,m,s).then(v=>(we("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Pa("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,r,s,a,u,d){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=dx[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=Nf();return new Promise((u,d)=>{const f=new nw;f.setWithCredentials(!0),f.listenOnce(rw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jc.NO_ERROR:const v=f.getResponseJson();we(kn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case jc.TIMEOUT:we(kn,`RPC '${e}' ${a} timed out`),d(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const T=f.getStatus();if(we(kn,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const C=function(x){const F=x.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(F)>=0?F:ce.UNKNOWN}(w.status);d(new xe(C,w.message))}else d(new xe(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{we(kn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);we(kn,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}qo(e,t,r){const s=Nf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ow(),d=sw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");we(kn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const T=u.createWebChannel(v,f);let E=!1,w=!1;const C=new fx({Eo:x=>{w?we(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(E||(we(kn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),E=!0),we(kn,`RPC '${e}' stream ${s} sending:`,x),T.send(x))},Ao:()=>T.close()}),N=(x,F,te)=>{x.listen(F,ee=>{try{te(ee)}catch(ne){setTimeout(()=>{throw ne},0)}})};return N(T,kl.EventType.OPEN,()=>{w||(we(kn,`RPC '${e}' stream ${s} transport opened.`),C.So())}),N(T,kl.EventType.CLOSE,()=>{w||(w=!0,we(kn,`RPC '${e}' stream ${s} transport closed`),C.Do())}),N(T,kl.EventType.ERROR,x=>{w||(w=!0,Pa(kn,`RPC '${e}' stream ${s} transport errored:`,x),C.Do(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),N(T,kl.EventType.MESSAGE,x=>{var F;if(!w){const te=x.data[0];gt(!!te);const ee=te,ne=(ee==null?void 0:ee.error)||((F=ee[0])===null||F===void 0?void 0:F.error);if(ne){we(kn,`RPC '${e}' stream ${s} received error:`,ne);const M=ne.status;let ie=function(P){const D=qt[P];if(D!==void 0)return xw(D)}(M),A=ne.message;ie===void 0&&(ie=ce.INTERNAL,A="Unknown error status: "+M+" with message "+ne.message),w=!0,C.Do(new xe(ie,A)),T.close()}else we(kn,`RPC '${e}' stream ${s} received:`,te),C.vo(te)}}),N(d,iw.STAT_EVENT,x=>{x.stat===Xf.PROXY?we(kn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Xf.NOPROXY&&we(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){return new Ek(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,r,s,a,u,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $w(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new xe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mx extends Hw{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Ik(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Ci(u.readTime):$e.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=op(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=tp(f)?{documents:Pk(a,f)}:{query:Ak(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Nw(a,u.resumeToken);const m=rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){d.readTime=uh(a,u.snapshotVersion.toTimestamp());const m=rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=xk(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.c_(t)}}class gx extends Hw{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ck(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=op(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rk(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,ip(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(ce.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,ip(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ce.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class vx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(es(t),this.C_=!1):we("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{bo(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=He(f);m.k_.add(4),await au(m),m.K_.set("Unknown"),m.k_.delete(4),await Fh(m)}(this))})}),this.K_=new vx(r,s)}}async function Fh(n){if(bo(n))for(const e of n.q_)await e(!0)}async function au(n){for(const e of n.q_)await e(!1)}function qw(n,e){const t=He(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Jp(t)?Xp(t):Fa(t).s_()&&Yp(t,e))}function Qp(n,e){const t=He(n),r=Fa(t);t.B_.delete(e),r.s_()&&Ww(t,e),t.B_.size===0&&(r.s_()?r.a_():bo(t)&&t.K_.set("Unknown"))}function Yp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fa(n).V_(e)}function Ww(n,e){n.U_.xe(e),Fa(n).m_(e)}function Xp(n){n.U_=new yk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Fa(n).start(),n.K_.F_()}function Jp(n){return bo(n)&&!Fa(n).i_()&&n.B_.size>0}function bo(n){return He(n).k_.size===0}function Kw(n){n.U_=void 0}async function wx(n){n.K_.set("Online")}async function Ex(n){n.B_.forEach((e,t)=>{Yp(n,e)})}async function Tx(n,e){Kw(n),Jp(n)?(n.K_.O_(e),Xp(n)):n.K_.set("Unknown")}async function Sx(n,e,t){if(n.K_.set("Online"),e instanceof Dw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.B_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.B_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(n,r)}else if(e instanceof Hc?n.U_.$e(e):e instanceof bw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual($e.min()))try{const r=await Bw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(m);v&&a.B_.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),Ww(a,f);const T=new Os(v.target,f,m,v.sequenceNumber);Yp(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await hh(n,r)}}async function hh(n,e,t){if(!Ua(e))throw e;n.k_.add(1),await au(n),n.K_.set("Offline"),t||(t=()=>Bw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Fh(n)})}function Gw(n,e){return e().catch(t=>hh(n,t,e))}async function jh(n){const e=He(n),t=qs(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Ix(e);)try{const s=await ax(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,Rx(e,s)}catch(s){await hh(e,s)}Qw(e)&&Yw(e)}function Ix(n){return bo(n)&&n.L_.length<10}function Rx(n,e){n.L_.push(e);const t=qs(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Qw(n){return bo(n)&&!qs(n).i_()&&n.L_.length>0}function Yw(n){qs(n).start()}async function Cx(n){qs(n).w_()}async function Px(n){const e=qs(n);for(const t of n.L_)e.g_(t.mutations)}async function Ax(n,e,t){const r=n.L_.shift(),s=$p.from(r,e,t);await Gw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await jh(n)}async function kx(n,e){e&&qs(n).f_&&await async function(r,s){if(function(u){return pk(u)&&u!==ce.ABORTED}(s.code)){const a=r.L_.shift();qs(r).__(),await Gw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await jh(r)}}(n,e),Qw(n)&&Yw(n)}async function t_(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=bo(t);t.k_.add(3),await au(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Fh(t)}async function xx(n,e){const t=He(n);e?(t.k_.delete(2),await Fh(t)):e||(t.k_.add(2),await au(t),t.K_.set("Unknown"))}function Fa(n){return n.W_||(n.W_=function(t,r,s){const a=He(t);return a.b_(),new mx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:wx.bind(null,n),mo:Ex.bind(null,n),po:Tx.bind(null,n),R_:Sx.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Jp(n)?Xp(n):n.K_.set("Unknown")):(await n.W_.stop(),Kw(n))})),n.W_}function qs(n){return n.G_||(n.G_=function(t,r,s){const a=He(t);return a.b_(),new gx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Cx.bind(null,n),po:kx.bind(null,n),p_:Px.bind(null,n),y_:Ax.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await jh(n)):(await n.G_.stop(),n.L_.length>0&&(we("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Zp(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,e){if(es("AsyncQueue",`${e}: ${n}`),Ua(n))return new xe(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.z_=new Ot(Le.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):je():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Da{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Da(e,t,Ca.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Dx{constructor(){this.queries=r_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=He(t),a=s.queries;s.queries=r_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function r_(){return new ko(n=>vw(n),Nh)}async function Xw(n,e){const t=He(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new bx,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=em(u,`Initialization of query '${va(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&tm(t)}async function Jw(n,e){const t=He(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Nx(n,e){const t=He(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(r=!0);u.H_=s}}r&&tm(t)}function Lx(n,e,t){const r=He(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function tm(n){n.X_.forEach(e=>{e.next()})}var lp,i_;(i_=lp||(lp={})).na="default",i_.Cache="cache";class Zw{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.key=e}}class tE{constructor(e){this.key=e}}class Ox{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=tt(),this.mutatedKeys=tt(),this.Va=_w(e),this.ma=new Ca(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new n_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,T)=>{const E=s.get(v),w=Lh(this.query,T)?T:null,C=!!E&&this.mutatedKeys.has(E.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;E&&w?E.data.isEqual(w.data)?C!==N&&(r.track({type:3,doc:w}),x=!0):this.ya(E,w)||(r.track({type:2,doc:w}),x=!0,(f&&this.Va(w,f)>0||m&&this.Va(w,m)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),x=!0):E&&!w&&(r.track({type:1,doc:E}),x=!0,(f||m)&&(d=!0)),x&&(w?(u=u.add(w),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,T)=>function(w,C){const N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return N(w)-N(C)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new Da(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new n_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=tt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new tE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new eE(r))}),t}va(e){this.da=e.ds,this.Ra=tt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Da.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Vx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Mx{constructor(e){this.key=e,this.Fa=!1}}class Ux{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new ko(d=>vw(d),Nh),this.Oa=new Map,this.Na=new Set,this.La=new Ot(Le.comparator),this.Ba=new Map,this.ka=new Wp,this.qa={},this.Qa=new Map,this.Ka=ba.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Fx(n,e,t=!0){const r=aE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await nE(r,e,t,!0),s}async function jx(n,e){const t=aE(n);await nE(t,e,!0,!1)}async function nE(n,e,t,r){const s=await lx(n.localStore,Ii(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await zx(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&qw(n.remoteStore,s),d}async function zx(n,e,t,r,s){n.Ua=(T,E,w)=>async function(N,x,F,te){let ee=x.view.ga(F);ee.ss&&(ee=await Jv(N.localStore,x.query,!1).then(({documents:A})=>x.view.ga(A,ee)));const ne=te&&te.targetChanges.get(x.targetId),M=te&&te.targetMismatches.get(x.targetId)!=null,ie=x.view.applyChanges(ee,N.isPrimaryClient,ne,M);return o_(N,x.targetId,ie.ba),ie.snapshot}(n,T,E,w);const a=await Jv(n.localStore,e,!0),u=new Ox(e,a.ds),d=u.ga(a.documents),f=ou.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);o_(n,t,m.ba);const v=new Vx(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function Bx(n,e,t){const r=He(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Nh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ap(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Qp(r.remoteStore,s.targetId),up(r,s.targetId)}).catch(Ma)):(up(r,s.targetId),await ap(r.localStore,s.targetId,!0))}async function $x(n,e){const t=He(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qp(t.remoteStore,r.targetId))}async function Hx(n,e,t){const r=Xx(n);try{const s=await function(u,d){const f=He(u),m=Jt.now(),v=d.reduce((w,C)=>w.add(C.key),tt());let T,E;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=ts(),N=tt();return f.hs.getEntries(w,v).next(x=>{C=x,C.forEach((F,te)=>{te.isValidDocument()||(N=N.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,C)).next(x=>{T=x;const F=[];for(const te of d){const ee=uk(te,T.get(te.key).overlayedDocument);ee!=null&&F.push(new xo(te.key,ee,hw(ee.value.mapValue),Ri.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,F,d)}).next(x=>{E=x;const F=x.applyToLocalDocumentSet(T,N);return f.documentOverlayCache.saveOverlays(w,x.batchId,F)})}).then(()=>({batchId:E.batchId,changes:Ew(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let m=u.qa[u.currentUser.toKey()];m||(m=new Ot(it)),m=m.insert(d,f),u.qa[u.currentUser.toKey()]=m}(r,s.batchId,t),await lu(r,s.changes),await jh(r.remoteStore)}catch(s){const a=em(s,"Failed to persist write");t.reject(a)}}async function rE(n,e){const t=He(n);try{const r=await sx(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?gt(u.Fa):s.removedDocuments.size>0&&(gt(u.Fa),u.Fa=!1))}),await lu(t,r,e)}catch(r){await Ma(r)}}function s_(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=He(u);f.onlineState=d;let m=!1;f.queries.forEach((v,T)=>{for(const E of T.J_)E.ea(d)&&(m=!0)}),m&&tm(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qx(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new Ot(Le.comparator);u=u.insert(a,Dn.newNoDocument(a,$e.min()));const d=tt().add(a),f=new Mh($e.min(),new Map,new Ot(it),u,d);await rE(r,f),r.La=r.La.remove(a),r.Ba.delete(e),nm(r)}else await ap(r.localStore,e,!1).then(()=>up(r,e,t)).catch(Ma)}async function Wx(n,e){const t=He(n),r=e.batch.batchId;try{const s=await ix(t.localStore,e);sE(t,r,null),iE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lu(t,s)}catch(s){await Ma(s)}}async function Kx(n,e,t){const r=He(n);try{const s=await function(u,d){const f=He(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(T=>(gt(T!==null),v=T.keys(),f.mutationQueue.removeMutationBatch(m,T))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);sE(r,e,t),iE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lu(r,s)}catch(s){await Ma(s)}}function iE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function sE(n,e,t){const r=He(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||oE(n,r)})}function oE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Qp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),nm(n))}function o_(n,e,t){for(const r of t)r instanceof eE?(n.ka.addReference(r.key,e),Gx(n,r)):r instanceof tE?(we("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||oE(n,r.key)):je()}function Gx(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(we("SyncEngine","New document in limbo: "+t),n.Na.add(r),nm(n))}function nm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Le(Dt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new Mx(t)),n.La=n.La.insert(t,r),qw(n.remoteStore,new Os(Ii(jp(t.path)),r,"TargetPurposeLimboResolution",kh.oe))}}async function lu(n,e,t){const r=He(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const T=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(m){s.push(m);const T=Gp.zi(f.targetId,m);a.push(T)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,m){const v=He(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>oe.forEach(m,E=>oe.forEach(E.Wi,w=>v.persistence.referenceDelegate.addReference(T,E.targetId,w)).next(()=>oe.forEach(E.Gi,w=>v.persistence.referenceDelegate.removeReference(T,E.targetId,w)))))}catch(T){if(!Ua(T))throw T;we("LocalStore","Failed to update sequence numbers: "+T)}for(const T of m){const E=T.targetId;if(!T.fromCache){const w=v.us.get(E),C=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(C);v.us=v.us.insert(E,N)}}}(r.localStore,a))}async function Qx(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await zw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new xe(ce.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(t,r.Ts)}}function Yx(n,e){const t=He(n),r=t.Ba.get(e);if(r&&r.Fa)return tt().add(r.key);{let s=tt();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function aE(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qx.bind(null,e),e.Ma.R_=Nx.bind(null,e.eventManager),e.Ma.Wa=Lx.bind(null,e.eventManager),e}function Xx(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kx.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return rx(this.persistence,new tx,e.initialUser,this.serializer)}ja(e){return new jw(Kp.ei,this.serializer)}za(e){return new cx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class Jx extends dh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){gt(this.persistence.referenceDelegate instanceof ch);const r=this.persistence.referenceDelegate.garbageCollector;return new jk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new jw(r=>ch.ei(r,t),this.serializer)}}class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qx.bind(null,this.syncEngine),await xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dx}()}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),r=function(a){return new px(a)}(e.databaseInfo);return function(a,u,d,f){return new yx(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new _x(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>s_(this.syncEngine,t,0),function(){return e_.p()?new e_:new hx}())}createSyncEngine(e,t){return function(s,a,u,d,f,m,v){const T=new Ux(s,a,u,d,f,m);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=He(s);we("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await au(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{we("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(we("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=em(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function a_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eb(n);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>t_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>t_(e.remoteStore,s)),n._onlineComponents=e}async function eb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Pa("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new dh)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Of(n,new Jx(void 0));return n._offlineComponents}async function uE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await a_(n,n._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await a_(n,new cp))),n._onlineComponents}function tb(n){return uE(n).then(e=>e.syncEngine)}async function cE(n){const e=await uE(n),t=e.eventManager;return t.onListen=Fx.bind(null,e.syncEngine),t.onUnlisten=Bx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$x.bind(null,e.syncEngine),t}function nb(n,e,t={}){const r=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new lE({next:E=>{v.eu(),u.enqueueAndForget(()=>Jw(a,T));const w=E.docs.has(d);!w&&E.fromCache?m.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?m.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),T=new Zw(jp(d.path),v,{includeMetadataChanges:!0,ua:!0});return Xw(a,T)}(await cE(n),n.asyncQueue,e,t,r)),r.promise}function rb(n,e,t={}){const r=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new lE({next:E=>{v.eu(),u.enqueueAndForget(()=>Jw(a,T)),E.fromCache&&f.source==="server"?m.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),T=new Zw(d,v,{includeMetadataChanges:!0,ua:!0});return Xw(a,T)}(await cE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n,e,t){if(!t)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ib(n,e,t,r){if(e===!0&&r===!0)throw new xe(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u_(n){if(!Le.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c_(n){if(Le.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function Ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rm(n);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mA;switch(r.type){case"firstParty":return new _A(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=l_.get(t);r&&(we("ComponentProvider","Removing Datastore"),l_.delete(t),r.terminate())}(this),Promise.resolve()}}function sb(n,e,t,r={}){var s;const a=(n=Ws(n,zh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=bn.MOCK_USER;else{d=d0(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bn(m)}n._authCredentials=new gA(new aw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Us extends Bh{constructor(e,t,r){super(e,t,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Le(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function fa(n,e,...t){if(n=cn(n),dE("collection","path",e),n instanceof zh){const r=Dt.fromString(e,...t);return c_(r),new Us(n,null,r)}{if(!(n instanceof pr||n instanceof Us))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return c_(r),new Us(n.firestore,null,r)}}function zt(n,e,...t){if(n=cn(n),arguments.length===1&&(e=lw.newId()),dE("doc","path",e),n instanceof zh){const r=Dt.fromString(e,...t);return u_(r),new pr(n,null,new Le(r))}{if(!(n instanceof pr||n instanceof Us))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return u_(r),new pr(n.firestore,n instanceof Us?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $w(this,"async_queue_retry"),this.fu=()=>{const r=Lf();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Yi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ua(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw es("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Zp.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&je()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class uu extends zh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new d_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function ob(n,e){const t=typeof n=="object"?n:Rp(),r=typeof n=="string"?n:"(default)",s=Rh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=u0("firestore");a&&sb(s,...a)}return s}function im(n){if(n._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ab(n),n._firestoreClient}function ab(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,m,v){return new LA(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,hE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Zx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(En.fromBase64String(e))}catch(t){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Na(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=/^__.*__$/;class ub{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}function pE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class lm{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(pE(this.Mu)&&lb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class cb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Uh(e)}$u(e,t,r,s=!1){return new lm({Mu:e,methodName:t,Ku:r,path:wn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hb(n){const e=n._freezeSettings(),t=Uh(n._databaseId);return new cb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function db(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);vE("Data must be an object, but it was:",u,r);const d=gE(r,u);let f,m;if(a.merge)f=new Jr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const T of a.mergeFields){const E=fb(e,T,t);if(!u.contains(E))throw new xe(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);mb(v,E)||v.push(E)}f=new Jr(v),m=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,m=u.fieldTransforms;return new ub(new Cr(d),f,m)}function mE(n,e){if(yE(n=cn(n)))return vE("Unsupported field value:",e,n),gE(n,e);if(n instanceof fE)return function(r,s){if(!pE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=mE(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:uh(s.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,a)}}if(r instanceof om)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Na)return{bytesValue:Nw(s.serializer,r._byteString)};if(r instanceof pr){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof am)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return zp(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${rm(r)}`)}(n,e)}function gE(n,e){const t={};return uw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,(r,s)=>{const a=mE(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function yE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof om||n instanceof Na||n instanceof pr||n instanceof fE||n instanceof am)}function vE(n,e,t){if(!yE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=rm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function fb(n,e,t){if((e=cn(e))instanceof sm)return e._internalPath;if(typeof e=="string")return _E(n,e);throw fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const pb=new RegExp("[~\\*/\\[\\]]");function _E(n,e,t){if(e.search(pb)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sm(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new xe(ce.INVALID_ARGUMENT,d+n+f)}function mb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gb extends wE{data(){return super.data()}}function EE(n,e){return typeof e=="string"?_E(n,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vb{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ao(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Bt(u.doubleValue));return new am(a)}convertGeoPoint(e){return new om(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dt.fromString(e);gt(Fw(r));const s=new Wl(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return s.isEqual(t)||es(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TE extends wE{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(EE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qc extends TE{data(e={}){return super.data(e)}}class wb{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qc(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new qc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new qc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Dl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:Eb(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Eb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n){n=Ws(n,pr);const e=Ws(n.firestore,uu);return nb(im(e),n._key).then(t=>Sb(e,n,t))}class SE extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function Sl(n){n=Ws(n,Bh);const e=Ws(n.firestore,uu),t=im(e),r=new SE(e);return yb(n._query),rb(t,n._query).then(s=>new wb(e,r,n,s))}function Zn(n,e,t){n=Ws(n,pr);const r=Ws(n.firestore,uu),s=_b(n.converter,e,t);return IE(r,[db(hb(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ri.none())])}function Tb(n){return IE(Ws(n.firestore,uu),[new Bp(n._key,Ri.none())])}function IE(n,e){return function(r,s){const a=new Yi;return r.asyncQueue.enqueueAndForget(async()=>Hx(await tb(r),s,a)),a.promise}(im(n),e)}function Sb(n,e,t){const r=t.docs.get(e._key),s=new SE(n);return new TE(n,s,e._key,r,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Va=s})(Po),Eo(new js("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new uu(new yA(r.getProvider("auth-internal")),new EA(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(m.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ei(kv,"4.7.5",e),Ei(kv,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebasestorage.googleapis.com",CE="storageBucket",Ib=2*60*1e3,Rb=10*60*1e3,Cb=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends ki{constructor(e,t,r=0){super(Vf(e),`Firebase Storage: ${t} (${Vf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Vf(n){return"storage/"+n}function um(){const n="An unknown error occurred, please check the error payload for server response.";return new Vt(Pt.UNKNOWN,n)}function Pb(n){return new Vt(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Ab(n){return new Vt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kb(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Pt.UNAUTHENTICATED,n)}function xb(){return new Vt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bb(n){return new Vt(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function PE(){return new Vt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AE(){return new Vt(Pt.CANCELED,"User canceled the upload/download.")}function Db(n){return new Vt(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function Nb(n){return new Vt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Lb(){return new Vt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CE+"' property when initializing the app?")}function kE(){return new Vt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ob(){return new Vt(Pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Vb(){return new Vt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mb(n){return new Vt(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hp(n){return new Vt(Pt.INVALID_ARGUMENT,n)}function xE(){return new Vt(Pt.APP_DELETED,"The Firebase app was deleted.")}function Ub(n){return new Vt(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(n,e){return new Vt(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Il(n){throw new Vt(Pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(r.path==="")return r;throw Nb(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},N=t===RE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",F=new RegExp(`^https?://${N}/${s}/${x}`,"i"),ee=[{regex:d,indices:f,postModify:a},{regex:w,indices:C,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let ne=0;ne<ee.length;ne++){const M=ee[ne],ie=M.regex.exec(e);if(ie){const A=ie[M.indices.bucket];let R=ie[M.indices.path];R||(R=""),r=new fr(A,R),M.postModify(r);break}}if(r==null)throw Db(e);return r}}class Fb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function v(...x){m||(m=!0,e.apply(null,x))}function T(x){s=setTimeout(()=>{s=null,n(w,f())},x)}function E(){a&&clearTimeout(a)}function w(x,...F){if(m){E();return}if(x){E(),v.call(null,x,...F);return}if(f()||u){E(),v.call(null,x,...F);return}r<64&&(r*=2);let ee;d===1?(d=2,ee=0):ee=(r+Math.random())*1e3,T(ee)}let C=!1;function N(x){C||(C=!0,E(),!m&&(s!==null?(x||(d=2),clearTimeout(s),T(0)):x||(d=1)))}return T(0),a=setTimeout(()=>{u=!0,N(!0)},t),N}function zb(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(n){return n!==void 0}function $b(n){return typeof n=="function"}function Hb(n){return typeof n=="object"&&!Array.isArray(n)}function $h(n){return typeof n=="string"||n instanceof String}function f_(n){return cm()&&n instanceof Blob}function cm(){return typeof Blob<"u"}function p_(n,e,t,r){if(r<e)throw hp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw hp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bE(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var wo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(wo||(wo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,r,s,a,u,d,f,m,v,T,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=T,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,C)=>{this.resolve_=w,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===wo.NO_ERROR,f=a.getStatus();if(!d||DE(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===wo.ABORT;r(!1,new kc(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new kc(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Bb(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=um();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?xE():AE();u(f)}else{const f=PE();u(f)}};this.canceled_?t(!1,new kc(!1,null,!0)):this.backoffId_=jb(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Wb(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Kb(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Gb(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Qb(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Yb(n,e,t,r,s,a,u=!0){const d=bE(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return Gb(m,e),Wb(m,t),Kb(m,a),Qb(m,r),new qb(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jb(...n){const e=Xb();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(cm())return new Blob(n);throw new Vt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Zb(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){if(typeof atob>"u")throw Mb("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mf{constructor(e,t){this.data=e,this.contentType=t||null}}function tD(n,e){switch(n){case vi.RAW:return new Mf(NE(e));case vi.BASE64:case vi.BASE64URL:return new Mf(LE(n,e));case vi.DATA_URL:return new Mf(rD(e),iD(e))}throw um()}function NE(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function nD(n){let e;try{e=decodeURIComponent(n)}catch{throw Ul(vi.DATA_URL,"Malformed data URL.")}return NE(e)}function LE(n,e){switch(n){case vi.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ul(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case vi.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ul(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=eD(e)}catch(s){throw s.message.includes("polyfill")?s:Ul(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class OE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ul(vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=sD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function rD(n){const e=new OE(n);return e.base64?LE(vi.BASE64,e.rest):nD(e.rest)}function iD(n){return new OE(n).contentType}function sD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){let r=0,s="";f_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(f_(this.data_)){const r=this.data_,s=Zb(r,e,t);return s===null?null:new Ls(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ls(r,!0)}}static getBlob(...e){if(cm()){const t=e.map(r=>r instanceof Ls?r.data_:r);return new Ls(Jb.apply(null,t))}else{const t=e.map(u=>$h(u)?tD(vi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new Ls(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n){let e;try{e=JSON.parse(n)}catch{return null}return Hb(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function ME(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n,e){return e}class Bn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||lD}}let xc=null;function uD(n){return!$h(n)||n.length<2?n:ME(n)}function UE(){if(xc)return xc;const n=[];n.push(new Bn("bucket")),n.push(new Bn("generation")),n.push(new Bn("metageneration")),n.push(new Bn("name","fullPath",!0));function e(a,u){return uD(u)}const t=new Bn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new Bn("size");return s.xform=r,n.push(s),n.push(new Bn("timeCreated")),n.push(new Bn("updated")),n.push(new Bn("md5Hash",null,!0)),n.push(new Bn("cacheControl",null,!0)),n.push(new Bn("contentDisposition",null,!0)),n.push(new Bn("contentEncoding",null,!0)),n.push(new Bn("contentLanguage",null,!0)),n.push(new Bn("contentType",null,!0)),n.push(new Bn("metadata","customMetadata",!0)),xc=n,xc}function cD(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new fr(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function hD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return cD(r,n),r}function FE(n,e,t){const r=VE(e);return r===null?null:hD(n,r,t)}function dD(n,e,t,r){const s=VE(e);if(s===null||!$h(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,T=n.fullPath,E="/b/"+u(v)+"/o/"+u(T),w=cu(E,t,r),C=bE({alt:"media",token:m});return w+C})[0]}function jE(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ja{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(n){if(!n)throw um()}function hm(n,e){function t(r,s){const a=FE(n,s,e);return Xi(a!==null),a}return t}function fD(n,e){function t(r,s){const a=FE(n,s,e);return Xi(a!==null),dD(a,s,n.host,n._protocol)}return t}function hu(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=xb():s=kb():t.getStatus()===402?s=Ab(n.bucket):t.getStatus()===403?s=bb(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function zE(n){const e=hu(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=Pb(n.path)),a.serverResponse=s.serverResponse,a}return t}function pD(n,e,t){const r=e.fullServerUrl(),s=cu(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new ja(s,a,hm(n,t),u);return d.errorHandler=zE(e),d}function mD(n,e,t){const r=e.fullServerUrl(),s=cu(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new ja(s,a,fD(n,t),u);return d.errorHandler=zE(e),d}function gD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function BE(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=gD(null,e)),r}function yD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let ee="";for(let ne=0;ne<2;ne++)ee=ee+Math.random().toString().slice(2);return ee}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=BE(e,r,s),v=jE(m,t),T="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+f+"--",w=Ls.getBlob(T,r,E);if(w===null)throw kE();const C={name:m.fullPath},N=cu(a,n.host,n._protocol),x="POST",F=n.maxUploadRetryTime,te=new ja(N,x,hm(n,t),F);return te.urlParams=C,te.headers=u,te.body=w.uploadData(),te.errorHandler=hu(e),te}class ph{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function dm(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xi(!1)}return Xi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function vD(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u=BE(e,r,s),d={name:u.fullPath},f=cu(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=jE(u,t),E=n.maxUploadRetryTime;function w(N){dm(N);let x;try{x=N.getResponseHeader("X-Goog-Upload-URL")}catch{Xi(!1)}return Xi($h(x)),x}const C=new ja(f,m,w,E);return C.urlParams=d,C.headers=v,C.body=T,C.errorHandler=hu(e),C}function _D(n,e,t,r){const s={"X-Goog-Upload-Command":"query"};function a(m){const v=dm(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xi(!1)}T||Xi(!1);const E=Number(T);return Xi(!isNaN(E)),new ph(E,r.size(),v==="final")}const u="POST",d=n.maxUploadRetryTime,f=new ja(t,u,a,d);return f.headers=s,f.errorHandler=hu(e),f}const m_=256*1024;function wD(n,e,t,r,s,a,u,d){const f=new ph(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Ob();const m=f.total-f.current;let v=m;s>0&&(v=Math.min(v,s));const T=f.current,E=T+v;let w="";v===0?w="finalize":m===v?w="upload, finalize":w="upload";const C={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${f.current}`},N=r.slice(T,E);if(N===null)throw kE();function x(ne,M){const ie=dm(ne,["active","final"]),A=f.current+v,R=r.size();let P;return ie==="final"?P=hm(e,a)(ne,M):P=null,new ph(A,R,ie==="final",P)}const F="POST",te=e.maxUploadRetryTime,ee=new ja(t,F,x,te);return ee.headers=C,ee.body=N.uploadData(),ee.progressCallback=d||null,ee.errorHandler=hu(n),ee}const tr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Uf(n){switch(n){case"running":case"pausing":case"canceling":return tr.RUNNING;case"paused":return tr.PAUSED;case"success":return tr.SUCCESS;case"canceled":return tr.CANCELED;case"error":return tr.ERROR;default:return tr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,r){if($b(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class TD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SD extends TD{initXhr(){this.xhr_.responseType="text"}}function Ea(){return new SD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=UE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(DE(s.status,[]))if(a)s=PE();else{this.sleepTime=Math.max(this.sleepTime*2,Cb),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Pt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=vD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ea,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=_D(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,Ea,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=m_*this._chunkMultiplier,t=new ph(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let u;try{u=wD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const d=this._ref.storage._makeRequest(u,Ea,s,a,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){m_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=pD(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ea,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=yD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ea,e,t);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=AE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Uf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const a=new ED(t||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Uf(this._state)){case tr.SUCCESS:pa(this._resolve.bind(null,this.snapshot))();break;case tr.CANCELED:case tr.ERROR:const t=this._reject;pa(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Uf(this._state)){case tr.RUNNING:case tr.PAUSED:e.next&&pa(e.next.bind(e,this.snapshot))();break;case tr.SUCCESS:e.complete&&pa(e.complete.bind(e))();break;case tr.CANCELED:case tr.ERROR:e.error&&pa(e.error.bind(e,this._error))();break;default:e.error&&pa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ro(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ME(this._location.path)}get storage(){return this._service}get parent(){const e=oD(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new Ro(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ub(e)}}function RD(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ID(n,new Ls(e),t)}function CD(n){n._throwIfRoot("getDownloadURL");const e=mD(n.storage,n._location,UE());return n.storage.makeRequestWithTokens(e,Ea).then(t=>{if(t===null)throw Vb();return t})}function PD(n,e){const t=aD(n._location.path,e),r=new fr(n._location.bucket,t);return new Ro(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n){return/^[A-Za-z]+:\/\//.test(n)}function kD(n,e){return new Ro(n,e)}function $E(n,e){if(n instanceof fm){const t=n;if(t._bucket==null)throw Lb();const r=new Ro(t,t._bucket);return e!=null?$E(r,e):r}else return e!==void 0?PD(n,e):n}function xD(n,e){if(e&&AD(e)){if(n instanceof fm)return kD(n,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return $E(n,e)}function g_(n,e){const t=e==null?void 0:e[CE];return t==null?null:fr.makeFromBucketSpec(t,n)}function bD(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:d0(s,n.app.options.projectId))}class fm{constructor(e,t,r,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=RE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ib,this._maxUploadRetryTime=Rb,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=g_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=g_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new Fb(xE());{const u=Yb(e,this._appId,r,s,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const y_="@firebase/storage",v_="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="storage";function kL(n,e,t){return n=cn(n),RD(n,e,t)}function xL(n){return n=cn(n),CD(n)}function bL(n,e){return n=cn(n),xD(n,e)}function DD(n=Rp(),e){n=cn(n);const r=Rh(n,HE).getImmediate({identifier:e}),s=u0("storage");return s&&ND(r,...s),r}function ND(n,e,t,r={}){bD(n,e,t,r)}function LD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new fm(t,r,s,e,Po)}function OD(){Eo(new js(HE,LD,"PUBLIC").setMultipleInstances(!0)),Ei(y_,v_,""),Ei(y_,v_,"esm2017")}OD();const VD={apiKey:"AIzaSyAC6-8tLzhHXZtc9CFWb9z1F8frxmkhXzs",authDomain:"nogoomel-deira.firebaseapp.com",projectId:"nogoomel-deira",storageBucket:"nogoomel-deira.firebasestorage.app",messagingSenderId:"979856240601",appId:"1:979856240601:web:b09e39966b175d466173c8",measurementId:"G-J0KXRYXTY9"},pm=m0(VD),Tt=ob(pm),go=ew(pm),DL=DD(pm),qE=q.createContext(),MD=({children:n})=>{const[e,t]=q.useState(null);q.useState({});const[r,s]=q.useState(!0),a="https://firebasestorage.googleapis.com/v0/b/nogoomel-deira.firebasestorage.app/o/Website%20Images%2FAvatar%2Fman.png?alt=media&token=dc8c1abd-015b-4ead-8d43-aa6abf80a5e9",u=()=>!!e,d=async(x,F,te,ee)=>{try{const ne=await XC(go,x,F),M=ne.user.uid,ie=ne.user;return ee==="star"?(await Zn(zt(Tt,"users",ie.uid),{email:ie.email,...te,createdAt:new Date().toISOString(),balance:50,role:ee,verified:!1,verifiedBy:"",ads:[],updatedAt:new Date().toISOString(),address:"",profilePicture:a,bio:"",dateOfBirth:"",gender:"",preferredLanguage:"",lastLogin:"",accountStatus:"",referralCode:"0",referredBy:"0",permissions:[],Uid:M}),{success:!0}):(await Zn(zt(Tt,"users",ie.uid),{email:ie.email,Uid:M,...te,createdAt:new Date,role:ee,verified:!1,verifiedBy:"",profilePicture:a,bio:"",permissions:[],lastSeen:new Date}),await go.signOut(),window.location.href="/login",{success:!0})}catch(ne){return console.error("Error signing up or saving user data:",ne.message),{success:!1,error:ne.message}}},f=async(x,F)=>{console.log(x,F);try{return await Zn(zt(Tt,"users",x),F,{merge:!0}),{success:!0}}catch(te){return console.error("Error updating user data:",te.message),{success:!1,error:te.message}}},m=(x,F)=>JC(go,x,F),v=()=>tP(go),T=()=>e?e.uid:"noUser",E=()=>e?e.email.split("@")[0]:"noUser",w=()=>e?e.email:"noUser",C=async()=>{if(!e)return null;const x=zt(Tt,"users",e.uid);return(await gi(x)).data()};q.useEffect(()=>$0(go,F=>{t(F),s(!1)}),[]);const N=async x=>{const F=ew();try{return await YC(F,x),{success:!0}}catch(te){return console.error("Error resetting password:",te.message),{success:!1,error:te.message}}};return Ke.jsx(qE.Provider,{value:{currentUser:e,signUp:d,logOut:v,updateUser:f,login:m,getUserId:T,getUserEmail:E,getUserFullEmail:w,IsLogedIn:u,resetPassword:N,getUserData:C},children:!r&&n})},UD=()=>q.useContext(qE),FD=({children:n,requiredRoles:e})=>{const{getUserData:t}=UD(),r=ns(),[s,a]=q.useState(null),[u,d]=q.useState(!0),f=q.useCallback(async()=>{try{const v=await t();a((v==null?void 0:v.role)||"guest")}catch(v){console.error("Error fetching user data:",v)}finally{d(!1)}},[t]);if(q.useEffect(()=>{f()},[f]),u)return Ke.jsx("div",{children:"Loading..."});const m=e??wI(r.pathname);return _I(s||"guest",m)?Ke.jsx(Ke.Fragment,{children:n}):Ke.jsx(I1,{to:"/unauthorized",state:{from:r},replace:!0})},jD=le.lazy(()=>At(()=>import("./HomePage-DlMzk1B2.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),zD=le.lazy(()=>At(()=>import("./LoginPage-B9VpfwU-.js"),__vite__mapDeps([7,8,5,4]))),BD=le.lazy(()=>At(()=>import("./AdminLoginPage-BAx5EpmY.js"),__vite__mapDeps([9,8,5]))),$D=le.lazy(()=>At(()=>import("./ForgetPasswordPage-DC263OwY.js"),__vite__mapDeps([10,8,5]))),HD=le.lazy(()=>At(()=>import("./SignUp-Ba6bC6z-.js"),__vite__mapDeps([11,8,12,13,5,3,14,15]))),__=le.lazy(()=>At(()=>import("./SignUpStatus-Bm5cZU8-.js"),[])),qD=le.lazy(()=>At(()=>import("./Profile-BSNruH06.js"),__vite__mapDeps([16,12,13,17,18,8,19,20,21,14,3,22,23,24]))),WD=le.lazy(()=>At(()=>import("./DashboardHome-DlxsSfpL.js"),__vite__mapDeps([25,12,13]))),KD=le.lazy(()=>At(()=>import("./DashboardLayout-DBzvetrx.js"),__vite__mapDeps([26,13,12,24,23]))),GD=le.lazy(()=>At(()=>import("./Users-BA3EmET6.js"),__vite__mapDeps([27,8,3,14,28,2,17,18,29,20,30,31,32,13]))),QD=le.lazy(()=>At(()=>import("./UsersBalance-DFQYojc4.js"),__vite__mapDeps([33,29,20,18,30,31,8,14,28,2,32,3,17]))),YD=le.lazy(()=>At(()=>import("./Apartments-CVqrnw4T.js"),__vite__mapDeps([34,12,13]))),XD=le.lazy(()=>At(()=>import("./NotificationsPanel-BJXOOZgb.js"),__vite__mapDeps([35,22,21,18,17]))),JD=le.lazy(()=>At(()=>import("./SendNotification-Ded7x1vL.js"),__vite__mapDeps([36,37,8,3]))),ZD=le.lazy(()=>At(()=>import("./CreateAd-BJOVfJDF.js"),__vite__mapDeps([38,8,15,3,37,14]))),eN=le.lazy(()=>At(()=>import("./Employees-DlBN-t36.js"),__vite__mapDeps([39,8,28,2,14,40,30,18,20,21,41]))),tN=le.lazy(()=>At(()=>import("./AdsList-DT8Vax6C.js"),__vite__mapDeps([42,3,12,13,17,18,22,21,43,20,8,19,31,30,40]))),nN=le.lazy(()=>At(()=>import("./Privacy-CMMUEABY.js"),__vite__mapDeps([44,8,14,28,2]))),rN=le.lazy(()=>At(()=>import("./WebsiteData-COQ4fVjh.js"),__vite__mapDeps([45,8]))),iN=le.lazy(()=>At(()=>import("./Contact-CSqrKkz-.js"),__vite__mapDeps([46,8,28,2,14,32]))),w_=le.lazy(()=>At(()=>import("./Unauthorized-CicllGKs.js"),[])),sN=le.lazy(()=>At(()=>import("./PrivacyPolicy-DL_PWo1h.js"),__vite__mapDeps([47,1,2,3,4,5]))),oN=le.lazy(()=>At(()=>import("./ContactPage-DFKrSm74.js"),__vite__mapDeps([48,12,13]))),aN=le.lazy(()=>At(()=>import("./AdListPage-BZFHfh_0.js"),__vite__mapDeps([49,1,2,3,4,5]))),lN=le.lazy(()=>At(()=>import("./AdDetailPage-DPpOQWRk.js"),__vite__mapDeps([50,21,18,17,22,43,20,51,52]))),Yr=n=>Ke.jsx(q.Suspense,{fallback:Ke.jsx(gI,{}),children:Ke.jsx(n,{})}),xn=(n,e)=>Ke.jsx(FD,{requiredRoles:e,children:Yr(n)}),uN=Q1([{path:"/",element:Yr(jD),errorElement:Ke.jsx(Ir,{})},{path:"/contact",element:Yr(oN),errorElement:Ke.jsx(Ir,{})},{path:"/ads",children:[{index:!0,element:xn(aN,["admin"])},{path:":id",element:xn(lN,["star"])}]},{path:"/login",element:Yr(zD),errorElement:Ke.jsx(Ir,{})},{path:"/admin-login",element:Yr(BD),errorElement:Ke.jsx(Ir,{})},{path:"/forget-password",element:Yr($D),errorElement:Ke.jsx(Ir,{})},{path:"/signup",element:Yr(HD),errorElement:Ke.jsx(Ir,{})},{path:"/Status",element:Yr(__),errorElement:Ke.jsx(Ir,{})},{path:"/Status",element:Yr(__),errorElement:Ke.jsx(Ir,{})},{path:"/privacy-policy",element:Yr(sN),errorElement:Ke.jsx(Ir,{})},{path:"/profile",element:xn(qD,["star"]),errorElement:Ke.jsx(Ir,{})},{path:"/dashboard",element:xn(KD,["admin","editor","viewer"]),errorElement:Ke.jsx(Ir,{}),children:[{index:!0,element:xn(WD,["admin","editor","viewer"])},{path:"users",element:xn(GD,["admin"])},{path:"apartments",element:xn(YD,["admin","editor"])},{path:"balance",element:xn(QD,["admin","editor"])},{path:"notifications",element:xn(XD,["admin","editor"])},{path:"Send_Notification",element:xn(JD,["admin","editor"])},{path:"createAd",element:xn(ZD,["admin","viewer"])},{path:"employees",element:xn(eN,["admin"])},{path:"ads-list",element:xn(tN,["admin","editor"])},{path:"privacy",element:xn(nN,["admin","editor"])},{path:"contact",element:xn(iN,["admin","editor"])},{path:"website_data",element:xn(rN,["admin","editor"])},{path:"unauthorized",element:Ke.jsx(w_,{})}]},{path:"/unauthorized",element:Yr(w_),errorElement:Ke.jsx(Ir,{})}]),cN=q.createContext(),hN=({children:n})=>{const e=[{name:"John Doe",email:"test@test.com"},{name:"Jane Doe",email:"test@test.com"}];return Ke.jsx(cN.Provider,{value:{users:e},children:n})},dN=q.createContext(),fN=({children:n})=>{const[e,t]=q.useState("light");q.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{t(e==="light"?"dark":"light")};return Ke.jsx(dN.Provider,{value:{theme:e,toggleTheme:r},children:n})},WE=q.createContext(),pN=({children:n})=>{const[e,t]=q.useState(!0),[r,s]=q.useState(null),[a,u]=q.useState([]),[d,f]=q.useState({}),[m,v]=q.useState(null),T=q.useCallback(async()=>{try{const B=[];(await Sl(fa(Tt,"users"))).forEach(X=>{B.push(X.data())}),u(B)}catch(B){v(B.message)}},[]),E=q.useCallback(async()=>{try{const B=[];return(await Sl(fa(Tt,"users"))).forEach(X=>{X.data().role==="star"&&X.data().verified&&B.push(X.data())}),B}catch(B){v(B.message)}},[]),w=q.useCallback(async()=>{try{const B=zt(Tt,"websiteData","contact"),$=await gi(B);if($.exists())return f($.data()),$.data()}catch{return}},[]),C=async B=>{try{const $=zt(Tt,"websiteData","contact");await Zn($,{...B,updatedAt:new Date}),await w()}catch($){v($.message)}},N=async B=>{try{const $=zt(Tt,"users",B.Uid);await Zn($,B),await T(),z({message:"      -   ",readed:!1,time:new Date},B.Uid)}catch($){v($.message)}},x=async(B,$)=>{const X=B.stars,U=`     -  ${B.title}`,W=new Date;X.forEach(async se=>{const me=zt(Tt,"users",se.Uid),Re=(await gi(me)).data(),Ce=Re.ads;Ce.push({adId:$,title:B.title,category:B.category,links:{}}),await Zn(me,{...Re,ads:Ce}),z({message:U,readed:!1,time:W},se.Uid)})},F=async()=>{const B=await Sl(fa(Tt,"users")),$=await Sl(fa(Tt,"advertisement"));return{employees:B.size,ads:$.size}},te=async B=>{try{const $=zt(Tt,"users",B),X=await gi($);return X.exists()?X.data().ads:[]}catch($){return v($.message),[]}},ee=async(B,$)=>{console.log("UUU"),console.log(B,$);try{const X=zt(Tt,"users",B);console.log("Fetching user document:",X);const U=await gi(X);if(U.exists()){const W=U.data();console.log("User data fetched:",W);const se=W.ads;if(!Array.isArray(se)){console.error("Invalid ads data:",se);return}const me=se.map(Re=>Re.adId===$.adId?$.links?(console.log("Updating ad with ID:",Re.adId),{...Re,links:$.links}):(console.error("No links provided for ad:",Re.adId),Re):Re);console.log("Updated ads:",me);const ge={...W,ads:me};for(const Re in ge)if(ge[Re]===void 0){console.error(`Field ${Re} is undefined`);return}await Zn(X,ge),console.log("Document updated successfully")}else console.log("User document doesn't exist")}catch(X){console.error("Error occurred:",X),v(X.message)}},ne=async B=>{try{const $=fa(Tt,"advertisement"),X=zt($);await Zn(X,{...B,id:X.id}),await x(B,X.id)}catch($){v($.message)}},M=async(B,$)=>{try{B=String(B);const X=zt(Tt,"advertisement",B);await Zn(X,$,{merge:!0})}catch(X){throw X}},ie=async B=>{try{const $=zt(Tt,"websiteData","HomePage");await Zn($,{...B,updatedAt:new Date})}catch($){v($.message)}},A=q.useCallback(async()=>{try{const B=zt(Tt,"websiteData","HomePage"),$=await gi(B);return $.exists()?$.data():{}}catch(B){return v(B.message),{}}},[]),R=q.useCallback(async()=>{try{const B=[];return(await Sl(fa(Tt,"advertisement"))).forEach(X=>{B.push(X.data())}),B}catch(B){return v(B.message),[]}},[]),P=async B=>{try{const $=zt(Tt,"advertisement",B),X=await gi($);return X.exists()?X.data():{}}catch($){return v($.message),{}}},D=async B=>{try{const $=zt(Tt,"websiteData","privacy");await Zn($,{...B,updatedAt:new Date})}catch($){v($.message)}},V=q.useCallback(async()=>{try{const B=zt(Tt,"websiteData","privacy"),$=await gi(B);return $.exists()?$.data():{}}catch(B){return v(B.message),{}}},[]),z=async(B,$)=>{try{const X=zt(Tt,"users",$);let U;try{U=await gi(X)}catch(W){console.error("Error fetching document:",W);return}if(U.exists()){const W=U.data(),se=W.notifications||[],me={...B,id:crypto.randomUUID()};se.push(me),await Zn(X,{...W,notifications:se})}}catch(X){console.error("Error in addUserNotification:",X),v(X.message)}},b=async(B,$)=>{try{const X=zt(Tt,"users",B),U=await gi(X);if(U.exists()){const W=U.data(),me=(W.notifications||[]).map(ge=>ge.id===$?{...ge,readed:!0}:ge);await Zn(X,{...W,notifications:me})}else console.error("User document not found.")}catch(X){console.error("Error updating notification:",X.message)}},Ge=async B=>{const{message:$,readed:X,time:U,stars:W}=B;W.forEach(async se=>{await z({message:$,readed:X,time:U},se.Uid)})},ze=async(B,$)=>{const{message:X,readed:U,time:W}=B,se={admin:"admin",user:"user",allAdmin:["admin","editor","viewer"]},ge=(Re=>Re==="allAdmin"?a.filter(Ce=>se.allAdmin.includes(Ce.role)):a.filter(Ce=>Ce.role===se[Re]))($);for(const Re of ge)try{await z({message:X,readed:U,time:W},Re.Uid)}catch(Ce){console.error(`Failed to add notification for user ${Re.Uid}:`,Ce)}},Xe=async B=>{try{const $=zt(Tt,"users",B);await Zn($,{isDeleted:!0},{merge:!0}),await T()}catch($){v($.message)}},Oe=async B=>{try{B=String(B);const $=zt(Tt,"advertisement",B);try{await Tb($)}catch{}await R()}catch{}};return q.useEffect(()=>{const B=$0(go,async $=>{if(s($),$)try{await Promise.all([T(),w()])}catch(X){v(X.message)}t(!1)});return()=>B()},[go,T,w]),q.useEffect(()=>{w()},[]),Ke.jsx(WE.Provider,{value:{addHomeData:ie,getHomeData:A,currentUser:r,getUserAds:te,addADs:ne,allUsers:a,updateUser:N,contact:d,updateContact:C,getAllAds:R,updatePrivacy:D,getPrivacy:V,deleteUserFromDB:Xe,fetchContact:w,SendNotification:Ge,updateNotificationReaded:b,UpdateCurrentUserAds:ee,SendSignupNotification:ze,getFirestoreStats:F,getAllStarUsers:E,deleteAdFromDB:Oe,updateADs:M,getAdvbyID:P,error:m},children:!e&&n})},NL=()=>q.useContext(WE);var mN=(n,e,t,r,s,a,u,d)=>{let f=document.documentElement,m=["light","dark"];function v(w){(Array.isArray(n)?n:[n]).forEach(C=>{let N=C==="class",x=N&&a?s.map(F=>a[F]||F):s;N?(f.classList.remove(...x),f.classList.add(w)):f.setAttribute(C,w)}),T(w)}function T(w){d&&m.includes(w)&&(f.style.colorScheme=w)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)v(r);else try{let w=localStorage.getItem(e)||t,C=u&&w==="system"?E():w;v(C)}catch{}},gN=q.createContext(void 0),yN={setTheme:n=>{},themes:[]},vN=()=>{var n;return(n=q.useContext(gN))!=null?n:yN};q.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:u,themes:d,nonce:f,scriptProps:m})=>{let v=JSON.stringify([t,e,a,n,d,u,r,s]).slice(1,-1);return q.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${mN.toString()})(${v})`}})});var _N=n=>{switch(n){case"success":return TN;case"info":return IN;case"warning":return SN;case"error":return RN;default:return null}},wN=Array(12).fill(0),EN=({visible:n,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},le.createElement("div",{className:"sonner-spinner"},wN.map((t,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),TN=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SN=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IN=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RN=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CN=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PN=()=>{let[n,e]=le.useState(document.hidden);return le.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},dp=1,AN=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:dp++,a=this.toasts.find(d=>d.id===s),u=n.dismissible===void 0?!0:n.dismissible;return a?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...n,id:s,title:t}),{...d,...n,id:s,dismissible:u,title:t}):d):this.addToast({title:t,...r,dismissible:u,id:s}),s},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,a,u=r.then(async f=>{if(a=["resolve",f],le.isValidElement(f))s=!1,this.create({id:t,type:"default",message:f});else if(xN(f)&&!f.ok){s=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:t,type:"error",message:m,description:v})}else if(e.success!==void 0){s=!1;let m=typeof e.success=="function"?await e.success(f):e.success,v=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"success",message:m,description:v})}}).catch(async f=>{if(a=["reject",f],e.error!==void 0){s=!1;let m=typeof e.error=="function"?await e.error(f):e.error,v=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"error",message:m,description:v})}}).finally(()=>{var f;s&&(this.dismiss(t),t=void 0),(f=e.finally)==null||f.call(e)}),d=()=>new Promise((f,m)=>u.then(()=>a[0]==="reject"?m(a[1]):f(a[1])).catch(m));return typeof t!="string"&&typeof t!="number"?{unwrap:d}:Object.assign(t,{unwrap:d})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||dp++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},hr=new AN,kN=(n,e)=>{let t=(e==null?void 0:e.id)||dp++;return hr.addToast({title:n,...e,id:t}),t},xN=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",bN=kN,DN=()=>hr.toasts,LL=Object.assign(bN,{success:hr.success,info:hr.info,warning:hr.warning,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading},{getHistory:DN});function NN(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}NN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bc(n){return n.label!==void 0}var LN=3,ON="32px",E_=4e3,VN=356,MN=14,UN=20,FN=200;function jN(...n){return n.filter(Boolean).join(" ")}var zN=n=>{var e,t,r,s,a,u,d,f,m,v,T;let{invert:E,toast:w,unstyled:C,interacting:N,setHeights:x,visibleToasts:F,heights:te,index:ee,toasts:ne,expanded:M,removeToast:ie,defaultRichColors:A,closeButton:R,style:P,cancelButtonStyle:D,actionButtonStyle:V,className:z="",descriptionClassName:b="",duration:Ge,position:ze,gap:Xe,loadingIcon:Oe,expandByDefault:B,classNames:$,icons:X,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W,cn:se}=n,[me,ge]=le.useState(!1),[Re,Ce]=le.useState(!1),[Ye,Me]=le.useState(!1),[ht,en]=le.useState(!1),[ni,Wt]=le.useState(!1),[Ar,mr]=le.useState(0),[ri,ii]=le.useState(0),kr=le.useRef(w.duration||Ge||E_),xr=le.useRef(null),tn=le.useRef(null),Kt=ee===0,nr=ee+1<=F,Mt=w.type,hn=w.dismissible!==!1,Tn=w.className||"",dt=w.descriptionClassName||"",vt=le.useMemo(()=>te.findIndex(ke=>ke.toastId===w.id)||0,[te,w.id]),On=le.useMemo(()=>{var ke;return(ke=w.closeButton)!=null?ke:R},[w.closeButton,R]);le.useMemo(()=>w.duration||Ge||E_,[w.duration,Ge]);let br=le.useRef(0),kt=le.useRef(0),rr=le.useRef(0),Vn=le.useRef(null),[Dr,xi]=ze.split("-"),Nr=le.useMemo(()=>te.reduce((ke,qe,Je)=>Je>=vt?ke:ke+qe.height,0),[te,vt]),ir=PN(),si=w.invert||E,Mn=Mt==="loading";kt.current=le.useMemo(()=>vt*Xe+Nr,[vt,Nr]),le.useEffect(()=>{ge(!0)},[]),le.useEffect(()=>{let ke=tn.current;if(ke){let qe=ke.getBoundingClientRect().height;return ii(qe),x(Je=>[{toastId:w.id,height:qe,position:w.position},...Je]),()=>x(Je=>Je.filter(_t=>_t.toastId!==w.id))}},[x,w.id]),le.useLayoutEffect(()=>{if(!me)return;let ke=tn.current,qe=ke.style.height;ke.style.height="auto";let Je=ke.getBoundingClientRect().height;ke.style.height=qe,ii(Je),x(_t=>_t.find(nn=>nn.toastId===w.id)?_t.map(nn=>nn.toastId===w.id?{...nn,height:Je}:nn):[{toastId:w.id,height:Je,position:w.position},..._t])},[me,w.title,w.description,x,w.id]);let dn=le.useCallback(()=>{Ce(!0),mr(kt.current),x(ke=>ke.filter(qe=>qe.toastId!==w.id)),setTimeout(()=>{ie(w)},FN)},[w,ie,x,kt]);le.useEffect(()=>{if(w.promise&&Mt==="loading"||w.duration===1/0||w.type==="loading")return;let ke;return M||N||W&&ir?(()=>{if(rr.current<br.current){let qe=new Date().getTime()-br.current;kr.current=kr.current-qe}rr.current=new Date().getTime()})():kr.current!==1/0&&(br.current=new Date().getTime(),ke=setTimeout(()=>{var qe;(qe=w.onAutoClose)==null||qe.call(w,w),dn()},kr.current)),()=>clearTimeout(ke)},[M,N,w,Mt,W,ir,dn]),le.useEffect(()=>{w.delete&&dn()},[dn,w.delete]);function Lr(){var ke,qe,Je;return X!=null&&X.loading?le.createElement("div",{className:se($==null?void 0:$.loader,(ke=w==null?void 0:w.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Mt==="loading"},X.loading):Oe?le.createElement("div",{className:se($==null?void 0:$.loader,(qe=w==null?void 0:w.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Mt==="loading"},Oe):le.createElement(EN,{className:se($==null?void 0:$.loader,(Je=w==null?void 0:w.classNames)==null?void 0:Je.loader),visible:Mt==="loading"})}return le.createElement("li",{tabIndex:0,ref:tn,className:se(z,Tn,$==null?void 0:$.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Mt],(t=w==null?void 0:w.classNames)==null?void 0:t[Mt]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:A,"data-styled":!(w.jsx||w.unstyled||C),"data-mounted":me,"data-promise":!!w.promise,"data-swiped":ni,"data-removed":Re,"data-visible":nr,"data-y-position":Dr,"data-x-position":xi,"data-index":ee,"data-front":Kt,"data-swiping":Ye,"data-dismissible":hn,"data-type":Mt,"data-invert":si,"data-swipe-out":ht,"data-expanded":!!(M||B&&me),style:{"--index":ee,"--toasts-before":ee,"--z-index":ne.length-ee,"--offset":`${Re?Ar:kt.current}px`,"--initial-height":B?"auto":`${ri}px`,...P,...w.style},onPointerDown:ke=>{Mn||!hn||(xr.current=new Date,mr(kt.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Me(!0),Vn.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,qe,Je,_t;if(ht||!hn)return;Vn.current=null;let nn=Number(((ke=tn.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$n=new Date().getTime()-((qe=xr.current)==null?void 0:qe.getTime()),L=Math.abs(nn)/$n;if(Math.abs(nn)>=UN||L>.11){mr(kt.current),(Je=w.onDismiss)==null||Je.call(w,w),dn(),en(!0),Wt(!1);return}(_t=tn.current)==null||_t.style.setProperty("--swipe-amount","0px"),Me(!1)},onPointerMove:ke=>{var qe,Je;if(!Vn.current||!hn)return;let _t=ke.clientY-Vn.current.y,nn=((qe=window.getSelection())==null?void 0:qe.toString().length)>0,$n=Dr==="top"?Math.min(0,_t):Math.max(0,_t);Math.abs($n)>0&&Wt(!0),!nn&&((Je=tn.current)==null||Je.style.setProperty("--swipe-amount",`${$n}px`))}},On&&!w.jsx?le.createElement("button",{"aria-label":U,"data-disabled":Mn,"data-close-button":!0,onClick:Mn||!hn?()=>{}:()=>{var ke;dn(),(ke=w.onDismiss)==null||ke.call(w,w)},className:se($==null?void 0:$.closeButton,(s=w==null?void 0:w.classNames)==null?void 0:s.closeButton)},(a=X==null?void 0:X.close)!=null?a:CN):null,w.jsx||le.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:le.createElement(le.Fragment,null,Mt||w.icon||w.promise?le.createElement("div",{"data-icon":"",className:se($==null?void 0:$.icon,(u=w==null?void 0:w.classNames)==null?void 0:u.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Lr():null,w.type!=="loading"?w.icon||(X==null?void 0:X[Mt])||_N(Mt):null):null,le.createElement("div",{"data-content":"",className:se($==null?void 0:$.content,(d=w==null?void 0:w.classNames)==null?void 0:d.content)},le.createElement("div",{"data-title":"",className:se($==null?void 0:$.title,(f=w==null?void 0:w.classNames)==null?void 0:f.title)},typeof w.title=="function"?w.title():w.title),w.description?le.createElement("div",{"data-description":"",className:se(b,dt,$==null?void 0:$.description,(m=w==null?void 0:w.classNames)==null?void 0:m.description)},typeof w.description=="function"?w.description():w.description):null),le.isValidElement(w.cancel)?w.cancel:w.cancel&&bc(w.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||D,onClick:ke=>{var qe,Je;bc(w.cancel)&&hn&&((Je=(qe=w.cancel).onClick)==null||Je.call(qe,ke),dn())},className:se($==null?void 0:$.cancelButton,(v=w==null?void 0:w.classNames)==null?void 0:v.cancelButton)},w.cancel.label):null,le.isValidElement(w.action)?w.action:w.action&&bc(w.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||V,onClick:ke=>{var qe,Je;bc(w.action)&&((Je=(qe=w.action).onClick)==null||Je.call(qe,ke),!ke.defaultPrevented&&dn())},className:se($==null?void 0:$.actionButton,(T=w==null?void 0:w.classNames)==null?void 0:T.actionButton)},w.action.label):null))};function T_(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var BN=q.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:u,className:d,offset:f,theme:m="light",richColors:v,duration:T,style:E,visibleToasts:w=LN,toastOptions:C,dir:N=T_(),gap:x=MN,loadingIcon:F,icons:te,containerAriaLabel:ee="Notifications",pauseWhenPageIsHidden:ne,cn:M=jN}=n,[ie,A]=le.useState([]),R=le.useMemo(()=>Array.from(new Set([r].concat(ie.filter(W=>W.position).map(W=>W.position)))),[ie,r]),[P,D]=le.useState([]),[V,z]=le.useState(!1),[b,Ge]=le.useState(!1),[ze,Xe]=le.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Oe=le.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=le.useRef(null),X=le.useRef(!1),U=le.useCallback(W=>{A(se=>{var me;return(me=se.find(ge=>ge.id===W.id))!=null&&me.delete||hr.dismiss(W.id),se.filter(({id:ge})=>ge!==W.id)})},[]);return le.useEffect(()=>hr.subscribe(W=>{if(W.dismiss){A(se=>se.map(me=>me.id===W.id?{...me,delete:!0}:me));return}setTimeout(()=>{aI.flushSync(()=>{A(se=>{let me=se.findIndex(ge=>ge.id===W.id);return me!==-1?[...se.slice(0,me),{...se[me],...W},...se.slice(me+1)]:[W,...se]})})})}),[]),le.useEffect(()=>{if(m!=="system"){Xe(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Xe("dark"):Xe("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:se})=>{Xe(se?"dark":"light")})}catch{W.addListener(({matches:me})=>{try{Xe(me?"dark":"light")}catch(ge){console.error(ge)}})}},[m]),le.useEffect(()=>{ie.length<=1&&z(!1)},[ie]),le.useEffect(()=>{let W=se=>{var me,ge;s.every(Re=>se[Re]||se.code===Re)&&(z(!0),(me=Oe.current)==null||me.focus()),se.code==="Escape"&&(document.activeElement===Oe.current||(ge=Oe.current)!=null&&ge.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),le.useEffect(()=>{if(Oe.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,X.current=!1)}},[Oe.current]),le.createElement("section",{"aria-label":`${ee} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},R.map((W,se)=>{var me;let[ge,Re]=W.split("-");return ie.length?le.createElement("ol",{key:W,dir:N==="auto"?T_():N,tabIndex:-1,ref:Oe,className:d,"data-sonner-toaster":!0,"data-theme":ze,"data-y-position":ge,"data-lifted":V&&ie.length>1&&!a,"data-x-position":Re,style:{"--front-toast-height":`${((me=P[0])==null?void 0:me.height)||0}px`,"--offset":typeof f=="number"?`${f}px`:f||ON,"--width":`${VN}px`,"--gap":`${x}px`,...E},onBlur:Ce=>{X.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(X.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||X.current||(X.current=!0,$.current=Ce.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{b||z(!1)},onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||Ge(!0)},onPointerUp:()=>Ge(!1)},ie.filter(Ce=>!Ce.position&&se===0||Ce.position===W).map((Ce,Ye)=>{var Me,ht;return le.createElement(zN,{key:Ce.id,icons:te,index:Ye,toast:Ce,defaultRichColors:v,duration:(Me=C==null?void 0:C.duration)!=null?Me:T,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:t,visibleToasts:w,closeButton:(ht=C==null?void 0:C.closeButton)!=null?ht:u,interacting:b,position:W,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:U,toasts:ie.filter(en=>en.position==Ce.position),heights:P.filter(en=>en.position==Ce.position),setHeights:D,expandByDefault:a,gap:x,loadingIcon:F,expanded:V,pauseWhenPageIsHidden:ne,cn:M})})):null}))});const $N=({...n})=>{const{theme:e="system"}=vN();return Ke.jsx(BN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function HN(){return Ke.jsx(MD,{children:Ke.jsx(hN,{children:Ke.jsx(fN,{children:Ke.jsxs(pN,{children:[Ke.jsx(lI,{router:uN}),Ke.jsx($N,{position:"top-center"})]})})})})}const Be=n=>typeof n=="string",Rl=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},S_=n=>n==null?"":""+n,qN=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},WN=/###/g,I_=n=>n&&n.indexOf("###")>-1?n.replace(WN,"."):n,R_=n=>!n||Be(n),Fl=(n,e,t)=>{const r=Be(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(R_(n))return{};const a=I_(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return R_(n)?{}:{obj:n,k:I_(r[s])}},C_=(n,e,t)=>{const{obj:r,k:s}=Fl(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=Fl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=Fl(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},KN=(n,e,t,r)=>{const{obj:s,k:a}=Fl(n,e,Object);s[a]=s[a]||[],s[a].push(t)},mh=(n,e)=>{const{obj:t,k:r}=Fl(n,e);if(t)return t[r]},GN=(n,e,t)=>{const r=mh(n,t);return r!==void 0?r:mh(e,t)},KE=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Be(n[r])||n[r]instanceof String||Be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):KE(n[r],e[r],t):n[r]=e[r]);return n},ma=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var QN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const YN=n=>Be(n)?n.replace(/[&<>"'\/]/g,e=>QN[e]):n;class XN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const JN=[" ",",","?","!",";"],ZN=new XN(20),eL=(n,e,t)=>{e=e||"",t=t||"";const r=JN.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=ZN.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},fp=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},gh=n=>n==null?void 0:n.replace("_","-"),tL={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class yh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||tL,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new yh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new yh(this.logger,e)}}var _i=new yh;class Hh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d.apply(d,[e,...r])})}}class P_ extends Hh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var m,v;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Be(r)&&a?d.push(...r.split(a)):d.push(r)));const f=mh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!Be(r)?f:fp((v=(m=this.data)==null?void 0:m[e])==null?void 0:v[t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),C_(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(Be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=mh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?KE(f,r,a):f={...f,...r},C_(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var GE={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{var u;e=((u=this.processors[a])==null?void 0:u.process(e,t,r,s))??e}),e}};const A_={};class vh extends Hh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),qN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_i.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!eL(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Be(a)?[a]:a};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),e=m.join(s)}return{key:e,namespaces:Be(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),f=d[d.length-1],m=t.lng||this.language,v=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode"){if(v){const ne=t.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${ne}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${ne}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const T=this.resolve(e,t);let E=T==null?void 0:T.res;const w=(T==null?void 0:T.usedKey)||u,C=(T==null?void 0:T.exactUsedKey)||u,N=Object.prototype.toString.apply(E),x=["[object Number]","[object Function]","[object RegExp]"],F=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,te=!this.i18nFormat||this.i18nFormat.handleAsObject,ee=!Be(E)&&typeof E!="boolean"&&typeof E!="number";if(te&&E&&ee&&x.indexOf(N)<0&&!(Be(F)&&Array.isArray(E))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,E,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(T.res=ne,T.usedParams=this.getUsedParamsDetails(t),T):ne}if(a){const ne=Array.isArray(E),M=ne?[]:{},ie=ne?C:w;for(const A in E)if(Object.prototype.hasOwnProperty.call(E,A)){const R=`${ie}${a}${A}`;M[A]=this.translate(R,{...t,joinArrays:!1,ns:d}),M[A]===R&&(M[A]=E[A])}E=M}}else if(te&&Be(F)&&Array.isArray(E))E=E.join(F),E&&(E=this.extendTranslation(E,e,t,r));else{let ne=!1,M=!1;const ie=t.count!==void 0&&!Be(t.count),A=vh.hasDefaultValue(t),R=ie?this.pluralResolver.getSuffix(m,t.count,t):"",P=t.ordinal&&ie?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",D=ie&&!t.ordinal&&t.count===0,V=D&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${R}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(E)&&A&&(ne=!0,E=V),this.isValidLookup(E)||(M=!0,E=u);const b=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:E,Ge=A&&V!==E&&this.options.updateMissing;if(M||ne||Ge){if(this.logger.log(Ge?"updateKey":"missingKey",m,f,u,Ge?V:E),a){const B=this.resolve(u,{...t,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ze=[];const Xe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Xe&&Xe[0])for(let B=0;B<Xe.length;B++)ze.push(Xe[B]);else this.options.saveMissingTo==="all"?ze=this.languageUtils.toResolveHierarchy(t.lng||this.language):ze.push(t.lng||this.language);const Oe=(B,$,X)=>{var W;const U=A&&X!==E?X:b;this.options.missingKeyHandler?this.options.missingKeyHandler(B,f,$,U,Ge,t):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(B,f,$,U,Ge,t),this.emit("missingKey",B,f,$,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ie?ze.forEach(B=>{const $=this.pluralResolver.getSuffixes(B,t);D&&t[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(X=>{Oe([B],u+X,t[`defaultValue${X}`]||V)})}):Oe(ze,u,V))}E=this.extendTranslation(E,e,t,T,r),M&&E===u&&this.options.appendNamespaceToMissingKey&&(E=`${f}:${u}`),(M||ne)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,ne?E:void 0))}return s?(T.res=E,T.usedParams=this.getUsedParamsDetails(t),T):E}extendTranslation(e,t,r,s,a){var m,v;var u=this;if((m=this.i18nFormat)!=null&&m.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const T=Be(e)&&(((v=r==null?void 0:r.interpolation)==null?void 0:v.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let E;if(T){const C=e.match(this.interpolator.nestingRegexp);E=C&&C.length}let w=r.replace&&!Be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,r.lng||this.language||s.usedLng,r),T){const C=e.match(this.interpolator.nestingRegexp),N=C&&C.length;E<N&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var C=arguments.length,N=new Array(C),x=0;x<C;x++)N[x]=arguments[x];return(a==null?void 0:a[0])===N[0]&&!r.context?(u.logger.warn(`It seems you are nesting recursively key: ${N[0]} in key: ${t[0]}`),null):u.translate(...N,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,f=Be(d)?[d]:d;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=GE.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,u,d;return Be(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),v=m.key;s=v;let T=m.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const E=t.count!==void 0&&!Be(t.count),w=E&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Be(t.context)||typeof t.context=="number")&&t.context!=="",N=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(x=>{var F,te;this.isValidLookup(r)||(d=x,!A_[`${N[0]}-${x}`]&&((F=this.utils)!=null&&F.hasLoadedNamespace)&&!((te=this.utils)!=null&&te.hasLoadedNamespace(d))&&(A_[`${N[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${N.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(ee=>{var ie;if(this.isValidLookup(r))return;u=ee;const ne=[v];if((ie=this.i18nFormat)!=null&&ie.addLookupKeys)this.i18nFormat.addLookupKeys(ne,v,ee,x,t);else{let A;E&&(A=this.pluralResolver.getSuffix(ee,t.count,t));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(ne.push(v+A),t.ordinal&&A.indexOf(P)===0&&ne.push(v+A.replace(P,this.options.pluralSeparator)),w&&ne.push(v+R)),C){const D=`${v}${this.options.contextSeparator}${t.context}`;ne.push(D),E&&(ne.push(D+A),t.ordinal&&A.indexOf(P)===0&&ne.push(D+A.replace(P,this.options.pluralSeparator)),w&&ne.push(D+R))}}let M;for(;M=ne.pop();)this.isValidLookup(r)||(a=M,r=this.getResource(ee,x,M,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var a;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Be(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class k_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_i.create("languageUtils")}getScriptPartFromCode(e){if(e=gh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=gh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Be(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Be(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}const x_={zero:0,one:1,two:2,few:3,many:4,other:5},b_={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nL{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=_i.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=gh(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),b_;if(!e.match(/-|_/))return b_;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>x_[s]-x_[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const D_=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=GN(n,e,t);return!a&&s&&Be(t)&&(a=fp(n,t,r),a===void 0&&(a=fp(e,t,r))),a},Ff=n=>n.replace(/\$/g,"$$$$");class rL{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=_i.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:E,nestingPrefixEscaped:w,nestingSuffix:C,nestingSuffixEscaped:N,nestingOptionsSeparator:x,maxReplaces:F,alwaysFormat:te}=e.interpolation;this.escape=t!==void 0?t:YN,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?ma(a):u||"{{",this.suffix=d?ma(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=E?ma(E):w||ma("$t("),this.nestingSuffix=C?ma(C):N||ma(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=F||1e3,this.alwaysFormat=te!==void 0?te:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var w;let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=C=>{if(C.indexOf(this.formatSeparator)<0){const te=D_(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,r,{...s,...t,interpolationkey:C}):te}const N=C.split(this.formatSeparator),x=N.shift().trim(),F=N.join(this.formatSeparator).trim();return this.format(D_(t,f,x,this.options.keySeparator,this.options.ignoreJSONStructure),F,r,{...s,...t,interpolationkey:x})};this.resetRegExp();const v=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,T=((w=s==null?void 0:s.interpolation)==null?void 0:w.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Ff(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Ff(this.escape(C)):Ff(C)}].forEach(C=>{for(d=0;a=C.regex.exec(e);){const N=a[1].trim();if(u=m(N),u===void 0)if(typeof v=="function"){const F=v(e,a,s);u=Be(F)?F:""}else if(s&&Object.prototype.hasOwnProperty.call(s,N))u="";else if(T){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),u="";else!Be(u)&&!this.useRawValueToEscape&&(u=S_(u));const x=C.safeValue(u);if(e=e.replace(a[0],x),T?(C.regex.lastIndex+=u.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,u;const d=(f,m)=>{const v=this.nestingOptionsSeparator;if(f.indexOf(v)<0)return f;const T=f.split(new RegExp(`${v}[ ]*{`));let E=`{${T[1]}`;f=T[0],E=this.interpolate(E,u);const w=E.match(/'/g),C=E.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!C||C.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),m&&(u={...m,...u})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,N),`${f}${v}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!Be(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const v=s[1].split(this.formatSeparator).map(T=>T.trim());s[1]=v.shift(),f=v,m=!0}if(a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!Be(a))return a;Be(a)||(a=S_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),m&&(a=f.reduce((v,T)=>this.format(v,T,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const iL=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=m),m==="false"&&(t[v]=!1),m==="true"&&(t[v]=!0),isNaN(m)||(t[v]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},ga=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(gh(r),s),e[u]=d),d(t)}};class sL{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=_i.create("formatter"),this.options=e,this.formats={number:ga((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:ga((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:ga((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:ga((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:ga((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ga(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{var T;const{formatName:m,formatOptions:v}=iL(f);if(this.formats[m]){let E=d;try{const w=((T=s==null?void 0:s.formatParams)==null?void 0:T[s.interpolationkey])||{},C=w.locale||w.lng||s.locale||s.lng||r;E=this.formats[m](d,C,{...v,...s,...w})}catch(w){this.logger.warn(w)}return E}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const oL=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class aL extends Hh{constructor(e,t,r){var a,u;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=_i.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(a=this.backend)==null?void 0:a.init)==null||u.call(a,r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(m=>{let v=!0;t.forEach(T=>{const E=`${m}|${T}`;!r.reload&&this.store.hasResourceBundle(m,T)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,v=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),f[T]===void 0&&(f[T]=!0)))}),v||(d[m]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{KN(f.loaded,[a],u),oL(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const v=f.loaded[m];v.length&&v.forEach(T=>{d[m][T]===void 0&&(d[m][T]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(m,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(m&&v&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(m,v)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(v=>d(null,v)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a){var f,m,v,T,E;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace&&!((T=(v=this.services)==null?void 0:v.utils)!=null&&T.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const w={...u,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let N;C.length===5?N=C(e,t,r,s,w):N=C(e,t,r,s),N&&typeof N.then=="function"?N.then(x=>d(null,x)).catch(d):d(null,N)}catch(N){d(N)}else C(e,t,r,s,d,w)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const N_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Be(n[1])&&(e.defaultValue=n[1]),Be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),L_=n=>{var e,t;return Be(n.ns)&&(n.ns=[n.ns]),Be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Dc=()=>{},lL=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Yl extends Hh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=L_(e),this.services={},this.logger=_i,this.modules={external:[]},lL(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=N_();this.options={...s,...this.options,...L_(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?_i.init(a(this.modules.logger),this.options):_i.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=sL;const T=new k_(this.options);this.store=new P_(this.options.resources,this.options);const E=this.services;E.logger=_i,E.resourceStore=this.store,E.languageUtils=T,E.pluralResolver=new nL(T,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(E.formatter=a(v),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new rL(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new aL(a(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(w){for(var C=arguments.length,N=new Array(C>1?C-1:0),x=1;x<C;x++)N[x-1]=arguments[x];e.emit(w,...N)}),this.modules.languageDetector&&(E.languageDetector=a(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=a(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new vh(this.services,this.options),this.translator.on("*",function(w){for(var C=arguments.length,N=new Array(C>1?C-1:0),x=1;x<C;x++)N[x-1]=arguments[x];e.emit(w,...N)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return e.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return e.store[v](...arguments),e}});const f=Rl(),m=()=>{const v=(T,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(E),r(T,E)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),f}loadResources(e){var a,u;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dc;const s=Be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(T=>{T!=="cimode"&&d.indexOf(T)<0&&d.push(T)})};s?f(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>f(v)),(u=(a=this.options.preload)==null?void 0:a.forEach)==null||u.call(a,m=>f(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(m)})}else r(null)}reloadResources(e,t,r){const s=Rl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Dc),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&GE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Rl();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},d=f=>{var v,T;!e&&!f&&this.services.languageDetector&&(f=[]);const m=Be(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),(T=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||T.call(v,m)),this.loadResources(m,E=>{u(E,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,t,r){var s=this;const a=function(u,d){let f;if(typeof d!="object"){for(var m=arguments.length,v=new Array(m>2?m-2:0),T=2;T<m;T++)v[T-2]=arguments[T];f=s.options.overloadTranslationOptionHandler([u,d].concat(v))}else f={...d};f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const E=s.options.keySeparator||".";let w;return f.keyPrefix&&Array.isArray(u)?w=u.map(C=>`${f.keyPrefix}${E}${C}`):w=f.keyPrefix?`${f.keyPrefix}${E}${u}`:u,s.t(w,f)};return Be(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){var s;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(s=this.translator)==null?void 0:s.translate(...t)}exists(){var s;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Rl();return this.options.ns?(Be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Rl();Be(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var s,a;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new k_(N_());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Yl(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dc;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new Yl(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},Object.keys(f[m]).reduce((v,T)=>(v[T]={...f[m][T]},v),{})),{});a.store=new P_(d,s),a.services.resourceStore=a.store}return a.translator=new vh(a.services,s),a.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];a.emit(d,...m)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ln=Yl.createInstance();Ln.createInstance=Yl.createInstance;Ln.createInstance;Ln.dir;Ln.init;Ln.loadResources;Ln.reloadResources;Ln.use;Ln.changeLanguage;Ln.getFixedT;Ln.t;Ln.exists;Ln.setDefaultNamespace;Ln.hasLoadedNamespace;Ln.loadNamespaces;Ln.loadLanguages;const uL={home:"",privacy:" ",contact:" ",stars:""},cL={title:"    !",description:"         .",button:" "},hL={firstTitle:"  !      ",secondTitle:"    ",firstDescription:"       ",secondDescription:"         .              .       !"},dL={Title:"   "},fL={copyright:"  .",terms:" "},pL={welcome:"   !",description:"   ."},mL={navbar:uL,heroSection:cL,cityAdv:hL,currentAdv:dL,footer:fL,homepage:pL},gL={home:"Home",about:"About",contact:"Contact"},yL={copyright:"All rights reserved.",terms:"Terms and Conditions"},vL={welcome:"Welcome to our website!",description:"This is a description for the homepage."},_L={navbar:gL,footer:yL,homepage:vL};Ln.init({lng:"ar",fallbackLng:"ar",resources:{ar:{translation:mL},en:{translation:_L}}});oS.createRoot(document.getElementById("root")).render(Ke.jsx(HN,{}));export{t0 as L,SL as O,le as R,At as _,ns as a,UD as b,NL as c,pp as d,bL as e,kL as f,O_ as g,xL as h,pI as i,Ke as j,r0 as k,lv as l,Cp as m,RL as n,wL as o,aI as p,sS as q,q as r,DL as s,LL as t,Q_ as u,EL as v};
