import{i as je,r as n,j as e,R as G,k as Me,c as Ae}from"./index-D1kJxIkH.js";import{G as Re}from"./data-DEqlFrNp.js";import{t as St,u as bt,g as Nt,v as jt,w as Ct,x as It}from"./index-COYwVOmu.js";import{C as Tt,a as Rt,b as Pt,c as Et}from"./card-BgFhXkcU.js";import{B as Pe}from"./badge-BlN9PXmE.js";import{B as ke}from"./button-DGMjbkUI.js";import{P as E}from"./index-Cc2IEVgW.js";import{c as D,u as M,a as ge}from"./index-BXLg_uEm.js";import{u as _t}from"./index.esm-CylbFJ5w.js";import"./textarea-tKmYvUyY.js";import{a as De,A as Mt,C as At,b as kt,V as Dt,c as Ee}from"./index-BMJWwnoI.js";import{c as Oe,a as T,b as B,D as Ot,e as Le,u as Lt,d as Bt}from"./index-CIo6qUwL.js";import{h as Ft,u as Ht,R as Vt,F as Ut,D as Wt,e as Kt,a as zt,b as Gt,c as $t}from"./dialog-B5goFC3n.js";import"./iconBase-sSTc1SKk.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var Xt="Separator",_e="horizontal",Zt=["horizontal","vertical"],Fe=n.forwardRef((s,o)=>{const{decorative:t,orientation:l=_e,...i}=s,p=Jt(l)?l:_e,c=t?{role:"none"}:{"aria-orientation":p==="vertical"?p:void 0,role:"separator"};return e.jsx(E.div,{"data-orientation":p,...c,...i,ref:o})});Fe.displayName=Xt;function Jt(s){return Zt.includes(s)}var He=Fe;const ve=n.forwardRef(({className:s,orientation:o="horizontal",decorative:t=!0,...l},i)=>e.jsx(He,{ref:i,decorative:t,orientation:o,className:D("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...l}));ve.displayName=He.displayName;function Qt(s){const o=s+"CollectionProvider",[t,l]=Oe(o),[i,p]=t(o,{collectionRef:{current:null},itemMap:new Map}),d=S=>{const{scope:y,children:m}=S,a=G.useRef(null),x=G.useRef(new Map).current;return e.jsx(i,{scope:y,itemMap:x,collectionRef:a,children:m})};d.displayName=o;const c=s+"CollectionSlot",r=G.forwardRef((S,y)=>{const{scope:m,children:a}=S,x=p(c,m),f=M(y,x.collectionRef);return e.jsx(ge,{ref:f,children:a})});r.displayName=c;const u=s+"CollectionItemSlot",h="data-radix-collection-item",w=G.forwardRef((S,y)=>{const{scope:m,children:a,...x}=S,f=G.useRef(null),v=M(y,f),R=p(u,m);return G.useEffect(()=>(R.itemMap.set(f,{ref:f,...x}),()=>void R.itemMap.delete(f))),e.jsx(ge,{[h]:"",ref:v,children:a})});w.displayName=u;function I(S){const y=p(s+"CollectionConsumer",S);return G.useCallback(()=>{const a=y.collectionRef.current;if(!a)return[];const x=Array.from(a.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((R,A)=>x.indexOf(R.ref.current)-x.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:d,Slot:r,ItemSlot:w},I,l]}function es(s){const o=n.useRef({value:s,previous:s});return n.useMemo(()=>(o.current.value!==s&&(o.current.previous=o.current.value,o.current.value=s),o.current.previous),[s])}var ts=[" ","Enter","ArrowUp","ArrowDown"],ss=[" ","Enter"],ce="Select",[Ce,ie,os]=Qt(ce),[Q,Gs]=Oe(ce,[os,De]),Ie=De(),[$s,F]=Q(ce),[qs,rs]=Q(ce),Ve="SelectTrigger",Ue=n.forwardRef((s,o)=>{const{__scopeSelect:t,disabled:l=!1,...i}=s,p=Ie(t),d=F(Ve,t),c=d.disabled||l,r=M(o,d.onTriggerChange),u=ie(t),h=n.useRef("touch"),[w,I,S]=dt(m=>{const a=u().filter(v=>!v.disabled),x=a.find(v=>v.value===d.value),f=ut(a,m,x);f!==void 0&&d.onValueChange(f.value)}),y=m=>{c||(d.onOpenChange(!0),S()),m&&(d.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(Mt,{asChild:!0,...p,children:e.jsx(E.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":it(d.value)?"":void 0,...i,ref:r,onClick:T(i.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&y(m)}),onPointerDown:T(i.onPointerDown,m=>{h.current=m.pointerType;const a=m.target;a.hasPointerCapture(m.pointerId)&&a.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:T(i.onKeyDown,m=>{const a=w.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&I(m.key),!(a&&m.key===" ")&&ts.includes(m.key)&&(y(),m.preventDefault())})})})});Ue.displayName=Ve;var We="SelectValue",ns=n.forwardRef((s,o)=>{const{__scopeSelect:t,className:l,style:i,children:p,placeholder:d="",...c}=s,r=F(We,t),{onValueNodeHasChildrenChange:u}=r,h=p!==void 0,w=M(o,r.onValueNodeChange);return B(()=>{u(h)},[u,h]),e.jsx(E.span,{...c,ref:w,style:{pointerEvents:"none"},children:it(r.value)?e.jsx(e.Fragment,{children:d}):p})});ns.displayName=We;var as="SelectIcon",Ke=n.forwardRef((s,o)=>{const{__scopeSelect:t,children:l,...i}=s;return e.jsx(E.span,{"aria-hidden":!0,...i,ref:o,children:l||"▼"})});Ke.displayName=as;var ls="SelectPortal",ze=s=>e.jsx(Bt,{asChild:!0,...s});ze.displayName=ls;var $="SelectContent",Ge=n.forwardRef((s,o)=>{const t=F($,s.__scopeSelect),[l,i]=n.useState();if(B(()=>{i(new DocumentFragment)},[]),!t.open){const p=l;return p?Me.createPortal(e.jsx($e,{scope:s.__scopeSelect,children:e.jsx(Ce.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),p):null}return e.jsx(qe,{...s,ref:o})});Ge.displayName=$;var k=10,[$e,H]=Q($),cs="SelectContentImpl",qe=n.forwardRef((s,o)=>{const{__scopeSelect:t,position:l="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:p,onPointerDownOutside:d,side:c,sideOffset:r,align:u,alignOffset:h,arrowPadding:w,collisionBoundary:I,collisionPadding:S,sticky:y,hideWhenDetached:m,avoidCollisions:a,...x}=s,f=F($,t),[v,R]=n.useState(null),[A,de]=n.useState(null),_=M(o,g=>R(g)),[O,oe]=n.useState(null),[re,V]=n.useState(null),U=ie(t),[ee,q]=n.useState(!1),W=n.useRef(!1);n.useEffect(()=>{if(v)return Ft(v)},[v]),Ht();const Y=n.useCallback(g=>{const[C,...P]=U().map(N=>N.ref.current),[j]=P.slice(-1),b=document.activeElement;for(const N of g)if(N===b||(N==null||N.scrollIntoView({block:"nearest"}),N===C&&A&&(A.scrollTop=0),N===j&&A&&(A.scrollTop=A.scrollHeight),N==null||N.focus(),document.activeElement!==b))return},[U,A]),X=n.useCallback(()=>Y([O,v]),[Y,O,v]);n.useEffect(()=>{ee&&X()},[ee,X]);const{onOpenChange:Z,triggerPointerDownPosRef:L}=f;n.useEffect(()=>{if(v){let g={x:0,y:0};const C=j=>{var b,N;g={x:Math.abs(Math.round(j.pageX)-(((b=L.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(j.pageY)-(((N=L.current)==null?void 0:N.y)??0))}},P=j=>{g.x<=10&&g.y<=10?j.preventDefault():v.contains(j.target)||Z(!1),document.removeEventListener("pointermove",C),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",P,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",P,{capture:!0})}}},[v,Z,L]),n.useEffect(()=>{const g=()=>Z(!1);return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[Z]);const[ue,ne]=dt(g=>{const C=U().filter(b=>!b.disabled),P=C.find(b=>b.ref.current===document.activeElement),j=ut(C,g,P);j&&setTimeout(()=>j.ref.current.focus())}),pe=n.useCallback((g,C,P)=>{const j=!W.current&&!P;(f.value!==void 0&&f.value===C||j)&&(oe(g),j&&(W.current=!0))},[f.value]),me=n.useCallback(()=>v==null?void 0:v.focus(),[v]),J=n.useCallback((g,C,P)=>{const j=!W.current&&!P;(f.value!==void 0&&f.value===C||j)&&V(g)},[f.value]),ae=l==="popper"?ye:Ye,te=ae===ye?{side:c,sideOffset:r,align:u,alignOffset:h,arrowPadding:w,collisionBoundary:I,collisionPadding:S,sticky:y,hideWhenDetached:m,avoidCollisions:a}:{};return e.jsx($e,{scope:t,content:v,viewport:A,onViewportChange:de,itemRefCallback:pe,selectedItem:O,onItemLeave:me,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:re,position:l,isPositioned:ee,searchRef:ue,children:e.jsx(Vt,{as:ge,allowPinchZoom:!0,children:e.jsx(Ut,{asChild:!0,trapped:f.open,onMountAutoFocus:g=>{g.preventDefault()},onUnmountAutoFocus:T(i,g=>{var C;(C=f.trigger)==null||C.focus({preventScroll:!0}),g.preventDefault()}),children:e.jsx(Ot,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:d,onFocusOutside:g=>g.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ae,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:g=>g.preventDefault(),...x,...te,onPlaced:()=>q(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:T(x.onKeyDown,g=>{const C=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!C&&g.key.length===1&&ne(g.key),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let j=U().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(g.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const b=g.target,N=j.indexOf(b);j=j.slice(N+1)}setTimeout(()=>Y(j)),g.preventDefault()}})})})})})})});qe.displayName=cs;var is="SelectItemAlignedPosition",Ye=n.forwardRef((s,o)=>{const{__scopeSelect:t,onPlaced:l,...i}=s,p=F($,t),d=H($,t),[c,r]=n.useState(null),[u,h]=n.useState(null),w=M(o,_=>h(_)),I=ie(t),S=n.useRef(!1),y=n.useRef(!0),{viewport:m,selectedItem:a,selectedItemText:x,focusSelectedItem:f}=d,v=n.useCallback(()=>{if(p.trigger&&p.valueNode&&c&&u&&m&&a&&x){const _=p.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),oe=p.valueNode.getBoundingClientRect(),re=x.getBoundingClientRect();if(p.dir!=="rtl"){const b=re.left-O.left,N=oe.left-b,K=_.left-N,z=_.width+K,fe=Math.max(z,O.width),xe=window.innerWidth-k,he=Ee(N,[k,Math.max(k,xe-fe)]);c.style.minWidth=z+"px",c.style.left=he+"px"}else{const b=O.right-re.right,N=window.innerWidth-oe.right-b,K=window.innerWidth-_.right-N,z=_.width+K,fe=Math.max(z,O.width),xe=window.innerWidth-k,he=Ee(N,[k,Math.max(k,xe-fe)]);c.style.minWidth=z+"px",c.style.right=he+"px"}const V=I(),U=window.innerHeight-k*2,ee=m.scrollHeight,q=window.getComputedStyle(u),W=parseInt(q.borderTopWidth,10),Y=parseInt(q.paddingTop,10),X=parseInt(q.borderBottomWidth,10),Z=parseInt(q.paddingBottom,10),L=W+Y+ee+Z+X,ue=Math.min(a.offsetHeight*5,L),ne=window.getComputedStyle(m),pe=parseInt(ne.paddingTop,10),me=parseInt(ne.paddingBottom,10),J=_.top+_.height/2-k,ae=U-J,te=a.offsetHeight/2,g=a.offsetTop+te,C=W+Y+g,P=L-C;if(C<=J){const b=V.length>0&&a===V[V.length-1].ref.current;c.style.bottom="0px";const N=u.clientHeight-m.offsetTop-m.offsetHeight,K=Math.max(ae,te+(b?me:0)+N+X),z=C+K;c.style.height=z+"px"}else{const b=V.length>0&&a===V[0].ref.current;c.style.top="0px";const K=Math.max(J,W+m.offsetTop+(b?pe:0)+te)+P;c.style.height=K+"px",m.scrollTop=C-J+m.offsetTop}c.style.margin=`${k}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=U+"px",l==null||l(),requestAnimationFrame(()=>S.current=!0)}},[I,p.trigger,p.valueNode,c,u,m,a,x,p.dir,l]);B(()=>v(),[v]);const[R,A]=n.useState();B(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const de=n.useCallback(_=>{_&&y.current===!0&&(v(),f==null||f(),y.current=!1)},[v,f]);return e.jsx(us,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:S,onScrollButtonChange:de,children:e.jsx("div",{ref:r,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(E.div,{...i,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ye.displayName=is;var ds="SelectPopperPosition",ye=n.forwardRef((s,o)=>{const{__scopeSelect:t,align:l="start",collisionPadding:i=k,...p}=s,d=Ie(t);return e.jsx(At,{...d,...p,ref:o,align:l,collisionPadding:i,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=ds;var[us,Te]=Q($,{}),we="SelectViewport",Xe=n.forwardRef((s,o)=>{const{__scopeSelect:t,nonce:l,...i}=s,p=H(we,t),d=Te(we,t),c=M(o,p.onViewportChange),r=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(Ce.Slot,{scope:t,children:e.jsx(E.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:T(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:I}=d;if(I!=null&&I.current&&w){const S=Math.abs(r.current-h.scrollTop);if(S>0){const y=window.innerHeight-k*2,m=parseFloat(w.style.minHeight),a=parseFloat(w.style.height),x=Math.max(m,a);if(x<y){const f=x+S,v=Math.min(y,f),R=f-v;w.style.height=v+"px",w.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,w.style.justifyContent="flex-end")}}}r.current=h.scrollTop})})})]})});Xe.displayName=we;var Ze="SelectGroup",[ps,ms]=Q(Ze),fs=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,i=Le();return e.jsx(ps,{scope:t,id:i,children:e.jsx(E.div,{role:"group","aria-labelledby":i,...l,ref:o})})});fs.displayName=Ze;var Je="SelectLabel",Qe=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,i=ms(Je,t);return e.jsx(E.div,{id:i.id,...l,ref:o})});Qe.displayName=Je;var le="SelectItem",[xs,et]=Q(le),tt=n.forwardRef((s,o)=>{const{__scopeSelect:t,value:l,disabled:i=!1,textValue:p,...d}=s,c=F(le,t),r=H(le,t),u=c.value===l,[h,w]=n.useState(p??""),[I,S]=n.useState(!1),y=M(o,f=>{var v;return(v=r.itemRefCallback)==null?void 0:v.call(r,f,l,i)}),m=Le(),a=n.useRef("touch"),x=()=>{i||(c.onValueChange(l),c.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(xs,{scope:t,value:l,disabled:i,textId:m,isSelected:u,onItemTextChange:n.useCallback(f=>{w(v=>v||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(Ce.ItemSlot,{scope:t,value:l,disabled:i,textValue:h,children:e.jsx(E.div,{role:"option","aria-labelledby":m,"data-highlighted":I?"":void 0,"aria-selected":u&&I,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:y,onFocus:T(d.onFocus,()=>S(!0)),onBlur:T(d.onBlur,()=>S(!1)),onClick:T(d.onClick,()=>{a.current!=="mouse"&&x()}),onPointerUp:T(d.onPointerUp,()=>{a.current==="mouse"&&x()}),onPointerDown:T(d.onPointerDown,f=>{a.current=f.pointerType}),onPointerMove:T(d.onPointerMove,f=>{var v;a.current=f.pointerType,i?(v=r.onItemLeave)==null||v.call(r):a.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(d.onPointerLeave,f=>{var v;f.currentTarget===document.activeElement&&((v=r.onItemLeave)==null||v.call(r))}),onKeyDown:T(d.onKeyDown,f=>{var R;((R=r.searchRef)==null?void 0:R.current)!==""&&f.key===" "||(ss.includes(f.key)&&x(),f.key===" "&&f.preventDefault())})})})})});tt.displayName=le;var se="SelectItemText",st=n.forwardRef((s,o)=>{const{__scopeSelect:t,className:l,style:i,...p}=s,d=F(se,t),c=H(se,t),r=et(se,t),u=rs(se,t),[h,w]=n.useState(null),I=M(o,x=>w(x),r.onItemTextChange,x=>{var f;return(f=c.itemTextRefCallback)==null?void 0:f.call(c,x,r.value,r.disabled)}),S=h==null?void 0:h.textContent,y=n.useMemo(()=>e.jsx("option",{value:r.value,disabled:r.disabled,children:S},r.value),[r.disabled,r.value,S]),{onNativeOptionAdd:m,onNativeOptionRemove:a}=u;return B(()=>(m(y),()=>a(y)),[m,a,y]),e.jsxs(e.Fragment,{children:[e.jsx(E.span,{id:r.textId,...p,ref:I}),r.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Me.createPortal(p.children,d.valueNode):null]})});st.displayName=se;var ot="SelectItemIndicator",rt=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s;return et(ot,t).isSelected?e.jsx(E.span,{"aria-hidden":!0,...l,ref:o}):null});rt.displayName=ot;var Se="SelectScrollUpButton",nt=n.forwardRef((s,o)=>{const t=H(Se,s.__scopeSelect),l=Te(Se,s.__scopeSelect),[i,p]=n.useState(!1),d=M(o,l.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let c=function(){const u=r.scrollTop>0;p(u)};const r=t.viewport;return c(),r.addEventListener("scroll",c),()=>r.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?e.jsx(lt,{...s,ref:d,onAutoScroll:()=>{const{viewport:c,selectedItem:r}=t;c&&r&&(c.scrollTop=c.scrollTop-r.offsetHeight)}}):null});nt.displayName=Se;var be="SelectScrollDownButton",at=n.forwardRef((s,o)=>{const t=H(be,s.__scopeSelect),l=Te(be,s.__scopeSelect),[i,p]=n.useState(!1),d=M(o,l.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let c=function(){const u=r.scrollHeight-r.clientHeight,h=Math.ceil(r.scrollTop)<u;p(h)};const r=t.viewport;return c(),r.addEventListener("scroll",c),()=>r.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?e.jsx(lt,{...s,ref:d,onAutoScroll:()=>{const{viewport:c,selectedItem:r}=t;c&&r&&(c.scrollTop=c.scrollTop+r.offsetHeight)}}):null});at.displayName=be;var lt=n.forwardRef((s,o)=>{const{__scopeSelect:t,onAutoScroll:l,...i}=s,p=H("SelectScrollButton",t),d=n.useRef(null),c=ie(t),r=n.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return n.useEffect(()=>()=>r(),[r]),B(()=>{var h;const u=c().find(w=>w.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),e.jsx(E.div,{"aria-hidden":!0,...i,ref:o,style:{flexShrink:0,...i.style},onPointerDown:T(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(l,50))}),onPointerMove:T(i.onPointerMove,()=>{var u;(u=p.onItemLeave)==null||u.call(p),d.current===null&&(d.current=window.setInterval(l,50))}),onPointerLeave:T(i.onPointerLeave,()=>{r()})})}),hs="SelectSeparator",ct=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s;return e.jsx(E.div,{"aria-hidden":!0,...l,ref:o})});ct.displayName=hs;var Ne="SelectArrow",gs=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,i=Ie(t),p=F(Ne,t),d=H(Ne,t);return p.open&&d.position==="popper"?e.jsx(kt,{...i,...l,ref:o}):null});gs.displayName=Ne;function it(s){return s===""||s===void 0}var vs=n.forwardRef((s,o)=>{const{value:t,...l}=s,i=n.useRef(null),p=M(o,i),d=es(t);return n.useEffect(()=>{const c=i.current,r=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(r,"value").set;if(d!==t&&h){const w=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(w)}},[d,t]),e.jsx(Dt,{asChild:!0,children:e.jsx("select",{...l,ref:p,defaultValue:t})})});vs.displayName="BubbleSelect";function dt(s){const o=Lt(s),t=n.useRef(""),l=n.useRef(0),i=n.useCallback(d=>{const c=t.current+d;o(c),function r(u){t.current=u,window.clearTimeout(l.current),u!==""&&(l.current=window.setTimeout(()=>r(""),1e3))}(c)},[o]),p=n.useCallback(()=>{t.current="",window.clearTimeout(l.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(l.current),[]),[t,i,p]}function ut(s,o,t){const i=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,p=t?s.indexOf(t):-1;let d=ys(s,Math.max(p,0));i.length===1&&(d=d.filter(u=>u!==t));const r=d.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return r!==t?r:void 0}function ys(s,o){return s.map((t,l)=>s[(o+l)%s.length])}var pt=Ue,ws=Ke,Ss=ze,mt=Ge,bs=Xe,ft=Qe,xt=tt,Ns=st,js=rt,ht=nt,gt=at,vt=ct;const Cs=n.forwardRef(({className:s,children:o,...t},l)=>e.jsxs(pt,{ref:l,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[o,e.jsx(ws,{asChild:!0,children:e.jsx(Be,{className:"h-4 w-4 opacity-50"})})]}));Cs.displayName=pt.displayName;const yt=n.forwardRef(({className:s,...o},t)=>e.jsx(ht,{ref:t,className:D("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(Yt,{className:"h-4 w-4"})}));yt.displayName=ht.displayName;const wt=n.forwardRef(({className:s,...o},t)=>e.jsx(gt,{ref:t,className:D("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(Be,{className:"h-4 w-4"})}));wt.displayName=gt.displayName;const Is=n.forwardRef(({className:s,children:o,position:t="popper",...l},i)=>e.jsx(Ss,{children:e.jsxs(mt,{ref:i,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...l,children:[e.jsx(yt,{}),e.jsx(bs,{className:D("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),e.jsx(wt,{})]})}));Is.displayName=mt.displayName;const Ts=n.forwardRef(({className:s,...o},t)=>e.jsx(ft,{ref:t,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...o}));Ts.displayName=ft.displayName;const Rs=n.forwardRef(({className:s,children:o,...t},l)=>e.jsxs(xt,{ref:l,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(js,{children:e.jsx(qt,{className:"h-4 w-4"})})}),e.jsx(Ns,{children:o})]}));Rs.displayName=xt.displayName;const Ps=n.forwardRef(({className:s,...o},t)=>e.jsx(vt,{ref:t,className:D("-mx-1 my-1 h-px bg-muted",s),...o}));Ps.displayName=vt.displayName;function Es({ads:s,selected:o,onSave:t}){const[l,i]=n.useState(!1),{control:p,handleSubmit:d,reset:c,register:r}=_t();n.useEffect(()=>{if(o){const h=s.find(w=>w.id===o);h&&c(h)}},[o,s,c]);const u=h=>{t({...h,id:o}),i(!1)};return e.jsxs(Wt,{open:l,onOpenChange:i,children:[e.jsx(Kt,{asChild:!0,children:e.jsx(ke,{variant:"outline",children:"تعديل الأعلان"})}),e.jsxs(zt,{className:"sm:max-w-[425px] bg-white",children:[e.jsx(Gt,{children:e.jsx($t,{className:"text-center",children:" تعديل عنوان ومشاهدات الاعلان "})}),e.jsxs("form",{onSubmit:d(u),className:"",children:[e.jsxs("div",{className:"flex flex-col space-y-2 mt-4",children:[e.jsx("label",{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"العنوان"}),e.jsx("input",{type:"text",id:"title",className:" border border-blue-300 rounded-md p-2 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...r("title")})]}),e.jsxs("div",{className:"flex flex-col space-y-2 mt-4",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"الوصف"}),e.jsx("textarea",{type:"text",id:"description",className:" border border-blue-300 rounded-md p-2 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...r("description")})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{className:"block text-gray-800 dark:text-white mb-2 text-sm ",htmlFor:"category",children:"اختر نوع الإعلان"}),e.jsxs("select",{id:"category",...r("category"),className:"w-full p-2 border rounded-lg dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر نوعًا"}),e.jsx("option",{value:"events",children:"مناسبات"}),e.jsx("option",{value:"real_estate",children:"عقارات"}),e.jsx("option",{value:"cars",children:"سيارات"}),e.jsx("option",{value:"electronics",children:"إلكترونيات"}),e.jsx("option",{value:"services",children:"خدمات"}),e.jsx("option",{value:"home_supplies",children:"لوازم منزلية"}),e.jsx("option",{value:"personal_supplies",children:"لوازم شخصية"}),e.jsx("option",{value:"animals",children:"حيوانات"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 mt-4",children:[e.jsx("label",{htmlFor:"views",className:"text-sm font-medium text-gray-700",children:"المشاهدات"}),e.jsx("input",{type:"number",id:"views",min:0,className:" border border-blue-300 rounded-md p-2 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...r("views")})]}),e.jsx("button",{type:"submet",className:"bg-blue-500 text-white p-2 rounded-lg w-full mt-4",children:"حفظ البيانات"})]})]})]})}const _s=({ads:s,selected:o})=>{const t=s.find(r=>r.id===o),{deleteAdFromDB:l,updateADs:i}=Ae();function p(r){return{events:"مناسبات",real_estate:"عقارات",cars:"سيارات",electronics:"إلكترونيات",services:"خدمات",home_supplies:"لوازم منزلية",personal_supplies:"لوازم شخصية",animals:"حيوانات"}[r]||"ترجمة غير متوفرة"}const d=()=>{(async()=>{if(confirm("هل أنت متأكد من حذف هذا العنصر؟"))try{await l(o),alert("تم حذف العنصر بنجاح!")}catch(h){console.error("حدث خطأ أثناء الحذف:",h),alert("حدث خطأ أثناء الحذف.")}else alert("تم إلغاء العملية.")})()},c=r=>{const u=r.id;confirm(" هل متاكد من تعديل البيانات")?(i(u,r),alert("تم تعديل البيانات بنجاح")):alert("تم الغاء التعديل")};return e.jsxs(Tt,{className:"max-w-full sm:max-w-lg md:max-w-xl lg:max-w-2xl mx-auto",children:[e.jsxs(Rt,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:[e.jsx(Pt,{className:"text-2xl sm:text-3xl font-bold",children:t==null?void 0:t.title}),e.jsx(Pe,{variant:"secondary",className:"mt-2",children:p(t.category)})]}),e.jsxs(Et,{className:"p-6",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-6",children:t.description}),e.jsx(ve,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(St,{className:"text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ البداية"}),e.jsx("p",{className:"text-base font-semibold",children:t.startDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ النهاية"}),e.jsx("p",{className:"text-base font-semibold",children:t.endDate})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(bt,{className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"المنطقة"}),e.jsx("p",{className:"text-base font-semibold",children:t.region})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"المحافظات"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.governorates.length>0?t.governorates.map((r,u)=>e.jsx(Pe,{variant:"outline",children:r},u)):e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لم يتم تحديد محافظات"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"النجوم المشاركين"}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("div",{className:"flex",children:t.stars.length>0&&t.stars.length<11?Array.from({length:t.stars.length}).map((r,u)=>e.jsx(Nt,{className:"text-yellow-500 text-lg"},u)):e.jsx(jt,{className:"text-gray-400 text-lg"})}),e.jsxs("span",{className:"text-sm font-semibold",children:["(",t.stars.length,")"]})]}),e.jsx("p",{className:"text-sm mt-2",children:t.stars.length>0?t.stars.map((r,u)=>e.jsxs("span",{children:[r.name,u<t.stars.length-1?"، ":""]},u)):"لا يوجد نجوم مشاركين"})]})]}),e.jsx(ve,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(Ct,{className:"text-purple-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الصور"})]}),t.images.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.images.map((r,u)=>e.jsx("img",{src:r,alt:`صورة الإعلان ${u+1}`,className:"w-full h-24 sm:h-32 md:h-40 object-cover rounded-lg shadow-md transition-transform transform hover:scale-105"},u))}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا توجد صور متاحة"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الفيديو"})]}),t.video?e.jsxs("video",{controls:!0,className:"w-full max-w-md mx-auto rounded-lg shadow-md",children:[e.jsx("source",{src:t.video,type:"video/mp4"}),"متصفحك لا يدعم تشغيل الفيديو"]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا يوجد فيديو متاح"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end",children:[e.jsx(ke,{variant:"destructive",onClick:d,className:"bg-red-600 text-white mx-3",children:"حذف الإعلان"}),o&&e.jsx(Es,{ads:s,selected:o,onSave:c})]})]})]})},Ys=()=>{const{getAllAds:s}=Ae(),[o,t]=n.useState(null),[l,i]=n.useState([]),[p,d]=n.useState(1),c=20,[r,u]=n.useState("الكل"),[h,w]=n.useState("الكل");n.useEffect(()=>{s().then(a=>{i(a),console.log(a)})},[]);const I=a=>a?Array.isArray(a)?a.join(", "):a:"",S=l.filter(a=>{const x=r==="الكل"||a.region===r,f=h==="الكل"||a.governorates&&Array.isArray(a.governorates)&&a.governorates.includes(h);return x&&f}).sort((a,x)=>x.id-a.id),y=(p-1)*c;l.slice(y,y+c);const m=Math.ceil(l.length/c);return e.jsxs("div",{className:"grow md:p-8 p-2 dark:bg-gray-800 h-full overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"الحملات الاعلانية"}),e.jsxs("div",{className:"mt-6 bg-white w-fit dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("select",{value:r,onChange:a=>{u(a.target.value),w("الكل")},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",children:[e.jsx("option",{value:"الكل",children:"كل المناطق"}),Re.map((a,x)=>e.jsx("option",{value:a.name,children:a.name},x))]}),e.jsxs("select",{value:h,onChange:a=>w(a.target.value),className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",disabled:r==="الكل",children:[e.jsx("option",{value:"الكل",children:"كل المحافظات"}),Re.filter(a=>a.name===r).flatMap(a=>a.subGovernments).map((a,x)=>e.jsx("option",{value:a,children:a},x))]})]}),e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"py-2 px-4 text-right",children:"اسم الحملة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"المنطقة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"المحافظة"}),e.jsx("th",{className:"py-2 px-4 text-right min-w-32",children:"الفترة"}),e.jsx("th",{className:"py-2 px-4 text-right",children:"عدد المشاهدات"})]})}),e.jsx("tbody",{children:S.map((a,x)=>e.jsxs("tr",{onClick:()=>t(a.id),className:`border-b ${a.id===o?"bg-gray-200":""}`,children:[e.jsx("td",{className:"py-2 px-4",children:a.title}),e.jsx("td",{className:"py-2 px-4",children:a.region}),e.jsx("td",{className:"py-2 px-4",children:I(a.governorates)}),e.jsxs("td",{className:"py-2 px-4",children:[e.jsxs("p",{className:"text-xs",children:["من ",a.startDate]}),e.jsxs("p",{className:"text-xs",children:["إلى ",a.endDate]})]}),e.jsx("td",{className:"py-2 px-4",children:a.views})]},x))})]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>d(a=>Math.max(a-1,1)),disabled:p===1,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"السابق"}),Array.from({length:m},(a,x)=>e.jsx("button",{onClick:()=>d(x+1),className:`px-4 py-2 mx-1 rounded-lg ${p===x+1?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:x+1},x)),e.jsx("button",{onClick:()=>d(a=>Math.min(a+1,m)),disabled:p===m,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"التالي"})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 max-w-screen",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"تفاصيل الحملة"}),o&&e.jsx(_s,{ads:l,selected:o})]})]})};export{Ys as default};
