import{r,j as e,a as i}from"./index-ZVTjhihn.js";import{u as j}from"./index.esm-CTiyKq6t.js";import{k as a}from"./index-CcT9vSPR.js";const k=()=>{const[x,u]=r.useState(""),[c,y]=r.useState(!1),[d,h]=r.useState([]),l=async()=>{try{const s=await i.get("/messages");console.log(s.data.data),h(s.data.data)}catch(s){console.error(s)}};r.useEffect(()=>{l()},[]);const{register:o,reset:g,handleSubmit:f,formState:{errors:n}}=j(),b=s=>{console.log(s,x),(async()=>{try{const t=await i.post("/messages",s);console.log(t.data),a.success("تم إضافة الراعي بنجاح"),g(),u(""),l()}catch(t){console.error(t),a.error("حدث خطأ أثناء إضافة الراعي")}})()},p=async s=>{if(window.confirm("هل أنت متأكد من حذف الراعي؟"))try{const t=await i.delete(`/messages/${s}`);console.log(t.data),a.success("تم حذف الراعي بنجاح"),l()}catch(t){console.error(t),a.error("حدث خطأ أثناء حذف الراعي")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-b lue-50 to-gray -100 pt-16 pb-12",children:e.jsxs("div",{className:"max-w- 6xl mx-auto px-4",children:[e.jsxs("div",{className:"p-4 max-w-xl mx-auto bg-white rounded-3xl shadow-lg space-y-6 transition-all duration-300 hover:shadow-xl border border-gray-100 mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-2"}),e.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 tracking-tight",children:"إضافة تعليق جديد"}),e.jsxs("form",{onSubmit:f(b),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700",children:"الاسم"}),e.jsx("input",{type:"text",id:"name",className:"block w-full border border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 p-3 transition-all duration-200 bg-gray-50 text-gray-900 placeholder-gray-400 text-right",placeholder:"أدخل الاسم هنا",...o("name",{required:!0}),dir:"rtl"}),n.name&&e.jsx("span",{className:"text-red-500 text-sm font-medium animate-pulse flex justify-end",children:"هذا الحقل مطلوب"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700",children:"التعليق"}),e.jsx("textarea",{type:"text",id:"description",className:"block w-full border border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 p-3 transition-all duration-200 bg-gray-50 text-gray-900 placeholder-gray-400 text-right",placeholder:"أدخل التعليق هنا",...o("description",{required:!0}),dir:"rtl"}),n.description&&e.jsx("span",{className:"text-red-500 text-sm font-medium animate-pulse flex justify-end",children:"هذا الحقل مطلوب"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"rating",className:"block text-sm font-semibold text-gray-700",children:"التقييم"}),e.jsx("input",{type:"number",min:"0",max:"5",id:"rating",className:"block w-full border border-gray-200 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 p-3 transition-all duration-200 bg-gray-50 text-gray-900 placeholder-gray-400 text-right",placeholder:"أدخل التقييم هنا",...o("rating",{required:!0}),dir:"rtl"}),n.rating&&e.jsx("span",{className:"text-red-500 text-sm font-medium animate-pulse flex justify-end",children:"هذا الحقل مطلوب"})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white rounded-lg p-4 font-semibold hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 focus:outline-none transition-all duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",children:c?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جارٍ تحميل التعليق..."]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة التعليق"]})})})]})]}),e.jsxs("div",{className:"mx-auto px-4 mb-12  ",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[e.jsx("div",{className:"h-px w-16 bg-b lue-200"}),e.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 tracking-tight",children:"قائمة التعليقات"}),e.jsx("div",{className:"h-px w-16 bg- blue-200"})]}),e.jsxs("div",{className:"mt-6 flex flex-row flex-wrap justify-center gap-6",children:[d.map(s=>e.jsxs("div",{className:"flex items-center flex-col md:flex-row justify-between md:p-6 p-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 border border-gray-100 w-full md:w-96",children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center space-x-5 rtl:space-x-reverse",children:e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 tracking-tight overflow-hidden",children:s.name||"Unknown"}),e.jsxs("div",{className:"flex items-center text-yellow-500",children:[Array.from({length:5},(m,t)=>e.jsx("svg",{className:`w-4 h-4 ${t<s.rating?"fill-current":"stroke-current"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},t)),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",s.rating||0,")"]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.description||"لا يوجد وصف"})]})}),e.jsx("button",{className:"bg-red-50 text-red-600 rounded-lg px-4 py-2 font-semibold hover:bg-red-600 hover:text-white focus:ring-4 focus:ring-red-200 focus:outline-none transition-all duration-200 active:scale-95",onClick:()=>p(s._id),children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 inline-block ml-1 rtl:mr-1 rtl:ml-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"حذف"]})})]},s._id)),d.length===0&&e.jsxs("div",{className:"text-center py-12 px-8 bg-white rounded-xl shadow-md border border-gray-100 w-full max-w-lg",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"bg-blue-50 p-4 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"لا يوجد تعليقات حاليًا"}),e.jsx("p",{className:"text-base text-gray-500 mt-2",children:"أضف تعليقات جدد لعرضهم هنا"}),e.jsxs("button",{onClick:()=>document.getElementById("image-upload").click(),className:"mt-6 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة تعليق جديد"]})]})]})]})]})})};export{k as default};
