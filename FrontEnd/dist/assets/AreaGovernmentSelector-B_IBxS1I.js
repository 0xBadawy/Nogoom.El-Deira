import{r as c,j as s}from"./index-D1GyvUbU.js";import{A as u}from"./data-BYJ6_0xl.js";const j=({initialData:l={},onSelectionChange:d})=>{const[t,m]=c.useState(""),[a,n]=c.useState([]);c.useEffect(()=>{l.area&&m(l.area),l.governments&&n(l.governments)},[l]),console.log("Initial Data from Props:",l);const o=c.useMemo(()=>{const e=u.find(r=>r.name===t);return e?e.subGovernments:[]},[t]),x=e=>{const r=e.target.value;m(r),n([])},i=e=>{const{value:r,checked:f}=e.target;n(h=>f?[...h,r]:h.filter(g=>g!==r))},b=e=>{n(e.target.checked?o:[])};return c.useEffect(()=>{d&&d({selectedArea:t,selectedGovernments:a})},[t,a,d]),s.jsxs("div",{className:"mx-auto w-full bg-white p-6 border rounded-2xl shadow-xl h-fit",children:[s.jsx("label",{className:"block text-xl font-bold text-gray-700 mb-3",children:"اختر المنطقة:"}),s.jsxs("select",{value:t,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none mb-4",children:[s.jsx("option",{value:"",children:"-- اختر المنطقة --"}),u.map(e=>s.jsx("option",{value:e.name,children:e.name},e.name))]}),o.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("input",{type:"checkbox",id:"select-all",checked:a.length===o.length,onChange:b,className:"w-5 h-5 accent-blue-500 rounded-md"}),s.jsx("label",{htmlFor:"select-all",className:"ml-3 text-gray-800 text-lg",children:"اختر الكل"})]}),s.jsx("div",{className:"h-48 overflow-y-scroll border border-gray-300 rounded-lg p-3 space-y-3 bg-gray-50",children:o.map(e=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:e,value:e,checked:a.includes(e),onChange:i,className:"w-5 h-5 accent-blue-500 rounded-md"}),s.jsx("label",{htmlFor:e,className:"ml-3 text-gray-700 hover:text-blue-600 cursor-pointer",children:e})]},e))})]})]})};export{j as A};
