import{a as w,b as v,c as y,r as x,j as e,L as o,d as L}from"./index-CZzhY4wm.js";import{u as k}from"./index.esm-CZTQ071g.js";import{h as S}from"./Errors-CyIGExsm.js";import{L as F}from"./Deira-logo2-q4QQy5sZ.js";import{L as E}from"./LoginStar-BsrTecc1.js";const B=()=>{var d,c,m;const l=w(),g=v(),{login:u}=y();(d=g.state)!=null&&d.path;const[r,h]=x.useState(null),[I,R]=x.useState(!1),t={title:"تسجيل الدخول النجوم",email:"البريد الالكتروني",password:"كلمة المرور",login:"تسجيل الدخول"},{register:n,handleSubmit:p,formState:{errors:i}}=k(),b=async f=>{const{email:j,password:N}=f;(async()=>{try{const a=await L.post("/auth/signin",{email:j,password:N}),{data:s}=a;console.log(s),console.log(s.data.role),u(s.data),localStorage.setItem("token",s.token),s.data.role==="admin"?l("/dashboard"):l("/profile")}catch(a){console.log(a);const s=S(a.response.data.message);h(s)}})()};return e.jsxs("div",{className:"grid grid-cols-1 mx-auto  md:grid-cols-2",style:{direction:"rtl"},children:[e.jsx("div",{className:"flex items-center justify-center h-screen ",children:e.jsxs("div",{className:"w-full max-w-xl bg-white p-6 rounded-lg shado w-md",children:[e.jsx("img",{src:F,alt:"logo",className:"w-40 pb-3  mx-auto "}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-3",children:t.title}),r&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py- rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:" خطأ! "}),e.jsx("span",{className:"block sm:inline",children:r})]}),e.jsxs("form",{onSubmit:p(b),children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:t.email}),e.jsx("input",{type:"text",id:"email",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300",placeholder:"email@example.com",...n("email")}),e.jsx("p",{className:"text-red-500 text-xs mt-1",children:(c=i.email)==null?void 0:c.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:t.password}),e.jsx("input",{type:"password",id:"password",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300",placeholder:"********",...n("password")}),e.jsx("p",{className:"text-red-500 text-xs mt-1",children:(m=i.password)==null?void 0:m.message})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-800  text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-600",children:t.login})]}),e.jsxs("div",{className:"grid gap-1 mt-2",children:[e.jsxs("div",{className:"text-center font-bold",children:[e.jsx("span",{children:"ليس لديك حساب؟"}),e.jsx(o,{to:"/signup",className:"text-blue-500 hover:underline",children:" تسجيل جديد "})]}),e.jsx("div",{className:"text-center",children:e.jsx(o,{to:"/forget-password",className:"text-blue-500 hover:underline",children:" نسيت كلمة المرور؟ "})}),e.jsx("div",{className:"text-center",children:e.jsx(o,{to:"/",className:"text-blue-500 hover:underline",children:" تصفح الموقع كزائر بدون تسجيل الدخول"})})]})]})}),e.jsx("div",{className:"w-full h-screen hidden md:block ",children:e.jsx("img",{className:"w-full h-full object-cover",src:E,alt:"login"})})]})};export{B as default};
