import{k as re,r as s,j as c,a as Ee}from"./index-ZVTjhihn.js";import{P as k}from"./index-MgaJp1bz.js";import{c as oe,P as O,a as P,u as _,b as Re,d as Ae,D as je}from"./index-z1uMNR1c.js";import{u as j,c as $,S as _e}from"./index-CUMRaqNP.js";import{c as Ne,a as ne,C as Le,R as De,A as ke,b as Oe}from"./index-BbOR9znd.js";import{u as He}from"./index.esm-CTiyKq6t.js";import{D as Me,k as Y}from"./index-CcT9vSPR.js";import{c as Ie}from"./index-CHCszQQ4.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var Be=s.createContext(void 0);function Ue(e){const r=s.useContext(Be);return e||r||"ltr"}function Ve(e,r){return s.useReducer((t,n)=>r[t][n]??t,e)}var G="ScrollArea",[le,At]=oe(G),[Xe,T]=le(G),se=s.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:n="hover",dir:o,scrollHideDelay:l=600,...a}=e,[u,i]=s.useState(null),[p,d]=s.useState(null),[f,h]=s.useState(null),[b,m]=s.useState(null),[S,w]=s.useState(null),[y,v]=s.useState(0),[x,C]=s.useState(0),[E,H]=s.useState(!1),[I,W]=s.useState(!1),g=j(r,N=>i(N)),R=Ue(o);return c.jsx(Xe,{scope:t,type:n,dir:R,scrollHideDelay:l,scrollArea:u,viewport:p,onViewportChange:d,content:f,onContentChange:h,scrollbarX:b,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:H,scrollbarY:S,onScrollbarYChange:w,scrollbarYEnabled:I,onScrollbarYEnabledChange:W,onCornerWidthChange:v,onCornerHeightChange:C,children:c.jsx(k.div,{dir:R,...a,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});se.displayName=G;var ae="ScrollAreaViewport",ce=s.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:n,nonce:o,...l}=e,a=T(ae,t),u=s.useRef(null),i=j(r,u,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(k.div,{"data-radix-scroll-area-viewport":"",...l,ref:i,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ce.displayName=ae;var A="ScrollAreaScrollbar",q=s.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=T(A,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:a}=o,u=e.orientation==="horizontal";return s.useEffect(()=>(u?l(!0):a(!0),()=>{u?l(!1):a(!1)}),[u,l,a]),o.type==="hover"?c.jsx(Ye,{...n,ref:r,forceMount:t}):o.type==="scroll"?c.jsx(Fe,{...n,ref:r,forceMount:t}):o.type==="auto"?c.jsx(ie,{...n,ref:r,forceMount:t}):o.type==="always"?c.jsx(K,{...n,ref:r}):null});q.displayName=A;var Ye=s.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=T(A,e.__scopeScrollArea),[l,a]=s.useState(!1);return s.useEffect(()=>{const u=o.scrollArea;let i=0;if(u){const p=()=>{window.clearTimeout(i),a(!0)},d=()=>{i=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",d),()=>{window.clearTimeout(i),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),c.jsx(O,{present:t||l,children:c.jsx(ie,{"data-state":l?"visible":"hidden",...n,ref:r})})}),Fe=s.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=T(A,e.__scopeScrollArea),l=e.orientation==="horizontal",a=V(()=>i("SCROLL_END"),100),[u,i]=Ve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return s.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>i("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,i]),s.useEffect(()=>{const p=o.viewport,d=l?"scrollLeft":"scrollTop";if(p){let f=p[d];const h=()=>{const b=p[d];f!==b&&(i("SCROLL"),a()),f=b};return p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[o.viewport,l,i,a]),c.jsx(O,{present:t||u!=="hidden",children:c.jsx(K,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:P(e.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),ie=s.forwardRef((e,r)=>{const t=T(A,e.__scopeScrollArea),{forceMount:n,...o}=e,[l,a]=s.useState(!1),u=e.orientation==="horizontal",i=V(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;a(u?p:d)}},10);return L(t.viewport,i),L(t.content,i),c.jsx(O,{present:n||l,children:c.jsx(K,{"data-state":l?"visible":"hidden",...o,ref:r})})}),K=s.forwardRef((e,r)=>{const{orientation:t="vertical",...n}=e,o=T(A,e.__scopeScrollArea),l=s.useRef(null),a=s.useRef(0),[u,i]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=pe(u.viewport,u.content),d={...n,sizes:u,onSizesChange:i,hasThumb:p>0&&p<1,onThumbChange:h=>l.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,b){return Qe(h,a.current,u,b)}return t==="horizontal"?c.jsx($e,{...d,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){const h=o.viewport.scrollLeft,b=ee(h,u,o.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,o.dir))}}):t==="vertical"?c.jsx(Ge,{...d,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){const h=o.viewport.scrollTop,b=ee(h,u);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null}),$e=s.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,l=T(A,e.__scopeScrollArea),[a,u]=s.useState(),i=s.useRef(null),p=j(r,i,l.onScrollbarXChange);return s.useEffect(()=>{i.current&&u(getComputedStyle(i.current))},[i]),c.jsx(ue,{"data-orientation":"horizontal",...o,ref:p,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(t)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(l.viewport){const h=l.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),be(h,f)&&d.preventDefault()}},onResize:()=>{i.current&&l.viewport&&a&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:B(a.paddingLeft),paddingEnd:B(a.paddingRight)}})}})}),Ge=s.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,l=T(A,e.__scopeScrollArea),[a,u]=s.useState(),i=s.useRef(null),p=j(r,i,l.onScrollbarYChange);return s.useEffect(()=>{i.current&&u(getComputedStyle(i.current))},[i]),c.jsx(ue,{"data-orientation":"vertical",...o,ref:p,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(t)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(l.viewport){const h=l.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),be(h,f)&&d.preventDefault()}},onResize:()=>{i.current&&l.viewport&&a&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:B(a.paddingTop),paddingEnd:B(a.paddingBottom)}})}})}),[qe,de]=le(A),ue=s.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:o,onThumbChange:l,onThumbPointerUp:a,onThumbPointerDown:u,onThumbPositionChange:i,onDragScroll:p,onWheelScroll:d,onResize:f,...h}=e,b=T(A,t),[m,S]=s.useState(null),w=j(r,g=>S(g)),y=s.useRef(null),v=s.useRef(""),x=b.viewport,C=n.content-n.viewport,E=_(d),H=_(i),I=V(f,10);function W(g){if(y.current){const R=g.clientX-y.current.left,N=g.clientY-y.current.top;p({x:R,y:N})}}return s.useEffect(()=>{const g=R=>{const N=R.target;(m==null?void 0:m.contains(N))&&E(R,C)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[x,m,C,E]),s.useEffect(H,[n,H]),L(m,I),L(b.content,I),c.jsx(qe,{scope:t,scrollbar:m,hasThumb:o,onThumbChange:_(l),onThumbPointerUp:_(a),onThumbPositionChange:H,onThumbPointerDown:_(u),children:c.jsx(k.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:P(e.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),y.current=m.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),W(g))}),onPointerMove:P(e.onPointerMove,W),onPointerUp:P(e.onPointerUp,g=>{const R=g.target;R.hasPointerCapture(g.pointerId)&&R.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=v.current,b.viewport&&(b.viewport.style.scrollBehavior=""),y.current=null})})})}),z="ScrollAreaThumb",fe=s.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=de(z,e.__scopeScrollArea);return c.jsx(O,{present:t||o.hasThumb,children:c.jsx(Ke,{ref:r,...n})})}),Ke=s.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:n,...o}=e,l=T(z,t),a=de(z,t),{onThumbPositionChange:u}=a,i=j(r,f=>a.onThumbChange(f)),p=s.useRef(void 0),d=V(()=>{p.current&&(p.current(),p.current=void 0)},100);return s.useEffect(()=>{const f=l.viewport;if(f){const h=()=>{if(d(),!p.current){const b=Ze(f,u);p.current=b,u()}};return u(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[l.viewport,d,u]),c.jsx(k.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:P(e.onPointerDownCapture,f=>{const b=f.target.getBoundingClientRect(),m=f.clientX-b.left,S=f.clientY-b.top;a.onThumbPointerDown({x:m,y:S})}),onPointerUp:P(e.onPointerUp,a.onThumbPointerUp)})});fe.displayName=z;var J="ScrollAreaCorner",he=s.forwardRef((e,r)=>{const t=T(J,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?c.jsx(Je,{...e,ref:r}):null});he.displayName=J;var Je=s.forwardRef((e,r)=>{const{__scopeScrollArea:t,...n}=e,o=T(J,t),[l,a]=s.useState(0),[u,i]=s.useState(0),p=!!(l&&u);return L(o.scrollbarX,()=>{var f;const d=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(d),i(d)}),L(o.scrollbarY,()=>{var f;const d=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(d),a(d)}),p?c.jsx(k.div,{...n,ref:r,style:{width:l,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function B(e){return e?parseInt(e,10):0}function pe(e,r){const t=e/r;return isNaN(t)?0:t}function U(e){const r=pe(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*r;return Math.max(n,18)}function Qe(e,r,t,n="ltr"){const o=U(t),l=o/2,a=r||l,u=o-a,i=t.scrollbar.paddingStart+a,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,d=t.content-t.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return ve([i,p],f)(e)}function ee(e,r,t="ltr"){const n=U(r),o=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-o,a=r.content-r.viewport,u=l-n,i=t==="ltr"?[0,a]:[a*-1,0],p=Ne(e,i);return ve([0,a],[0,u])(p)}function ve(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}function be(e,r){return e>0&&e<r}var Ze=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const l={left:e.scrollLeft,top:e.scrollTop},a=t.left!==l.left,u=t.top!==l.top;(a||u)&&r(),t=l,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function V(e,r){const t=_(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function L(e,r){const t=_(r);Re(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,t])}var me=se,et=ce,tt=he;const rt=s.forwardRef(({className:e,children:r,...t},n)=>c.jsxs(me,{ref:n,className:$("relative overflow-hidden",e),...t,children:[c.jsx(et,{className:"h-full w-full rounded-[inherit]",children:r}),c.jsx(xe,{}),c.jsx(tt,{})]}));rt.displayName=me.displayName;const xe=s.forwardRef(({className:e,orientation:r="vertical",...t},n)=>c.jsx(q,{ref:n,orientation:r,className:$("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:c.jsx(fe,{className:"relative flex-1 rounded-full bg-border"})}));xe.displayName=q.displayName;var[X,jt]=oe("Tooltip",[ne]),Q=ne(),ot="TooltipProvider",te="tooltip.open",[_t,ge]=X(ot),Se="Tooltip",[Nt,M]=X(Se),F="TooltipTrigger",nt=s.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,o=M(F,t),l=ge(F,t),a=Q(t),u=s.useRef(null),i=j(r,u,o.onTriggerChange),p=s.useRef(!1),d=s.useRef(!1),f=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ke,{asChild:!0,...a,children:c.jsx(k.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:i,onPointerMove:P(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),d.current=!0)}),onPointerLeave:P(e.onPointerLeave,()=>{o.onTriggerLeave(),d.current=!1}),onPointerDown:P(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:P(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:P(e.onBlur,o.onClose),onClick:P(e.onClick,o.onClose)})})});nt.displayName=F;var Z="TooltipPortal",[lt,st]=X(Z,{forceMount:void 0}),we=e=>{const{__scopeTooltip:r,forceMount:t,children:n,container:o}=e,l=M(Z,r);return c.jsx(lt,{scope:r,forceMount:t,children:c.jsx(O,{present:t||l.open,children:c.jsx(Ae,{asChild:!0,container:o,children:n})})})};we.displayName=Z;var D="TooltipContent",ye=s.forwardRef((e,r)=>{const t=st(D,e.__scopeTooltip),{forceMount:n=t.forceMount,side:o="top",...l}=e,a=M(D,e.__scopeTooltip);return c.jsx(O,{present:n||a.open,children:a.disableHoverableContent?c.jsx(Ce,{side:o,...l,ref:r}):c.jsx(at,{side:o,...l,ref:r})})}),at=s.forwardRef((e,r)=>{const t=M(D,e.__scopeTooltip),n=ge(D,e.__scopeTooltip),o=s.useRef(null),l=j(r,o),[a,u]=s.useState(null),{trigger:i,onClose:p}=t,d=o.current,{onPointerInTransitChange:f}=n,h=s.useCallback(()=>{u(null),f(!1)},[f]),b=s.useCallback((m,S)=>{const w=m.currentTarget,y={x:m.clientX,y:m.clientY},v=ut(y,w.getBoundingClientRect()),x=ft(y,v),C=ht(S.getBoundingClientRect()),E=vt([...x,...C]);u(E),f(!0)},[f]);return s.useEffect(()=>()=>h(),[h]),s.useEffect(()=>{if(i&&d){const m=w=>b(w,d),S=w=>b(w,i);return i.addEventListener("pointerleave",m),d.addEventListener("pointerleave",S),()=>{i.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",S)}}},[i,d,b,h]),s.useEffect(()=>{if(a){const m=S=>{const w=S.target,y={x:S.clientX,y:S.clientY},v=(i==null?void 0:i.contains(w))||(d==null?void 0:d.contains(w)),x=!pt(y,a);v?h():x&&(h(),p())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[i,d,a,p,h]),c.jsx(Ce,{...e,ref:l})}),[ct,it]=X(Se,{isInside:!1}),Ce=s.forwardRef((e,r)=>{const{__scopeTooltip:t,children:n,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:a,...u}=e,i=M(D,t),p=Q(t),{onClose:d}=i;return s.useEffect(()=>(document.addEventListener(te,d),()=>document.removeEventListener(te,d)),[d]),s.useEffect(()=>{if(i.trigger){const f=h=>{const b=h.target;b!=null&&b.contains(i.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,d]),c.jsx(je,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Le,{"data-state":i.stateAttribute,...p,...u,ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(_e,{children:n}),c.jsx(ct,{scope:t,isInside:!0,children:c.jsx(De,{id:i.contentId,role:"tooltip",children:o||n})})]})})});ye.displayName=D;var Pe="TooltipArrow",dt=s.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,o=Q(t);return it(Pe,t).isInside?null:c.jsx(Oe,{...o,...n,ref:r})});dt.displayName=Pe;function ut(e,r){const t=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),o=Math.abs(r.right-e.x),l=Math.abs(r.left-e.x);switch(Math.min(t,n,o,l)){case l:return"left";case o:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ft(e,r,t=5){const n=[];switch(r){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function ht(e){const{top:r,right:t,bottom:n,left:o}=e;return[{x:o,y:r},{x:t,y:r},{x:t,y:n},{x:o,y:n}]}function pt(e,r){const{x:t,y:n}=e;let o=!1;for(let l=0,a=r.length-1;l<r.length;a=l++){const u=r[l].x,i=r[l].y,p=r[a].x,d=r[a].y;i>n!=d>n&&t<(p-u)*(n-i)/(d-i)+u&&(o=!o)}return o}function vt(e){const r=e.slice();return r.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),bt(r)}function bt(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const o=e[n];for(;r.length>=2;){const l=r[r.length-1],a=r[r.length-2];if((l.x-a.x)*(o.y-a.y)>=(l.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}r.pop();const t=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;t.length>=2;){const l=t[t.length-1],a=t[t.length-2];if((l.x-a.x)*(o.y-a.y)>=(l.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var mt=we,Te=ye;const xt=s.forwardRef(({className:e,sideOffset:r=4,...t},n)=>c.jsx(mt,{children:c.jsx(Te,{ref:n,sideOffset:r,className:$("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));xt.displayName=Te.displayName;const Lt=({selectedUserUid:e,usersData:r,onSave:t})=>{const{register:n,handleSubmit:o,reset:l,setValue:a,formState:{errors:u}}=He(),i=[{name:"نجم عادي",views:1e3,earnings:10,value:"none"},{name:"نجم فضي",views:5e3,earnings:30,value:"silver"},{name:" نجم ذهبي",views:1e4,earnings:50,value:"gold"},{name:" نجم برونزي",views:1e5,earnings:100,value:"bronze"}],[p,d]=s.useState([]),[f,h]=s.useState(0),[b,m]=s.useState(!1);s.useEffect(()=>{const v=r.find(x=>x._id===e);v&&(console.log("UserDetailsBalance User found:",v),l(v),a("userStatus",v.verified?`accepted_${v.accountType}`:"pending"),h(v.balance||0))},[e,r,l]);const S=v=>{h(x=>{const C=Math.max(0,x+v),E=document.getElementById("balance-input");return E.classList.add("scale-105"),setTimeout(()=>E.classList.remove("scale-105"),200),C})},w=async v=>{const x={balance:f,accountType:v.accountType,verified:v.verified};console.log("handelSave allData:",x);try{const C=await Ee.put(`/user/update_user/${e}`,x);Y.success("تم حفظ التعديلات بنجاح"),window.location.reload()}catch(C){console.error("خطأ في تحديث البيانات:",C),Y.error("فشل في تحديث البيانات")}m(!1)},y=v=>{m(!0);const x=v.userStatus.startsWith("accepted"),C=x?v.userStatus.split("_")[1]:"none",E={accountType:C,verified:x};Ie({title:"تأكيد الحفظ",message:`سيتم تغيير مبلغ النجم إلى ${f} ريال و ${x?`تفعيل الحساب (${C})`:"إلغاء تفعيل الحساب"}`,buttons:[{label:"نعم",onClick:()=>w(E)},{label:"إلغاء",onClick:()=>{Y.error("تم إلغاء العملية"),m(!1)}}]})};return c.jsxs("div",{className:"max-w- xl mx-auto mt-10 bg-white rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl",children:[c.jsx("div",{className:"text-center border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-t-xl",children:c.jsxs("h2",{className:"flex items-center justify-center gap-2 text-3xl font-bold text-gray-800",children:[c.jsx(We,{className:"h-8 w-8 text-blue-500"}),"بيانات الرصيد والحالة والفئة"]})}),c.jsx("div",{className:"p-6",children:c.jsxs("form",{onSubmit:o(y),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-right text-gray-700 font-medium",children:"حالة المستخدم والفئة"}),c.jsxs("select",{...n("userStatus"),className:"w-full p-3 rounded-lg bg-white border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",children:[c.jsx("option",{value:"pending",children:"قيد المراجعة"}),i.map(v=>c.jsxs("option",{value:`accepted_${v.value}`,children:["تم القبول - ",v.name]},v.value))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-right text-gray-700 font-medium",children:"الرصيد"}),c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(ze,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{id:"balance-input",type:"number",value:f,readOnly:!0,className:"w-full p-3 pr-12 rounded-lg bg-white border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("div",{className:"flex gap-2",children:[10,100].map(v=>c.jsxs("button",{type:"button",onClick:()=>S(v),className:"flex-1 py-2 px-4 rounded-lg bg-green-50 hover:bg-green-100 text-green-600 border border-green-200 transition-colors duration-200",children:["+",v]},`increase-${v}`))}),c.jsx("div",{className:"flex gap-2",children:[10,100].map(v=>c.jsxs("button",{type:"button",onClick:()=>S(-v),className:"flex-1 py-2 px-4 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 transition-colors duration-200",children:["-",v]},`decrease-${v}`))})]})]})]})]}),c.jsx("button",{type:"submit",disabled:b,className:"w-full h-12 rounded-lg bg-gradient-to-r from-sky-900 to-sky-700 hover:from-sky-700 hover:to-sky-900 text-white font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"جاري الحفظ...":"حفظ تعديلات الرصيد"})]})}),c.jsx(Me,{position:"top-center",reverseOrder:!1})]})};export{Lt as U};
