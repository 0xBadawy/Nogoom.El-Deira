import{j as e,L as p,a as M,r as a,u as S,b as O}from"./index-ngQkueUq.js";import{P as s}from"./index-tDiiiNW4.js";import{G as A}from"./data-Csv9xAeZ.js";import{L as f}from"./LoginStar-BsrTecc1.js";import{P as C}from"./PageLoader-SSKD_iTt.js";const j=({primaryLogo:r,whiteLogo:t,isScrolled:o=!1})=>e.jsx(p,{to:"/",className:"transition-transform duration-300 hover:scale-105",children:e.jsx("img",{src:o?r:t,alt:"Logo",className:"w-44 transition-opacity duration-300"})});j.propTypes={primaryLogo:s.string.isRequired,whiteLogo:s.string.isRequired,isScrolled:s.bool};const u=({links:r,isMobile:t=!1,isScrolled:o})=>{const n=M();return e.jsx("div",{style:{direction:"ltr"},className:`${t?"flex flex-col space-y-4":"flex flex-row-reverse justify-center space-x-1 md:space-x-2"}`,children:r.map(({path:i,label:l})=>e.jsx(p,{to:i,className:`
            ${o?"md:text-gray-800 md:after:bg-primary ":"md:text-white md:after:bg-white"}
            font-bold text-primary hover:text-w 
            px-4 py-2 rounded-lg transition-all duration-300
            relative after:content-[''] after:absolute after:bottom-0 
            after:left-0 after:w-full after:h-0.5 
            after:scale-x-0 hover:after:scale-x-100 after:transition-transform
            after:duration-300 ${n.pathname===i?"after:scale-x-100":""}
            ${t?"text-center text-lg":""}
          `,children:l},i))})};u.propTypes={links:s.arrayOf(s.shape({path:s.string.isRequired,label:s.string.isRequired})).isRequired,isMobile:s.bool};s.shape({name:s.string.isRequired,image:s.string.isRequired,isAuthenticated:s.bool.isRequired}).isRequired,s.func.isRequired,s.bool;s.func.isRequired,s.bool;const m=({isScrolled:r})=>{const[t,o]=a.useState("");a.useEffect(()=>{const i=localStorage.getItem("selectedArea");i&&o(i)},[]);const n=i=>{const l=i.target.value;o(l),localStorage.setItem("selectedArea",l),window.location.reload()};return e.jsx("div",{children:e.jsxs("select",{value:t,onChange:n,className:`
        ${r?"text-white bg-primary":"text-primary bg-white hover:bg-gray-200"}
        px-6 py-2   font-bold rounded-full
        transition-colors duration-300
        border-2 border-transparent h-fit
        flex items-center justify-center text-center
        
      `,children:[e.jsx("option",{value:"",disabled:!0,children:"اختر المنطقة"}),e.jsx("option",{value:"all",children:"كل المناطق"}),A.map(i=>e.jsx("option",{value:i.name,children:i.name},i.name))]})})},b=({isOpen:r,links:t,user:o,onClose:n=()=>{}})=>r?e.jsx("div",{className:"md:hidden fixed inset-0 z-50 bg-white",children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>n(),children:e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})}),e.jsx("div",{className:"flex flex-col items-center mt-8 space-y-6",children:e.jsx("div",{className:"mt-auto",children:o!=null&&o.isAuthenticated?e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(u,{links:t,isMobile:!0})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(u,{links:t,isMobile:!0})]})})})]})}):null;b.propTypes={isOpen:s.bool.isRequired,links:s.arrayOf(s.shape({path:s.string.isRequired,label:s.string.isRequired})).isRequired,user:s.shape({name:s.string.isRequired,image:s.string.isRequired,isAuthenticated:s.bool.isRequired}),onLogin:s.func.isRequired,onLogout:s.func.isRequired,onClose:s.func};const v=({onClick:r,isOpen:t})=>e.jsxs("button",{onClick:r,className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500","aria-expanded":t,children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})]});v.propTypes={onClick:s.func.isRequired,isOpen:s.bool.isRequired};const P=(r=20)=>{const[t,o]=a.useState(!1);return a.useEffect(()=>{const n=()=>{o(window.scrollY>r)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[r]),t},D="/assets/Deira-logo-BLphbyYR.png",E="/assets/Deira-logo_colored-Czb8DdFX.png",F=({color:r})=>{const[t,o]=a.useState([{path:"/",label:"الرئيسية"},{path:"/privacy-policy",label:"الشروط والخصوصية"},{path:"/contact",label:"تواصل معنا"},{path:"/profile",label:"النجوم"}]),n=S(),[i,l]=a.useState({name:"",image:f,isAuthenticated:!1,role:"star"}),{getUserData:h,logOut:y}=O();a.useEffect(()=>{(async()=>{try{const d=await h();l({name:d.name,image:d.profilePicture,isAuthenticated:!0,role:d.role})}catch{}})()},[h]);const L=P(),[x,g]=a.useState(!1),c=r==="black"?!0:L,w=()=>{g(!1)},N=()=>{y(),l({name:"",image:f,isAuthenticated:!1,role:"star"}),n("/login")},[R,q]=a.useState(!0);a.useEffect(()=>{setTimeout(()=>{q(!1)},1e3)},[]);const k=()=>{console.log("Logging in..."),n("/login")};return e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300
                ${c?"bg-white shadow-md":"bg-transparent"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-24",children:[e.jsx(j,{primaryLogo:E,whiteLogo:D,isScrolled:c}),e.jsx("div",{className:"hidden md:block",children:e.jsx(u,{links:t,isScrolled:c})}),e.jsx("div",{children:R?e.jsx(C,{}):e.jsx("div",{className:"hidden md:block",children:i.isAuthenticated?e.jsx("div",{className:"flex gap-10",children:e.jsx(m,{isScrolled:c})}):e.jsx("div",{className:"flex gap-10",children:e.jsx(m,{isScrolled:c})})})}),e.jsx(v,{onClick:()=>g(!x),isOpen:x,isScrolled:c})]})}),e.jsx(b,{isOpen:x,links:t,user:i,onClose:w,onLogin:k,onLogout:N})]})};export{F as N};
