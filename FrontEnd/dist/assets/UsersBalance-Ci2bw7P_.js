import{r as a,e as P,j as s}from"./index-BOfctVcA.js";import{U as E}from"./UserDetailsBalance-DXCkmXyi.js";import{G as v}from"./data-Csv9xAeZ.js";import"./card-DKAE7VlI.js";import"./index-CR5wlgde.js";import"./index-BBbMuMBX.js";import"./index-GeFg4LeU.js";import"./index-D-FdkB2g.js";import"./index.esm-CWOoCmOq.js";import"./index-C2k5lmCh.js";import"./index-CZb_QoMN.js";import"./index-CpsLdZrX.js";const H=()=>{var y;const[h,p]=a.useState([]),{allUsers:g,updateUser:f}=P(),[l,S]=a.useState("all"),[d,u]=a.useState("all"),[i,U]=a.useState(""),b=h.filter(e=>{var N;const t=l==="all"||e.govern===l,n=d==="all"||((N=e.area)==null?void 0:N.includes(d)),G=e.name.toLowerCase().includes(i.toLowerCase());return t&&n&&G}),[c,r]=a.useState(1),o=20,j=c*o,k=j-o,C=b.slice(k,j),x=Math.ceil(b.length/o),[I,L]=a.useState("");a.useEffect(()=>{const e=g;p(e),console.log("users",e)},[g]);const[m,M]=a.useState(null),D=e=>{p(t=>t.map(n=>n.Uid===e.Uid?e:n)),f(e)};return a.useEffect(()=>{r(1)},[i]),s.jsxs("div",{className:"grow md:p-8 p-2 dark:bg-gray-800 h-full",children:[s.jsx("h2",{className:"text-2xl mb-4",children:"النجوم"}),s.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 w-full max-w-screen overflow-x-auto",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("select",{value:l,onChange:e=>{S(e.target.value),u("all"),r(1)},className:"border rounded px-2 py-1",children:[s.jsx("option",{value:"all",children:"كل المناطق"}),v.map(e=>s.jsx("option",{value:e.name,children:e.name},e.name))]}),s.jsxs("select",{value:d,onChange:e=>{u(e.target.value),r(1)},className:"border rounded px-2 py-1",disabled:l==="all",children:[s.jsx("option",{value:"all",children:"كل المحافظات"}),l!=="all"&&((y=v.find(e=>e.name===l))==null?void 0:y.subGovernments.map(e=>s.jsx("option",{value:e,children:e},e)))]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",value:i,onChange:e=>U(e.target.value),placeholder:"ابحث بالاسم",className:"border rounded px-4 py-2 w-full"})})]}),s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"بيانات النجوم"}),s.jsxs("table",{className:"table-auto w-full  text-sm md:text-base",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"py-2 px-4 text-right min-w-36 ",children:"الاسم"}),s.jsx("th",{className:"py-2 px-4 text-right",children:"المنطقة"}),s.jsx("th",{className:"py-2 px-4 text-right",children:"الهاتف"}),s.jsx("th",{className:"py-2 px-4 text-right",children:"الرصيد"}),s.jsx("th",{className:"py-2 px-4 text-right",children:"عدد الحملات"}),s.jsx("th",{className:"py-2 px-4 text-center",children:"القبول"}),s.jsx("th",{className:"py-2 px-4 text-right",children:"فئة النجم"})]})}),s.jsx("tbody",{children:C.map((e,t)=>e.role==="star"&&s.jsxs("tr",{onClick:()=>M(e.Uid),className:`border-b hover:bg-gray-100 dark:hover:bg-gray-700 ${e.Uid===m?"bg-gray-200 dark:bg-gray-600":""}`,children:[s.jsx("td",{className:"py-2 px-4",children:e.name}),s.jsx("td",{className:"py-2 px-4",children:e.govern}),s.jsx("td",{className:"py-2 px-4",children:e.phone}),s.jsx("td",{className:"py-2 px-4",children:e.balance}),s.jsx("td",{className:"py-2 px-4",children:e.ads.length}),s.jsx("td",{className:"py-2 px-4 text-center",children:s.jsx("span",{className:`${e.verified?"text-green-500 font-bold":"text-red-500 font-bold"}`,children:e.verified?"مقبول":"قيد المراجعة"})}),s.jsx("td",{className:"py-2 px-4",children:e.accountType})]},t))})]}),s.jsxs("div",{className:"flex justify-center mt-4",children:[s.jsx("button",{onClick:()=>r(e=>Math.max(e-1,1)),disabled:c===1,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"السابق"}),Array.from({length:x},(e,t)=>s.jsx("button",{onClick:()=>r(t+1),className:`px-4 py-2 mx-1 rounded-lg ${c===t+1?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:t+1},t)),s.jsx("button",{onClick:()=>r(e=>Math.min(e+1,x)),disabled:c===x,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"التالي"})]})]}),m&&s.jsx(E,{selectedUserUid:m,usersData:h,onSave:D})]})};export{H as default};
