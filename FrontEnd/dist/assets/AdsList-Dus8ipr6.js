import{k as St,r,j as e,R as G,m as ke,d as bt,L as Nt,a as ge,e as Re,f as jt}from"./index-BLZ4aqdM.js";import{G as Pe}from"./data-Csv9xAeZ.js";import{q as Ct,r as It,d as Tt,s as Rt,t as Pt,u as Et}from"./index-4qdrK7e-.js";import{C as _t,a as At,b as Mt,c as kt}from"./card-BpfrEXWV.js";import{B as Ee}from"./badge-Cfmp2CDV.js";import{B as Dt}from"./button-CdQumLxo.js";import{P as E}from"./index-BgyVLihh.js";import{c as D,u as A,a as ve}from"./index-D7bPvczS.js";import"./textarea-CfPrhxpN.js";import{a as De,A as Ot,C as Lt,c as _e,b as Bt,V as Ht}from"./index-C96Y5j6w.js";import{c as Oe,a as T,b as B,d as Vt,u as Ft,D as Ut}from"./index-BYDlMPGG.js";import{u as Le,h as Wt,e as Kt,R as $t,F as Gt}from"./dialog-CxrKl01O.js";import{a as Be,C as zt}from"./chevron-up-DXMByRCp.js";import{a as Ae}from"./formatDate-D06Lv2oc.js";import"./iconBase-By3JwwRs.js";import"./x-wPlK3RzG.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var Yt="Separator",Me="horizontal",Xt=["horizontal","vertical"],He=r.forwardRef((o,s)=>{const{decorative:t,orientation:l=Me,...c}=o,m=Zt(l)?l:Me,i=t?{role:"none"}:{"aria-orientation":m==="vertical"?m:void 0,role:"separator"};return e.jsx(E.div,{"data-orientation":m,...i,...c,ref:s})});He.displayName=Yt;function Zt(o){return Xt.includes(o)}var Ve=He;const we=r.forwardRef(({className:o,orientation:s="horizontal",decorative:t=!0,...l},c)=>e.jsx(Ve,{ref:c,decorative:t,orientation:s,className:D("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",o),...l}));we.displayName=Ve.displayName;function Jt(o){const s=o+"CollectionProvider",[t,l]=Oe(s),[c,m]=t(s,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:y,children:p}=S,d=G.useRef(null),g=G.useRef(new Map).current;return e.jsx(c,{scope:y,itemMap:g,collectionRef:d,children:p})};a.displayName=s;const i=o+"CollectionSlot",n=G.forwardRef((S,y)=>{const{scope:p,children:d}=S,g=m(i,p),f=A(y,g.collectionRef);return e.jsx(ve,{ref:f,children:d})});n.displayName=i;const h=o+"CollectionItemSlot",u="data-radix-collection-item",x=G.forwardRef((S,y)=>{const{scope:p,children:d,...g}=S,f=G.useRef(null),w=A(y,f),R=m(h,p);return G.useEffect(()=>(R.itemMap.set(f,{ref:f,...g}),()=>void R.itemMap.delete(f))),e.jsx(ve,{[u]:"",ref:w,children:d})});x.displayName=h;function b(S){const y=m(o+"CollectionConsumer",S);return G.useCallback(()=>{const d=y.collectionRef.current;if(!d)return[];const g=Array.from(d.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((R,M)=>g.indexOf(R.ref.current)-g.indexOf(M.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:n,ItemSlot:x},b,l]}function Qt(o){const s=r.useRef({value:o,previous:o});return r.useMemo(()=>(s.current.value!==o&&(s.current.previous=s.current.value,s.current.value=o),s.current.previous),[o])}var eo=[" ","Enter","ArrowUp","ArrowDown"],to=[" ","Enter"],ce="Select",[Ce,ie,oo]=Jt(ce),[Q,zo]=Oe(ce,[oo,De]),Ie=De(),[qo,H]=Q(ce),[Yo,so]=Q(ce),Fe="SelectTrigger",Ue=r.forwardRef((o,s)=>{const{__scopeSelect:t,disabled:l=!1,...c}=o,m=Ie(t),a=H(Fe,t),i=a.disabled||l,n=A(s,a.onTriggerChange),h=ie(t),u=r.useRef("touch"),[x,b,S]=dt(p=>{const d=h().filter(w=>!w.disabled),g=d.find(w=>w.value===a.value),f=pt(d,p,g);f!==void 0&&a.onValueChange(f.value)}),y=p=>{i||(a.onOpenChange(!0),S()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Ot,{asChild:!0,...m,children:e.jsx(E.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":it(a.value)?"":void 0,...c,ref:n,onClick:T(c.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&y(p)}),onPointerDown:T(c.onPointerDown,p=>{u.current=p.pointerType;const d=p.target;d.hasPointerCapture(p.pointerId)&&d.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:T(c.onKeyDown,p=>{const d=x.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&b(p.key),!(d&&p.key===" ")&&eo.includes(p.key)&&(y(),p.preventDefault())})})})});Ue.displayName=Fe;var We="SelectValue",ro=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:l,style:c,children:m,placeholder:a="",...i}=o,n=H(We,t),{onValueNodeHasChildrenChange:h}=n,u=m!==void 0,x=A(s,n.onValueNodeChange);return B(()=>{h(u)},[h,u]),e.jsx(E.span,{...i,ref:x,style:{pointerEvents:"none"},children:it(n.value)?e.jsx(e.Fragment,{children:a}):m})});ro.displayName=We;var no="SelectIcon",Ke=r.forwardRef((o,s)=>{const{__scopeSelect:t,children:l,...c}=o;return e.jsx(E.span,{"aria-hidden":!0,...c,ref:s,children:l||"▼"})});Ke.displayName=no;var ao="SelectPortal",$e=o=>e.jsx(Vt,{asChild:!0,...o});$e.displayName=ao;var z="SelectContent",Ge=r.forwardRef((o,s)=>{const t=H(z,o.__scopeSelect),[l,c]=r.useState();if(B(()=>{c(new DocumentFragment)},[]),!t.open){const m=l;return m?ke.createPortal(e.jsx(ze,{scope:o.__scopeSelect,children:e.jsx(Ce.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),m):null}return e.jsx(qe,{...o,ref:s})});Ge.displayName=z;var k=10,[ze,V]=Q(z),lo="SelectContentImpl",qe=r.forwardRef((o,s)=>{const{__scopeSelect:t,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:m,onPointerDownOutside:a,side:i,sideOffset:n,align:h,alignOffset:u,arrowPadding:x,collisionBoundary:b,collisionPadding:S,sticky:y,hideWhenDetached:p,avoidCollisions:d,...g}=o,f=H(z,t),[w,R]=r.useState(null),[M,de]=r.useState(null),_=A(s,v=>R(v)),[O,se]=r.useState(null),[re,F]=r.useState(null),U=ie(t),[ee,q]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(w)return Wt(w)},[w]),Kt();const Y=r.useCallback(v=>{const[I,...P]=U().map(j=>j.ref.current),[C]=P.slice(-1),N=document.activeElement;for(const j of v)if(j===N||(j==null||j.scrollIntoView({block:"nearest"}),j===I&&M&&(M.scrollTop=0),j===C&&M&&(M.scrollTop=M.scrollHeight),j==null||j.focus(),document.activeElement!==N))return},[U,M]),X=r.useCallback(()=>Y([O,w]),[Y,O,w]);r.useEffect(()=>{ee&&X()},[ee,X]);const{onOpenChange:Z,triggerPointerDownPosRef:L}=f;r.useEffect(()=>{if(w){let v={x:0,y:0};const I=C=>{var N,j;v={x:Math.abs(Math.round(C.pageX)-(((N=L.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(C.pageY)-(((j=L.current)==null?void 0:j.y)??0))}},P=C=>{v.x<=10&&v.y<=10?C.preventDefault():w.contains(C.target)||Z(!1),document.removeEventListener("pointermove",I),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",P,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P,{capture:!0})}}},[w,Z,L]),r.useEffect(()=>{const v=()=>Z(!1);return window.addEventListener("blur",v),window.addEventListener("resize",v),()=>{window.removeEventListener("blur",v),window.removeEventListener("resize",v)}},[Z]);const[pe,ne]=dt(v=>{const I=U().filter(N=>!N.disabled),P=I.find(N=>N.ref.current===document.activeElement),C=pt(I,v,P);C&&setTimeout(()=>C.ref.current.focus())}),ue=r.useCallback((v,I,P)=>{const C=!W.current&&!P;(f.value!==void 0&&f.value===I||C)&&(se(v),C&&(W.current=!0))},[f.value]),me=r.useCallback(()=>w==null?void 0:w.focus(),[w]),J=r.useCallback((v,I,P)=>{const C=!W.current&&!P;(f.value!==void 0&&f.value===I||C)&&F(v)},[f.value]),ae=l==="popper"?ye:Ye,te=ae===ye?{side:i,sideOffset:n,align:h,alignOffset:u,arrowPadding:x,collisionBoundary:b,collisionPadding:S,sticky:y,hideWhenDetached:p,avoidCollisions:d}:{};return e.jsx(ze,{scope:t,content:w,viewport:M,onViewportChange:de,itemRefCallback:ue,selectedItem:O,onItemLeave:me,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:re,position:l,isPositioned:ee,searchRef:pe,children:e.jsx($t,{as:ve,allowPinchZoom:!0,children:e.jsx(Gt,{asChild:!0,trapped:f.open,onMountAutoFocus:v=>{v.preventDefault()},onUnmountAutoFocus:T(c,v=>{var I;(I=f.trigger)==null||I.focus({preventScroll:!0}),v.preventDefault()}),children:e.jsx(Ut,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:a,onFocusOutside:v=>v.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ae,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:v=>v.preventDefault(),...g,...te,onPlaced:()=>q(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:T(g.onKeyDown,v=>{const I=v.ctrlKey||v.altKey||v.metaKey;if(v.key==="Tab"&&v.preventDefault(),!I&&v.key.length===1&&ne(v.key),["ArrowUp","ArrowDown","Home","End"].includes(v.key)){let C=U().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(v.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(v.key)){const N=v.target,j=C.indexOf(N);C=C.slice(j+1)}setTimeout(()=>Y(C)),v.preventDefault()}})})})})})})});qe.displayName=lo;var co="SelectItemAlignedPosition",Ye=r.forwardRef((o,s)=>{const{__scopeSelect:t,onPlaced:l,...c}=o,m=H(z,t),a=V(z,t),[i,n]=r.useState(null),[h,u]=r.useState(null),x=A(s,_=>u(_)),b=ie(t),S=r.useRef(!1),y=r.useRef(!0),{viewport:p,selectedItem:d,selectedItemText:g,focusSelectedItem:f}=a,w=r.useCallback(()=>{if(m.trigger&&m.valueNode&&i&&h&&p&&d&&g){const _=m.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),se=m.valueNode.getBoundingClientRect(),re=g.getBoundingClientRect();if(m.dir!=="rtl"){const N=re.left-O.left,j=se.left-N,K=_.left-j,$=_.width+K,fe=Math.max($,O.width),xe=window.innerWidth-k,he=_e(j,[k,Math.max(k,xe-fe)]);i.style.minWidth=$+"px",i.style.left=he+"px"}else{const N=O.right-re.right,j=window.innerWidth-se.right-N,K=window.innerWidth-_.right-j,$=_.width+K,fe=Math.max($,O.width),xe=window.innerWidth-k,he=_e(j,[k,Math.max(k,xe-fe)]);i.style.minWidth=$+"px",i.style.right=he+"px"}const F=b(),U=window.innerHeight-k*2,ee=p.scrollHeight,q=window.getComputedStyle(h),W=parseInt(q.borderTopWidth,10),Y=parseInt(q.paddingTop,10),X=parseInt(q.borderBottomWidth,10),Z=parseInt(q.paddingBottom,10),L=W+Y+ee+Z+X,pe=Math.min(d.offsetHeight*5,L),ne=window.getComputedStyle(p),ue=parseInt(ne.paddingTop,10),me=parseInt(ne.paddingBottom,10),J=_.top+_.height/2-k,ae=U-J,te=d.offsetHeight/2,v=d.offsetTop+te,I=W+Y+v,P=L-I;if(I<=J){const N=F.length>0&&d===F[F.length-1].ref.current;i.style.bottom="0px";const j=h.clientHeight-p.offsetTop-p.offsetHeight,K=Math.max(ae,te+(N?me:0)+j+X),$=I+K;i.style.height=$+"px"}else{const N=F.length>0&&d===F[0].ref.current;i.style.top="0px";const K=Math.max(J,W+p.offsetTop+(N?ue:0)+te)+P;i.style.height=K+"px",p.scrollTop=I-J+p.offsetTop}i.style.margin=`${k}px 0`,i.style.minHeight=pe+"px",i.style.maxHeight=U+"px",l==null||l(),requestAnimationFrame(()=>S.current=!0)}},[b,m.trigger,m.valueNode,i,h,p,d,g,m.dir,l]);B(()=>w(),[w]);const[R,M]=r.useState();B(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const de=r.useCallback(_=>{_&&y.current===!0&&(w(),f==null||f(),y.current=!1)},[w,f]);return e.jsx(po,{scope:t,contentWrapper:i,shouldExpandOnScrollRef:S,onScrollButtonChange:de,children:e.jsx("div",{ref:n,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(E.div,{...c,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Ye.displayName=co;var io="SelectPopperPosition",ye=r.forwardRef((o,s)=>{const{__scopeSelect:t,align:l="start",collisionPadding:c=k,...m}=o,a=Ie(t);return e.jsx(Lt,{...a,...m,ref:s,align:l,collisionPadding:c,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=io;var[po,Te]=Q(z,{}),Se="SelectViewport",Xe=r.forwardRef((o,s)=>{const{__scopeSelect:t,nonce:l,...c}=o,m=V(Se,t),a=Te(Se,t),i=A(s,m.onViewportChange),n=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(Ce.Slot,{scope:t,children:e.jsx(E.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:T(c.onScroll,h=>{const u=h.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=a;if(b!=null&&b.current&&x){const S=Math.abs(n.current-u.scrollTop);if(S>0){const y=window.innerHeight-k*2,p=parseFloat(x.style.minHeight),d=parseFloat(x.style.height),g=Math.max(p,d);if(g<y){const f=g+S,w=Math.min(y,f),R=f-w;x.style.height=w+"px",x.style.bottom==="0px"&&(u.scrollTop=R>0?R:0,x.style.justifyContent="flex-end")}}}n.current=u.scrollTop})})})]})});Xe.displayName=Se;var Ze="SelectGroup",[uo,mo]=Q(Ze),fo=r.forwardRef((o,s)=>{const{__scopeSelect:t,...l}=o,c=Le();return e.jsx(uo,{scope:t,id:c,children:e.jsx(E.div,{role:"group","aria-labelledby":c,...l,ref:s})})});fo.displayName=Ze;var Je="SelectLabel",Qe=r.forwardRef((o,s)=>{const{__scopeSelect:t,...l}=o,c=mo(Je,t);return e.jsx(E.div,{id:c.id,...l,ref:s})});Qe.displayName=Je;var le="SelectItem",[xo,et]=Q(le),tt=r.forwardRef((o,s)=>{const{__scopeSelect:t,value:l,disabled:c=!1,textValue:m,...a}=o,i=H(le,t),n=V(le,t),h=i.value===l,[u,x]=r.useState(m??""),[b,S]=r.useState(!1),y=A(s,f=>{var w;return(w=n.itemRefCallback)==null?void 0:w.call(n,f,l,c)}),p=Le(),d=r.useRef("touch"),g=()=>{c||(i.onValueChange(l),i.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(xo,{scope:t,value:l,disabled:c,textId:p,isSelected:h,onItemTextChange:r.useCallback(f=>{x(w=>w||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(Ce.ItemSlot,{scope:t,value:l,disabled:c,textValue:u,children:e.jsx(E.div,{role:"option","aria-labelledby":p,"data-highlighted":b?"":void 0,"aria-selected":h&&b,"data-state":h?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...a,ref:y,onFocus:T(a.onFocus,()=>S(!0)),onBlur:T(a.onBlur,()=>S(!1)),onClick:T(a.onClick,()=>{d.current!=="mouse"&&g()}),onPointerUp:T(a.onPointerUp,()=>{d.current==="mouse"&&g()}),onPointerDown:T(a.onPointerDown,f=>{d.current=f.pointerType}),onPointerMove:T(a.onPointerMove,f=>{var w;d.current=f.pointerType,c?(w=n.onItemLeave)==null||w.call(n):d.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(a.onPointerLeave,f=>{var w;f.currentTarget===document.activeElement&&((w=n.onItemLeave)==null||w.call(n))}),onKeyDown:T(a.onKeyDown,f=>{var R;((R=n.searchRef)==null?void 0:R.current)!==""&&f.key===" "||(to.includes(f.key)&&g(),f.key===" "&&f.preventDefault())})})})})});tt.displayName=le;var oe="SelectItemText",ot=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:l,style:c,...m}=o,a=H(oe,t),i=V(oe,t),n=et(oe,t),h=so(oe,t),[u,x]=r.useState(null),b=A(s,g=>x(g),n.onItemTextChange,g=>{var f;return(f=i.itemTextRefCallback)==null?void 0:f.call(i,g,n.value,n.disabled)}),S=u==null?void 0:u.textContent,y=r.useMemo(()=>e.jsx("option",{value:n.value,disabled:n.disabled,children:S},n.value),[n.disabled,n.value,S]),{onNativeOptionAdd:p,onNativeOptionRemove:d}=h;return B(()=>(p(y),()=>d(y)),[p,d,y]),e.jsxs(e.Fragment,{children:[e.jsx(E.span,{id:n.textId,...m,ref:b}),n.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ke.createPortal(m.children,a.valueNode):null]})});ot.displayName=oe;var st="SelectItemIndicator",rt=r.forwardRef((o,s)=>{const{__scopeSelect:t,...l}=o;return et(st,t).isSelected?e.jsx(E.span,{"aria-hidden":!0,...l,ref:s}):null});rt.displayName=st;var be="SelectScrollUpButton",nt=r.forwardRef((o,s)=>{const t=V(be,o.__scopeSelect),l=Te(be,o.__scopeSelect),[c,m]=r.useState(!1),a=A(s,l.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let i=function(){const h=n.scrollTop>0;m(h)};const n=t.viewport;return i(),n.addEventListener("scroll",i),()=>n.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...o,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:n}=t;i&&n&&(i.scrollTop=i.scrollTop-n.offsetHeight)}}):null});nt.displayName=be;var Ne="SelectScrollDownButton",at=r.forwardRef((o,s)=>{const t=V(Ne,o.__scopeSelect),l=Te(Ne,o.__scopeSelect),[c,m]=r.useState(!1),a=A(s,l.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let i=function(){const h=n.scrollHeight-n.clientHeight,u=Math.ceil(n.scrollTop)<h;m(u)};const n=t.viewport;return i(),n.addEventListener("scroll",i),()=>n.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...o,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:n}=t;i&&n&&(i.scrollTop=i.scrollTop+n.offsetHeight)}}):null});at.displayName=Ne;var lt=r.forwardRef((o,s)=>{const{__scopeSelect:t,onAutoScroll:l,...c}=o,m=V("SelectScrollButton",t),a=r.useRef(null),i=ie(t),n=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>n(),[n]),B(()=>{var u;const h=i().find(x=>x.ref.current===document.activeElement);(u=h==null?void 0:h.ref.current)==null||u.scrollIntoView({block:"nearest"})},[i]),e.jsx(E.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:T(c.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(l,50))}),onPointerMove:T(c.onPointerMove,()=>{var h;(h=m.onItemLeave)==null||h.call(m),a.current===null&&(a.current=window.setInterval(l,50))}),onPointerLeave:T(c.onPointerLeave,()=>{n()})})}),ho="SelectSeparator",ct=r.forwardRef((o,s)=>{const{__scopeSelect:t,...l}=o;return e.jsx(E.div,{"aria-hidden":!0,...l,ref:s})});ct.displayName=ho;var je="SelectArrow",go=r.forwardRef((o,s)=>{const{__scopeSelect:t,...l}=o,c=Ie(t),m=H(je,t),a=V(je,t);return m.open&&a.position==="popper"?e.jsx(Bt,{...c,...l,ref:s}):null});go.displayName=je;function it(o){return o===""||o===void 0}var vo=r.forwardRef((o,s)=>{const{value:t,...l}=o,c=r.useRef(null),m=A(s,c),a=Qt(t);return r.useEffect(()=>{const i=c.current,n=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&u){const x=new Event("change",{bubbles:!0});u.call(i,t),i.dispatchEvent(x)}},[a,t]),e.jsx(Ht,{asChild:!0,children:e.jsx("select",{...l,ref:m,defaultValue:t})})});vo.displayName="BubbleSelect";function dt(o){const s=Ft(o),t=r.useRef(""),l=r.useRef(0),c=r.useCallback(a=>{const i=t.current+a;s(i),function n(h){t.current=h,window.clearTimeout(l.current),h!==""&&(l.current=window.setTimeout(()=>n(""),1e3))}(i)},[s]),m=r.useCallback(()=>{t.current="",window.clearTimeout(l.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(l.current),[]),[t,c,m]}function pt(o,s,t){const c=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,m=t?o.indexOf(t):-1;let a=wo(o,Math.max(m,0));c.length===1&&(a=a.filter(h=>h!==t));const n=a.find(h=>h.textValue.toLowerCase().startsWith(c.toLowerCase()));return n!==t?n:void 0}function wo(o,s){return o.map((t,l)=>o[(s+l)%o.length])}var ut=Ue,yo=Ke,So=$e,mt=Ge,bo=Xe,ft=Qe,xt=tt,No=ot,jo=rt,ht=nt,gt=at,vt=ct;const Co=r.forwardRef(({className:o,children:s,...t},l)=>e.jsxs(ut,{ref:l,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[s,e.jsx(yo,{asChild:!0,children:e.jsx(Be,{className:"h-4 w-4 opacity-50"})})]}));Co.displayName=ut.displayName;const wt=r.forwardRef(({className:o,...s},t)=>e.jsx(ht,{ref:t,className:D("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(zt,{className:"h-4 w-4"})}));wt.displayName=ht.displayName;const yt=r.forwardRef(({className:o,...s},t)=>e.jsx(gt,{ref:t,className:D("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Be,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const Io=r.forwardRef(({className:o,children:s,position:t="popper",...l},c)=>e.jsx(So,{children:e.jsxs(mt,{ref:c,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...l,children:[e.jsx(wt,{}),e.jsx(bo,{className:D("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(yt,{})]})}));Io.displayName=mt.displayName;const To=r.forwardRef(({className:o,...s},t)=>e.jsx(ft,{ref:t,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...s}));To.displayName=ft.displayName;const Ro=r.forwardRef(({className:o,children:s,...t},l)=>e.jsxs(xt,{ref:l,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(jo,{children:e.jsx(qt,{className:"h-4 w-4"})})}),e.jsx(No,{children:s})]}));Ro.displayName=xt.displayName;const Po=r.forwardRef(({className:o,...s},t)=>e.jsx(vt,{ref:t,className:D("-mx-1 my-1 h-px bg-muted",o),...s}));Po.displayName=vt.displayName;const Eo=({ads:o,selected:s})=>{var a,i,n,h;const[t,l]=r.useState(null),{user:c}=bt();r.useEffect(()=>{(async()=>{try{const x=await ge.get(`/advertisement/get_one/${s}`);l(x.data.advertisement),console.log("response.data.advertisement ",x.data.advertisement)}catch(x){console.error("حدث خطأ أثناء جلب البيانات:",x)}})()},[s]),r.useEffect(()=>{console.log("ad",t)},[t]);const m=async()=>{if(window.confirm("هل أنت متأكد من حذف الإعلان؟"))try{const x=await ge.delete(`/advertisement/delete/${s}`);console.log(x),x.status===200&&(Re.success("تم حذف الإعلان بنجاح"),window.location.reload())}catch(x){console.error("حدث خطأ أثناء حذف الإعلان:",x),Re.error("حدث خطأ أثناء حذف الإعلان")}};return e.jsxs(_t,{className:"max-w-full sm:max-w-lg md:max-w-xl lg:max-w-full mx-auto",children:[e.jsxs(At,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:[e.jsx(Mt,{className:"text-2xl sm:text-3xl font-bold",children:t==null?void 0:t.title}),e.jsx(Ee,{variant:"secondary",className:"mt-2"})]}),e.jsxs(kt,{className:"p-6",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-6",children:t==null?void 0:t.description}),e.jsx(we,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(Ct,{className:"text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ البداية"}),e.jsx("p",{className:"text-base font-semibold",children:Ae(t==null?void 0:t.startDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ النهاية"}),e.jsx("p",{className:"text-base font-semibold",children:Ae(t==null?void 0:t.endDate)})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(It,{className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"المنطقة"}),e.jsx("p",{className:"text-base font-semibold",children:t==null?void 0:t.address.area})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"المحافظات"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:((a=t==null?void 0:t.address.govern)==null?void 0:a.length)>0?t==null?void 0:t.address.govern.map((u,x)=>e.jsx(Ee,{variant:"outline",children:u},x)):e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لم يتم تحديد محافظات"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold my-8",children:"النجوم المشاركين"}),e.jsxs("div",{className:"space-y-6",children:[(i=t==null?void 0:t.users)==null?void 0:i.filter(u=>{var x;return((x=u==null?void 0:u.links)==null?void 0:x.length)>0}).map((u,x)=>{var b,S,y;return e.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[e.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:e.jsx(Tt,{className:"text-yellow-500 text-2xl",title:(b=u==null?void 0:u.userId)==null?void 0:b.name})}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:(S=u==null?void 0:u.userId)==null?void 0:S.name})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:(y=u==null?void 0:u.links)==null?void 0:y.map((p,d)=>e.jsxs("a",{href:p,target:"_blank",rel:"noreferrer",className:"flex items-center bg-blue-50 text-blue-600 hover:bg-blue-100 px-4 py-2 rounded-xl transition-all shadow-sm hover:shadow-md truncate max-w-[220px]",children:[e.jsx("span",{className:"truncate",children:p.length>25?`${p.slice(0,25)}...`:p}),e.jsx(Rt,{className:"ml-2 text-blue-500"})]},d))})]},x)}),e.jsx("h2",{className:"text-xl font-bold py-8",children:"النجوم بدون مشاركات"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(n=t==null?void 0:t.users)==null?void 0:n.filter(u=>{var x;return((x=u==null?void 0:u.links)==null?void 0:x.length)===0}).map((u,x)=>{var b;return e.jsxs("span",{className:"bg-gray-50 w-auto max-w-xs mx-2 px-4 py-1 rounded-full text-sm font-semibold text-gray-800 shadow-sm hover:shadow-md transition-shadow truncate",children:[(b=u==null?void 0:u.userId)==null?void 0:b.name," "]},x)})})]})]})]}),e.jsx(we,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(Pt,{className:"text-purple-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الصور"})]}),((h=t==null?void 0:t.Images)==null?void 0:h.length)>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.Images.map((u,x)=>e.jsx("img",{src:u,alt:`صورة الإعلان ${x+1}`,className:"w-full h-24 sm:h-32 md:h-40 object-cover rounded-lg shadow-md transition-transform transform hover:scale-105"},x))}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا توجد صور متاحة"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الفيديو"})]}),t!=null&&t.videos?e.jsxs("video",{controls:!0,className:"w-full max-w-md mx-auto rounded-lg shadow-md",children:[e.jsx("source",{src:t.videos,type:"video/mp4"}),"متصفحك لا يدعم تشغيل الفيديو"]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا يوجد فيديو متاح"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end",children:[e.jsx(Dt,{variant:"destructive",onClick:m,className:"bg-red-600 text-white mx-3",children:"حذف الإعلان"}),(c==null?void 0:c.role)==="admin"&&e.jsx(Nt,{className:"bg-blue-600 text-white mx-3 px-4 py-2 rounded-lg",to:`/dashboard/editAd/${s}`,children:"تعديل الإعلان"})]})]})]})},Xo=()=>{const{getAllAds:o}=jt(),[s,t]=r.useState(null),[l,c]=r.useState([]),[m,a]=r.useState(1),i=10,[n,h]=r.useState("الكل"),[u,x]=r.useState("الكل");r.useEffect(()=>{(async()=>{const f=(await ge.get("/advertisement/all")).data.advertisements;c(f),console.table(f)})()},[]);const b=l.filter(d=>{const g=n==="الكل"||d.address.area===n,f=u==="الكل"||d.address.govern&&Array.isArray(d.address.govern)&&d.address.govern.includes(u);return g&&f}).sort((d,g)=>new Date(g.createdAt)-new Date(d.createdAt)),S=(m-1)*i,y=b.slice(S,S+i),p=Math.ceil(b.length/i);return e.jsxs("div",{className:"grow md:p-8 p-2 dark:bg-gray-800 h-full overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"الحملات الاعلانية"}),e.jsxs("div",{className:"mt-6 bg-white w-fit md:w-full dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex gap-4 mb-4 flex-col md:flex-row",children:[e.jsxs("select",{value:n,onChange:d=>{h(d.target.value),a(1),x("الكل")},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",children:[e.jsx("option",{value:"الكل",children:"كل المناطق"}),Pe.map((d,g)=>e.jsx("option",{value:d.name,children:d.name},g))]}),e.jsxs("select",{value:u,onChange:d=>{x(d.target.value),a(1)},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",disabled:n==="الكل",children:[e.jsx("option",{value:"الكل",children:"كل المحافظات"}),Pe.filter(d=>d.name===n).flatMap(d=>d.subGovernments).map((d,g)=>e.jsx("option",{value:d,children:d},g))]})]}),e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:e.jsx("th",{className:"py-2 px-4 text-right",children:"اسم الحملة"})})}),e.jsx("tbody",{children:y.map((d,g)=>e.jsx("tr",{onClick:()=>t(d._id),className:`border-b ${d._id===s?"bg-gray-200":""}`,children:e.jsx("td",{className:"py-2 px-4",children:d.title})},g))})]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>a(d=>Math.max(d-1,1)),disabled:m===1,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"السابق"}),Array.from({length:p},(d,g)=>e.jsx("button",{onClick:()=>a(g+1),className:`px-4 py-2 mx-1 rounded-lg ${m===g+1?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:g+1},g)),e.jsx("button",{onClick:()=>a(d=>Math.min(d+1,p)),disabled:m===p,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"التالي"})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 max-w-screen",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"تفاصيل الحملة"}),s&&e.jsx(Eo,{ads:l,selected:s})]})]})};export{Xo as default};
