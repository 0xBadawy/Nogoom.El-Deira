import{j as t,r as c}from"./index-BRyFHO37.js";import{o as j,j as m,p,n as b}from"./index-Q5_8tKoA.js";import"./iconBase-BnnEYh8x.js";const n=({icon:l,title:x,value:i})=>t.jsxs("div",{className:"bg-white text-dark p-4 rounded-lg shadow-md flex items-center space-x-reverse space-x-6 rtl:flex-row-reverse dark:bg-gray-800 dark:text-white",children:[t.jsx("div",{className:"text-3xl text-gray-500",children:l}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:x}),t.jsx("p",{className:"text-xl",children:i})]})]}),k=()=>{const{apartments:l,TogileDisplay:x}=useDataContext(),[i,o]=c.useState([]),[d,g]=c.useState({Apartments:0,Hidin:0,Display:0,Settings:0});c.useEffect(()=>{(async()=>{const s=l.sort((a,r)=>r.id-a.id);o(s)})()},[l]),c.useEffect(()=>{(async()=>{let s=0,a=0,r=0;i.forEach(y=>{s++,y.display?r++:a++}),console.log(s,a,r),g({Apartments:s,Hidin:a,Display:r,Settings:11})})()},[i]);const h=async(e,s)=>{try{await x(e,!s),o(a=>a.map(r=>r.id===e?{...r,display:!s}:r))}catch(a){console.error("Error updating apartment display:",a)}};return t.jsxs("div",{className:"grow p-8 dark:bg-gray-800",children:[t.jsx("h2",{className:"text-2xl mb-4 text-white",children:"Apartments"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsx(n,{icon:t.jsx(j,{}),title:"Apartments",value:d.Apartments}),t.jsx(n,{icon:t.jsx(m,{}),title:"Displayed",value:d.Hidin}),t.jsx(n,{icon:t.jsx(p,{}),title:"Hidden",value:d.Display}),t.jsx(n,{icon:t.jsx(b,{}),title:"Settings",value:d.Hidin})]}),t.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Apartments List"}),t.jsxs("table",{className:"min-w-full table-auto border-collapse",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-gray-200 dark:bg-gray-700 border-b",children:["Name","Price","Location Area","Location City","Location Floor","ID","Display","Badge","Action"].map((e,s)=>t.jsx("th",{className:"py-3 px-6 text-left text-sm font-semibold text-gray-700 dark:text-white",children:e},s))})}),t.jsx("tbody",{children:i.map((e,s)=>t.jsxs("tr",{className:`border-b ${s%2===0?"bg-gray-50":"bg-gray-100"} dark:bg-gray-700`,children:[t.jsxs("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:[e.name.substring(0,20),e.name.length>20&&"..."]}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.Price.price}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.Location.area}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.Location.city}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.Location.floor}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.id}),t.jsx("td",{className:"py-2 px-6 text-sm font-bold text-gray-900 dark:text-white",children:e.display?"false":"true"}),t.jsx("td",{className:"py-2 px-6 text-sm text-gray-900 dark:text-white",children:e.Badge||""}),t.jsx("td",{className:"py-2 px-6 text-sm",children:t.jsx("button",{onClick:()=>h(e.id,e.display),className:"bg-blue-500 w-28 text-white px-4 py-2 rounded hover:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.display?t.jsxs(t.Fragment,{children:[t.jsx(m,{className:"inline-block text-green-500 "})," ","Display"]}):t.jsxs(t.Fragment,{children:[t.jsx(p,{className:"inline-block text-red-500 "})," ","Hide"]})})})]},s))})]})]})]})};export{k as default};
