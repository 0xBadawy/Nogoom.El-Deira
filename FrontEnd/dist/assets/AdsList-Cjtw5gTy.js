import{i as St,r,j as e,R as G,l as ke,L as bt,c as ge,d as Re,e as Nt}from"./index-DA4Gzd_l.js";import{G as Pe}from"./data-Csv9xAeZ.js";import{q as Ct,r as jt,d as It,s as Tt,t as Rt,u as Pt}from"./index-DLZ8Hv1R.js";import{C as Et,a as _t,b as At,c as Mt}from"./card-aN9eNxXE.js";import{B as Ee}from"./badge-DocAOQq6.js";import{B as kt}from"./button-CQhZKckC.js";import{P as E}from"./index-BygZvNhR.js";import{c as D,u as A,a as ve}from"./index-JbbjrJmS.js";import"./textarea-C7xSP03A.js";import{a as De,A as Dt,C as Ot,c as _e,b as Lt,V as Bt}from"./index-D4Rbr5yG.js";import{c as Oe,a as T,b as B,d as Ht,u as Vt,D as Ft}from"./index-BqENzE_7.js";import{u as Le,h as Ut,e as Wt,R as Kt,F as $t}from"./dialog-DX7m2uF9.js";import{a as Be,C as Gt}from"./chevron-up-CZVcJp9J.js";import{a as Ae}from"./formatDate-D06Lv2oc.js";import"./iconBase-jCZv8vzb.js";import"./x-Dba8lg-t.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var qt="Separator",Me="horizontal",Yt=["horizontal","vertical"],He=r.forwardRef((o,s)=>{const{decorative:t,orientation:c=Me,...d}=o,u=Xt(c)?c:Me,i=t?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return e.jsx(E.div,{"data-orientation":u,...i,...d,ref:s})});He.displayName=qt;function Xt(o){return Yt.includes(o)}var Ve=He;const we=r.forwardRef(({className:o,orientation:s="horizontal",decorative:t=!0,...c},d)=>e.jsx(Ve,{ref:d,decorative:t,orientation:s,className:D("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",o),...c}));we.displayName=Ve.displayName;function Zt(o){const s=o+"CollectionProvider",[t,c]=Oe(s),[d,u]=t(s,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:w,children:m}=S,p=G.useRef(null),h=G.useRef(new Map).current;return e.jsx(d,{scope:w,itemMap:h,collectionRef:p,children:m})};l.displayName=s;const i=o+"CollectionSlot",a=G.forwardRef((S,w)=>{const{scope:m,children:p}=S,h=u(i,m),x=A(w,h.collectionRef);return e.jsx(ve,{ref:x,children:p})});a.displayName=i;const n=o+"CollectionItemSlot",f="data-radix-collection-item",y=G.forwardRef((S,w)=>{const{scope:m,children:p,...h}=S,x=G.useRef(null),v=A(w,x),R=u(n,m);return G.useEffect(()=>(R.itemMap.set(x,{ref:x,...h}),()=>void R.itemMap.delete(x))),e.jsx(ve,{[f]:"",ref:v,children:p})});y.displayName=n;function C(S){const w=u(o+"CollectionConsumer",S);return G.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const h=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((R,M)=>h.indexOf(R.ref.current)-h.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:a,ItemSlot:y},C,c]}function Jt(o){const s=r.useRef({value:o,previous:o});return r.useMemo(()=>(s.current.value!==o&&(s.current.previous=s.current.value,s.current.value=o),s.current.previous),[o])}var Qt=[" ","Enter","ArrowUp","ArrowDown"],eo=[" ","Enter"],ce="Select",[je,ie,to]=Zt(ce),[Q,Go]=Oe(ce,[to,De]),Ie=De(),[zo,H]=Q(ce),[qo,oo]=Q(ce),Fe="SelectTrigger",Ue=r.forwardRef((o,s)=>{const{__scopeSelect:t,disabled:c=!1,...d}=o,u=Ie(t),l=H(Fe,t),i=l.disabled||c,a=A(s,l.onTriggerChange),n=ie(t),f=r.useRef("touch"),[y,C,S]=dt(m=>{const p=n().filter(v=>!v.disabled),h=p.find(v=>v.value===l.value),x=pt(p,m,h);x!==void 0&&l.onValueChange(x.value)}),w=m=>{i||(l.onOpenChange(!0),S()),m&&(l.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(Dt,{asChild:!0,...u,children:e.jsx(E.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":it(l.value)?"":void 0,...d,ref:a,onClick:T(d.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&w(m)}),onPointerDown:T(d.onPointerDown,m=>{f.current=m.pointerType;const p=m.target;p.hasPointerCapture(m.pointerId)&&p.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:T(d.onKeyDown,m=>{const p=y.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&C(m.key),!(p&&m.key===" ")&&Qt.includes(m.key)&&(w(),m.preventDefault())})})})});Ue.displayName=Fe;var We="SelectValue",so=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:c,style:d,children:u,placeholder:l="",...i}=o,a=H(We,t),{onValueNodeHasChildrenChange:n}=a,f=u!==void 0,y=A(s,a.onValueNodeChange);return B(()=>{n(f)},[n,f]),e.jsx(E.span,{...i,ref:y,style:{pointerEvents:"none"},children:it(a.value)?e.jsx(e.Fragment,{children:l}):u})});so.displayName=We;var ro="SelectIcon",Ke=r.forwardRef((o,s)=>{const{__scopeSelect:t,children:c,...d}=o;return e.jsx(E.span,{"aria-hidden":!0,...d,ref:s,children:c||"▼"})});Ke.displayName=ro;var no="SelectPortal",$e=o=>e.jsx(Ht,{asChild:!0,...o});$e.displayName=no;var z="SelectContent",Ge=r.forwardRef((o,s)=>{const t=H(z,o.__scopeSelect),[c,d]=r.useState();if(B(()=>{d(new DocumentFragment)},[]),!t.open){const u=c;return u?ke.createPortal(e.jsx(ze,{scope:o.__scopeSelect,children:e.jsx(je.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(qe,{...o,ref:s})});Ge.displayName=z;var k=10,[ze,V]=Q(z),ao="SelectContentImpl",qe=r.forwardRef((o,s)=>{const{__scopeSelect:t,position:c="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:u,onPointerDownOutside:l,side:i,sideOffset:a,align:n,alignOffset:f,arrowPadding:y,collisionBoundary:C,collisionPadding:S,sticky:w,hideWhenDetached:m,avoidCollisions:p,...h}=o,x=H(z,t),[v,R]=r.useState(null),[M,de]=r.useState(null),_=A(s,g=>R(g)),[O,se]=r.useState(null),[re,F]=r.useState(null),U=ie(t),[ee,q]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(v)return Ut(v)},[v]),Wt();const Y=r.useCallback(g=>{const[I,...P]=U().map(N=>N.ref.current),[j]=P.slice(-1),b=document.activeElement;for(const N of g)if(N===b||(N==null||N.scrollIntoView({block:"nearest"}),N===I&&M&&(M.scrollTop=0),N===j&&M&&(M.scrollTop=M.scrollHeight),N==null||N.focus(),document.activeElement!==b))return},[U,M]),X=r.useCallback(()=>Y([O,v]),[Y,O,v]);r.useEffect(()=>{ee&&X()},[ee,X]);const{onOpenChange:Z,triggerPointerDownPosRef:L}=x;r.useEffect(()=>{if(v){let g={x:0,y:0};const I=j=>{var b,N;g={x:Math.abs(Math.round(j.pageX)-(((b=L.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(j.pageY)-(((N=L.current)==null?void 0:N.y)??0))}},P=j=>{g.x<=10&&g.y<=10?j.preventDefault():v.contains(j.target)||Z(!1),document.removeEventListener("pointermove",I),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",P,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P,{capture:!0})}}},[v,Z,L]),r.useEffect(()=>{const g=()=>Z(!1);return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[Z]);const[pe,ne]=dt(g=>{const I=U().filter(b=>!b.disabled),P=I.find(b=>b.ref.current===document.activeElement),j=pt(I,g,P);j&&setTimeout(()=>j.ref.current.focus())}),ue=r.useCallback((g,I,P)=>{const j=!W.current&&!P;(x.value!==void 0&&x.value===I||j)&&(se(g),j&&(W.current=!0))},[x.value]),me=r.useCallback(()=>v==null?void 0:v.focus(),[v]),J=r.useCallback((g,I,P)=>{const j=!W.current&&!P;(x.value!==void 0&&x.value===I||j)&&F(g)},[x.value]),ae=c==="popper"?ye:Ye,te=ae===ye?{side:i,sideOffset:a,align:n,alignOffset:f,arrowPadding:y,collisionBoundary:C,collisionPadding:S,sticky:w,hideWhenDetached:m,avoidCollisions:p}:{};return e.jsx(ze,{scope:t,content:v,viewport:M,onViewportChange:de,itemRefCallback:ue,selectedItem:O,onItemLeave:me,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:re,position:c,isPositioned:ee,searchRef:pe,children:e.jsx(Kt,{as:ve,allowPinchZoom:!0,children:e.jsx($t,{asChild:!0,trapped:x.open,onMountAutoFocus:g=>{g.preventDefault()},onUnmountAutoFocus:T(d,g=>{var I;(I=x.trigger)==null||I.focus({preventScroll:!0}),g.preventDefault()}),children:e.jsx(Ft,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:g=>g.preventDefault(),...h,...te,onPlaced:()=>q(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:T(h.onKeyDown,g=>{const I=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!I&&g.key.length===1&&ne(g.key),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let j=U().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(g.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const b=g.target,N=j.indexOf(b);j=j.slice(N+1)}setTimeout(()=>Y(j)),g.preventDefault()}})})})})})})});qe.displayName=ao;var lo="SelectItemAlignedPosition",Ye=r.forwardRef((o,s)=>{const{__scopeSelect:t,onPlaced:c,...d}=o,u=H(z,t),l=V(z,t),[i,a]=r.useState(null),[n,f]=r.useState(null),y=A(s,_=>f(_)),C=ie(t),S=r.useRef(!1),w=r.useRef(!0),{viewport:m,selectedItem:p,selectedItemText:h,focusSelectedItem:x}=l,v=r.useCallback(()=>{if(u.trigger&&u.valueNode&&i&&n&&m&&p&&h){const _=u.trigger.getBoundingClientRect(),O=n.getBoundingClientRect(),se=u.valueNode.getBoundingClientRect(),re=h.getBoundingClientRect();if(u.dir!=="rtl"){const b=re.left-O.left,N=se.left-b,K=_.left-N,$=_.width+K,fe=Math.max($,O.width),xe=window.innerWidth-k,he=_e(N,[k,Math.max(k,xe-fe)]);i.style.minWidth=$+"px",i.style.left=he+"px"}else{const b=O.right-re.right,N=window.innerWidth-se.right-b,K=window.innerWidth-_.right-N,$=_.width+K,fe=Math.max($,O.width),xe=window.innerWidth-k,he=_e(N,[k,Math.max(k,xe-fe)]);i.style.minWidth=$+"px",i.style.right=he+"px"}const F=C(),U=window.innerHeight-k*2,ee=m.scrollHeight,q=window.getComputedStyle(n),W=parseInt(q.borderTopWidth,10),Y=parseInt(q.paddingTop,10),X=parseInt(q.borderBottomWidth,10),Z=parseInt(q.paddingBottom,10),L=W+Y+ee+Z+X,pe=Math.min(p.offsetHeight*5,L),ne=window.getComputedStyle(m),ue=parseInt(ne.paddingTop,10),me=parseInt(ne.paddingBottom,10),J=_.top+_.height/2-k,ae=U-J,te=p.offsetHeight/2,g=p.offsetTop+te,I=W+Y+g,P=L-I;if(I<=J){const b=F.length>0&&p===F[F.length-1].ref.current;i.style.bottom="0px";const N=n.clientHeight-m.offsetTop-m.offsetHeight,K=Math.max(ae,te+(b?me:0)+N+X),$=I+K;i.style.height=$+"px"}else{const b=F.length>0&&p===F[0].ref.current;i.style.top="0px";const K=Math.max(J,W+m.offsetTop+(b?ue:0)+te)+P;i.style.height=K+"px",m.scrollTop=I-J+m.offsetTop}i.style.margin=`${k}px 0`,i.style.minHeight=pe+"px",i.style.maxHeight=U+"px",c==null||c(),requestAnimationFrame(()=>S.current=!0)}},[C,u.trigger,u.valueNode,i,n,m,p,h,u.dir,c]);B(()=>v(),[v]);const[R,M]=r.useState();B(()=>{n&&M(window.getComputedStyle(n).zIndex)},[n]);const de=r.useCallback(_=>{_&&w.current===!0&&(v(),x==null||x(),w.current=!1)},[v,x]);return e.jsx(io,{scope:t,contentWrapper:i,shouldExpandOnScrollRef:S,onScrollButtonChange:de,children:e.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(E.div,{...d,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});Ye.displayName=lo;var co="SelectPopperPosition",ye=r.forwardRef((o,s)=>{const{__scopeSelect:t,align:c="start",collisionPadding:d=k,...u}=o,l=Ie(t);return e.jsx(Ot,{...l,...u,ref:s,align:c,collisionPadding:d,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=co;var[io,Te]=Q(z,{}),Se="SelectViewport",Xe=r.forwardRef((o,s)=>{const{__scopeSelect:t,nonce:c,...d}=o,u=V(Se,t),l=Te(Se,t),i=A(s,u.onViewportChange),a=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(je.Slot,{scope:t,children:e.jsx(E.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:T(d.onScroll,n=>{const f=n.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:C}=l;if(C!=null&&C.current&&y){const S=Math.abs(a.current-f.scrollTop);if(S>0){const w=window.innerHeight-k*2,m=parseFloat(y.style.minHeight),p=parseFloat(y.style.height),h=Math.max(m,p);if(h<w){const x=h+S,v=Math.min(w,x),R=x-v;y.style.height=v+"px",y.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,y.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});Xe.displayName=Se;var Ze="SelectGroup",[po,uo]=Q(Ze),mo=r.forwardRef((o,s)=>{const{__scopeSelect:t,...c}=o,d=Le();return e.jsx(po,{scope:t,id:d,children:e.jsx(E.div,{role:"group","aria-labelledby":d,...c,ref:s})})});mo.displayName=Ze;var Je="SelectLabel",Qe=r.forwardRef((o,s)=>{const{__scopeSelect:t,...c}=o,d=uo(Je,t);return e.jsx(E.div,{id:d.id,...c,ref:s})});Qe.displayName=Je;var le="SelectItem",[fo,et]=Q(le),tt=r.forwardRef((o,s)=>{const{__scopeSelect:t,value:c,disabled:d=!1,textValue:u,...l}=o,i=H(le,t),a=V(le,t),n=i.value===c,[f,y]=r.useState(u??""),[C,S]=r.useState(!1),w=A(s,x=>{var v;return(v=a.itemRefCallback)==null?void 0:v.call(a,x,c,d)}),m=Le(),p=r.useRef("touch"),h=()=>{d||(i.onValueChange(c),i.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(fo,{scope:t,value:c,disabled:d,textId:m,isSelected:n,onItemTextChange:r.useCallback(x=>{y(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:e.jsx(je.ItemSlot,{scope:t,value:c,disabled:d,textValue:f,children:e.jsx(E.div,{role:"option","aria-labelledby":m,"data-highlighted":C?"":void 0,"aria-selected":n&&C,"data-state":n?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...l,ref:w,onFocus:T(l.onFocus,()=>S(!0)),onBlur:T(l.onBlur,()=>S(!1)),onClick:T(l.onClick,()=>{p.current!=="mouse"&&h()}),onPointerUp:T(l.onPointerUp,()=>{p.current==="mouse"&&h()}),onPointerDown:T(l.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:T(l.onPointerMove,x=>{var v;p.current=x.pointerType,d?(v=a.onItemLeave)==null||v.call(a):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(l.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=a.onItemLeave)==null||v.call(a))}),onKeyDown:T(l.onKeyDown,x=>{var R;((R=a.searchRef)==null?void 0:R.current)!==""&&x.key===" "||(eo.includes(x.key)&&h(),x.key===" "&&x.preventDefault())})})})})});tt.displayName=le;var oe="SelectItemText",ot=r.forwardRef((o,s)=>{const{__scopeSelect:t,className:c,style:d,...u}=o,l=H(oe,t),i=V(oe,t),a=et(oe,t),n=oo(oe,t),[f,y]=r.useState(null),C=A(s,h=>y(h),a.onItemTextChange,h=>{var x;return(x=i.itemTextRefCallback)==null?void 0:x.call(i,h,a.value,a.disabled)}),S=f==null?void 0:f.textContent,w=r.useMemo(()=>e.jsx("option",{value:a.value,disabled:a.disabled,children:S},a.value),[a.disabled,a.value,S]),{onNativeOptionAdd:m,onNativeOptionRemove:p}=n;return B(()=>(m(w),()=>p(w)),[m,p,w]),e.jsxs(e.Fragment,{children:[e.jsx(E.span,{id:a.textId,...u,ref:C}),a.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ke.createPortal(u.children,l.valueNode):null]})});ot.displayName=oe;var st="SelectItemIndicator",rt=r.forwardRef((o,s)=>{const{__scopeSelect:t,...c}=o;return et(st,t).isSelected?e.jsx(E.span,{"aria-hidden":!0,...c,ref:s}):null});rt.displayName=st;var be="SelectScrollUpButton",nt=r.forwardRef((o,s)=>{const t=V(be,o.__scopeSelect),c=Te(be,o.__scopeSelect),[d,u]=r.useState(!1),l=A(s,c.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let i=function(){const n=a.scrollTop>0;u(n)};const a=t.viewport;return i(),a.addEventListener("scroll",i),()=>a.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),d?e.jsx(lt,{...o,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:a}=t;i&&a&&(i.scrollTop=i.scrollTop-a.offsetHeight)}}):null});nt.displayName=be;var Ne="SelectScrollDownButton",at=r.forwardRef((o,s)=>{const t=V(Ne,o.__scopeSelect),c=Te(Ne,o.__scopeSelect),[d,u]=r.useState(!1),l=A(s,c.onScrollButtonChange);return B(()=>{if(t.viewport&&t.isPositioned){let i=function(){const n=a.scrollHeight-a.clientHeight,f=Math.ceil(a.scrollTop)<n;u(f)};const a=t.viewport;return i(),a.addEventListener("scroll",i),()=>a.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),d?e.jsx(lt,{...o,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:a}=t;i&&a&&(i.scrollTop=i.scrollTop+a.offsetHeight)}}):null});at.displayName=Ne;var lt=r.forwardRef((o,s)=>{const{__scopeSelect:t,onAutoScroll:c,...d}=o,u=V("SelectScrollButton",t),l=r.useRef(null),i=ie(t),a=r.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return r.useEffect(()=>()=>a(),[a]),B(()=>{var f;const n=i().find(y=>y.ref.current===document.activeElement);(f=n==null?void 0:n.ref.current)==null||f.scrollIntoView({block:"nearest"})},[i]),e.jsx(E.div,{"aria-hidden":!0,...d,ref:s,style:{flexShrink:0,...d.style},onPointerDown:T(d.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(c,50))}),onPointerMove:T(d.onPointerMove,()=>{var n;(n=u.onItemLeave)==null||n.call(u),l.current===null&&(l.current=window.setInterval(c,50))}),onPointerLeave:T(d.onPointerLeave,()=>{a()})})}),xo="SelectSeparator",ct=r.forwardRef((o,s)=>{const{__scopeSelect:t,...c}=o;return e.jsx(E.div,{"aria-hidden":!0,...c,ref:s})});ct.displayName=xo;var Ce="SelectArrow",ho=r.forwardRef((o,s)=>{const{__scopeSelect:t,...c}=o,d=Ie(t),u=H(Ce,t),l=V(Ce,t);return u.open&&l.position==="popper"?e.jsx(Lt,{...d,...c,ref:s}):null});ho.displayName=Ce;function it(o){return o===""||o===void 0}var go=r.forwardRef((o,s)=>{const{value:t,...c}=o,d=r.useRef(null),u=A(s,d),l=Jt(t);return r.useEffect(()=>{const i=d.current,a=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(a,"value").set;if(l!==t&&f){const y=new Event("change",{bubbles:!0});f.call(i,t),i.dispatchEvent(y)}},[l,t]),e.jsx(Bt,{asChild:!0,children:e.jsx("select",{...c,ref:u,defaultValue:t})})});go.displayName="BubbleSelect";function dt(o){const s=Vt(o),t=r.useRef(""),c=r.useRef(0),d=r.useCallback(l=>{const i=t.current+l;s(i),function a(n){t.current=n,window.clearTimeout(c.current),n!==""&&(c.current=window.setTimeout(()=>a(""),1e3))}(i)},[s]),u=r.useCallback(()=>{t.current="",window.clearTimeout(c.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(c.current),[]),[t,d,u]}function pt(o,s,t){const d=s.length>1&&Array.from(s).every(n=>n===s[0])?s[0]:s,u=t?o.indexOf(t):-1;let l=vo(o,Math.max(u,0));d.length===1&&(l=l.filter(n=>n!==t));const a=l.find(n=>n.textValue.toLowerCase().startsWith(d.toLowerCase()));return a!==t?a:void 0}function vo(o,s){return o.map((t,c)=>o[(s+c)%o.length])}var ut=Ue,wo=Ke,yo=$e,mt=Ge,So=Xe,ft=Qe,xt=tt,bo=ot,No=rt,ht=nt,gt=at,vt=ct;const Co=r.forwardRef(({className:o,children:s,...t},c)=>e.jsxs(ut,{ref:c,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[s,e.jsx(wo,{asChild:!0,children:e.jsx(Be,{className:"h-4 w-4 opacity-50"})})]}));Co.displayName=ut.displayName;const wt=r.forwardRef(({className:o,...s},t)=>e.jsx(ht,{ref:t,className:D("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Gt,{className:"h-4 w-4"})}));wt.displayName=ht.displayName;const yt=r.forwardRef(({className:o,...s},t)=>e.jsx(gt,{ref:t,className:D("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Be,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const jo=r.forwardRef(({className:o,children:s,position:t="popper",...c},d)=>e.jsx(yo,{children:e.jsxs(mt,{ref:d,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...c,children:[e.jsx(wt,{}),e.jsx(So,{className:D("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(yt,{})]})}));jo.displayName=mt.displayName;const Io=r.forwardRef(({className:o,...s},t)=>e.jsx(ft,{ref:t,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...s}));Io.displayName=ft.displayName;const To=r.forwardRef(({className:o,children:s,...t},c)=>e.jsxs(xt,{ref:c,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(No,{children:e.jsx(zt,{className:"h-4 w-4"})})}),e.jsx(bo,{children:s})]}));To.displayName=xt.displayName;const Ro=r.forwardRef(({className:o,...s},t)=>e.jsx(vt,{ref:t,className:D("-mx-1 my-1 h-px bg-muted",o),...s}));Ro.displayName=vt.displayName;const Po=({ads:o,selected:s})=>{var u,l,i,a;const[t,c]=r.useState(null);r.useEffect(()=>{(async()=>{try{const f=await ge.get(`/advertisement/get_one/${s}`);c(f.data.advertisement),console.log("response.data.advertisement ",f.data.advertisement)}catch(f){console.error("حدث خطأ أثناء جلب البيانات:",f)}})()},[s]),r.useEffect(()=>{console.log("ad",t)},[t]);const d=async()=>{if(window.confirm("هل أنت متأكد من حذف الإعلان؟"))try{const f=await ge.delete(`/advertisement/delete/${s}`);console.log(f),f.status===200&&(Re.success("تم حذف الإعلان بنجاح"),window.location.reload())}catch(f){console.error("حدث خطأ أثناء حذف الإعلان:",f),Re.error("حدث خطأ أثناء حذف الإعلان")}};return e.jsxs(Et,{className:"max-w-full sm:max-w-lg md:max-w-xl lg:max-w-full mx-auto",children:[e.jsxs(_t,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:[e.jsx(At,{className:"text-2xl sm:text-3xl font-bold",children:t==null?void 0:t.title}),e.jsx(Ee,{variant:"secondary",className:"mt-2"})]}),e.jsxs(Mt,{className:"p-6",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 mb-6",children:t==null?void 0:t.description}),e.jsx(we,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(Ct,{className:"text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ البداية"}),e.jsx("p",{className:"text-base font-semibold",children:Ae(t==null?void 0:t.startDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"تاريخ النهاية"}),e.jsx("p",{className:"text-base font-semibold",children:Ae(t==null?void 0:t.endDate)})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(jt,{className:"text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"المنطقة"}),e.jsx("p",{className:"text-base font-semibold",children:t==null?void 0:t.address.area})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"المحافظات"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:((u=t==null?void 0:t.address.govern)==null?void 0:u.length)>0?t==null?void 0:t.address.govern.map((n,f)=>e.jsx(Ee,{variant:"outline",children:n},f)):e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لم يتم تحديد محافظات"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold my-8",children:"النجوم المشاركين"}),e.jsxs("div",{className:"space-y-6",children:[(l=t==null?void 0:t.users)==null?void 0:l.filter(n=>{var f;return((f=n==null?void 0:n.links)==null?void 0:f.length)>0}).map((n,f)=>{var y,C,S;return e.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[e.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:e.jsx(It,{className:"text-yellow-500 text-2xl",title:(y=n==null?void 0:n.userId)==null?void 0:y.name})}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:(C=n==null?void 0:n.userId)==null?void 0:C.name})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:(S=n==null?void 0:n.links)==null?void 0:S.map((w,m)=>e.jsxs("a",{href:w,target:"_blank",rel:"noreferrer",className:"flex items-center bg-blue-50 text-blue-600 hover:bg-blue-100 px-4 py-2 rounded-xl transition-all shadow-sm hover:shadow-md truncate max-w-[220px]",children:[e.jsx("span",{className:"truncate",children:w.length>25?`${w.slice(0,25)}...`:w}),e.jsx(Tt,{className:"ml-2 text-blue-500"})]},m))})]},f)}),e.jsx("h2",{className:"text-xl font-bold py-8",children:"النجوم بدون مشاركات"}),(i=t==null?void 0:t.users)==null?void 0:i.filter(n=>{var f;return((f=n==null?void 0:n.links)==null?void 0:f.length)===0}).map((n,f)=>{var y;return e.jsx("span",{className:"bg-gray-50 w-32 mx-1 px-2 py-1 rounded-full text-sm font-semibold text-gray-800 shadow-sm hover:shadow-md transition-shadow",children:(y=n==null?void 0:n.userId)==null?void 0:y.name},f)})]})]})]}),e.jsx(we,{className:"my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(Rt,{className:"text-purple-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الصور"})]}),((a=t==null?void 0:t.Images)==null?void 0:a.length)>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.Images.map((n,f)=>e.jsx("img",{src:n,alt:`صورة الإعلان ${f+1}`,className:"w-full h-24 sm:h-32 md:h-40 object-cover rounded-lg shadow-md transition-transform transform hover:scale-105"},f))}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا توجد صور متاحة"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("h4",{className:"text-lg font-semibold",children:"الفيديو"})]}),t!=null&&t.videos?e.jsxs("video",{controls:!0,className:"w-full max-w-md mx-auto rounded-lg shadow-md",children:[e.jsx("source",{src:t.videos,type:"video/mp4"}),"متصفحك لا يدعم تشغيل الفيديو"]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"لا يوجد فيديو متاح"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end",children:[e.jsx(kt,{variant:"destructive",onClick:d,className:"bg-red-600 text-white mx-3",children:"حذف الإعلان"}),e.jsx(bt,{to:`/dashboard/editAd/${s}`,children:"تعديل الإعلان"})]})]})]})},Yo=()=>{const{getAllAds:o}=Nt(),[s,t]=r.useState(null),[c,d]=r.useState([]),[u,l]=r.useState(1),i=10,[a,n]=r.useState("الكل"),[f,y]=r.useState("الكل");r.useEffect(()=>{(async()=>{const x=(await ge.get("/advertisement/all")).data.advertisements;d(x),console.table(x)})()},[]);const C=c.filter(p=>{const h=a==="الكل"||p.address.area===a,x=f==="الكل"||p.address.govern&&Array.isArray(p.address.govern)&&p.address.govern.includes(f);return h&&x}).sort((p,h)=>new Date(h.createdAt)-new Date(p.createdAt)),S=(u-1)*i,w=C.slice(S,S+i),m=Math.ceil(C.length/i);return e.jsxs("div",{className:"grow md:p-8 p-2 dark:bg-gray-800 h-full overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"الحملات الاعلانية"}),e.jsxs("div",{className:"mt-6 bg-white w-fit dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("select",{value:a,onChange:p=>{n(p.target.value),l(1),y("الكل")},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",children:[e.jsx("option",{value:"الكل",children:"كل المناطق"}),Pe.map((p,h)=>e.jsx("option",{value:p.name,children:p.name},h))]}),e.jsxs("select",{value:f,onChange:p=>{y(p.target.value),l(1)},className:"px-4 py-2 bg-white border rounded-lg dark:bg-gray-700",disabled:a==="الكل",children:[e.jsx("option",{value:"الكل",children:"كل المحافظات"}),Pe.filter(p=>p.name===a).flatMap(p=>p.subGovernments).map((p,h)=>e.jsx("option",{value:p,children:p},h))]})]}),e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:e.jsx("th",{className:"py-2 px-4 text-right",children:"اسم الحملة"})})}),e.jsx("tbody",{children:w.map((p,h)=>e.jsx("tr",{onClick:()=>t(p._id),className:`border-b ${p._id===s?"bg-gray-200":""}`,children:e.jsx("td",{className:"py-2 px-4",children:p.title})},h))})]}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>l(p=>Math.max(p-1,1)),disabled:u===1,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"السابق"}),Array.from({length:m},(p,h)=>e.jsx("button",{onClick:()=>l(h+1),className:`px-4 py-2 mx-1 rounded-lg ${u===h+1?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:h+1},h)),e.jsx("button",{onClick:()=>l(p=>Math.min(p+1,m)),disabled:u===m,className:"px-4 py-2 mx-1 bg-gray-200 rounded-lg dark:bg-gray-700 disabled:opacity-50",children:"التالي"})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 max-w-screen",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"تفاصيل الحملة"}),s&&e.jsx(Po,{ads:c,selected:s})]})]})};export{Yo as default};
