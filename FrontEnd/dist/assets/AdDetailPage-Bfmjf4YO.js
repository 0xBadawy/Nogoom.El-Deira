import{i as j,r as i,j as e,k as S,L as U,c as A,d as I}from"./index-D1GyvUbU.js";import{M as z,u as T,P as q,a as O,b as F,L as _,m as l}from"./proxy-PEBerG6h.js";import{A as G,C as W}from"./chevron-left-D5Q9C5cW.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=j("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=j("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=j("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=j("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=j("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=j("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=j("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=j("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);class te extends i.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,u=o instanceof HTMLElement&&o.offsetWidth||0,h=this.props.sizeRef.current;h.height=n.offsetHeight||0,h.width=n.offsetWidth||0,h.top=n.offsetTop,h.left=n.offsetLeft,h.right=u-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function se({children:p,isPresent:t,anchorX:n}){const o=i.useId(),u=i.useRef(null),h=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=i.useContext(z);return i.useInsertionEffect(()=>{const{width:C,height:m,top:N,left:c,right:v}=h.current;if(t||!u.current||!C||!m)return;const f=n==="left"?`left: ${c}`:`right: ${v}`;u.current.dataset.motionPopId=o;const x=document.createElement("style");return g&&(x.nonce=g),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${m}px !important;
            ${f}px !important;
            top: ${N}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),e.jsx(te,{isPresent:t,childRef:u,sizeRef:h,children:i.cloneElement(p,{ref:u})})}const ae=({children:p,initial:t,isPresent:n,onExitComplete:o,custom:u,presenceAffectsLayout:h,mode:g,anchorX:C})=>{const m=T(ie),N=i.useId(),c=i.useCallback(f=>{m.set(f,!0);for(const x of m.values())if(!x)return;o&&o()},[m,o]),v=i.useMemo(()=>({id:N,initial:t,isPresent:n,custom:u,onExitComplete:c,register:f=>(m.set(f,!1),()=>m.delete(f))}),h?[Math.random(),c]:[n,c]);return i.useMemo(()=>{m.forEach((f,x)=>m.set(x,!1))},[n]),i.useEffect(()=>{!n&&!m.size&&o&&o()},[n]),g==="popLayout"&&(p=e.jsx(se,{isPresent:n,anchorX:C,children:p})),e.jsx(q.Provider,{value:v,children:p})};function ie(){return new Map}const L=p=>p.key||"";function P(p){const t=[];return i.Children.forEach(p,n=>{i.isValidElement(n)&&t.push(n)}),t}const re=({children:p,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:h="sync",propagate:g=!1,anchorX:C="left"})=>{const[m,N]=O(g),c=i.useMemo(()=>P(p),[p]),v=g&&!m?[]:c.map(L),f=i.useRef(!0),x=i.useRef(c),k=T(()=>new Map),[R,a]=i.useState(c),[s,w]=i.useState(c);F(()=>{f.current=!1,x.current=c;for(let r=0;r<s.length;r++){const y=L(s[r]);v.includes(y)?k.delete(y):k.get(y)!==!0&&k.set(y,!1)}},[s,v.length,v.join("-")]);const b=[];if(c!==R){let r=[...c];for(let y=0;y<s.length;y++){const M=s[y],E=L(M);v.includes(E)||(r.splice(y,0,M),b.push(M))}return h==="wait"&&b.length&&(r=b),w(P(r)),a(c),null}const{forceRender:d}=i.useContext(_);return e.jsx(e.Fragment,{children:s.map(r=>{const y=L(r),M=g&&!m?!1:c===s||v.includes(y),E=()=>{if(k.has(y))k.set(y,!0);else return;let $=!0;k.forEach(H=>{H||($=!1)}),$&&(d==null||d(),w(x.current),g&&(N==null||N()),o&&o())};return e.jsx(ae,{isPresent:M,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:u,mode:h,onExitComplete:M?void 0:E,anchorX:C,children:r},y)})})},ce=()=>{var x,k,R;const{id:p}=S(),[t,n]=i.useState(null),[o,u]=i.useState(0),[h,g]=i.useState(!1);i.useEffect(()=>{(async()=>{const w=(await A.get(`/advertisement/get_one/${p}`)).data.advertisement;n(w)})()},[p]);const C=async()=>{try{await navigator.clipboard.writeText(window.location.href),g(!0),setTimeout(()=>g(!1),2e3)}catch(a){console.error("Failed to copy text: ",a)}},m=()=>{u(a=>{var s;return a===(((s=t==null?void 0:t.Images)==null?void 0:s.length)||0)-1?0:a+1})},N=()=>{u(a=>{var s;return a===0?(((s=t==null?void 0:t.Images)==null?void 0:s.length)||0)-1:a-1})},c=async()=>{var a;if(t){for(let s=0;s<((a=t.Images)==null?void 0:a.length);s++){const w=t.Images[s];try{const d=await(await fetch(w)).blob(),r=document.createElement("a");r.href=URL.createObjectURL(d),r.download=`image_${s+1}.jpg`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}catch(b){console.error(`Failed to download image ${s+1}:`,b),I.error(`فشل تنزيل الصورة ${s+1}`)}}if(t.videos)try{const s=t.videos,b=await(await fetch(s)).blob(),d=document.createElement("a");d.href=URL.createObjectURL(b),d.download="video.mp4",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(d.href)}catch(s){console.error("Failed to download video:",s),I.error("فشل تنزيل الفيديو")}I.success("تم بدء تنزيل جميع الصور والفيديوهات")}},v=({links:a})=>{const[s,w]=i.useState(null),b=(d,r)=>{navigator.clipboard.writeText(d),w(r),I.success("تم نسخ الرابط بنجاح"),setTimeout(()=>w(null),1e3)};return(a==null?void 0:a.length)>0&&e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/40 backdrop-blur-md p-6 rounded-3xl shadow-xl border border-white/20",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center text-purple-900",children:[e.jsx(X,{className:"mr-3 h-5 w-5 text-purple-600"}),"روابط الإعلان"]}),e.jsx("div",{className:"space-y-3",children:a.map((d,r)=>e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:d.link,readOnly:!0,className:"flex-1 px-4 py-3 rounded-2xl bg-white/50 border-2 border-purple-100 text-gray-700 focus:ring-2 focus:ring-purple-400 transition-all"}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(d.link,r),className:`p-3 rounded-2xl transition-all ${s===r?"bg-blue-950":"bg-gradient-to-r from-purple-600 to-indigo-600"} text-white shadow-lg hover:shadow-xl`,children:e.jsx(B,{className:"w-5 h-5"})})]},r))})]})};if(!t)return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-indigo-500 blur-3xl opacity-20 animate-pulse"}),e.jsx("div",{className:"relative flex gap-4",children:[...Array(3)].map((a,s)=>e.jsx(l.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:s*.2},className:"w-5 h-5 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600"},s))})]})});const f=new Date(t.endDate)<new Date;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-pink-50 text-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-indigo-500 blur-3xl opacity-10"}),e.jsxs("div",{className:"relative bg-white/60 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/20",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-indigo-600 to-purple-700 p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(U,{to:"/profile",className:"text-white/90 hover:text-white transition-all",children:e.jsx(l.div,{whileHover:{x:-5},whileTap:{scale:.95},children:e.jsx(G,{className:"h-6 w-6"})})}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"text-white/90 hover:text-white transition-all bg-white/10 p-2 rounded-xl",children:e.jsx(Y,{className:"h-6 w-6"})})]}),e.jsxs(l.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl sm:text-4xl font-bold mt-6 text-white flex items-center gap-3",children:[e.jsx(Q,{className:"h-8 w-8"}),t.title]}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex gap-2 mt-4",children:e.jsx("span",{className:`px-6 py-2 rounded-full text-sm font-medium backdrop-blur-sm ${f?"bg-red-500/20 text-red-100":"bg-green-500/20 text-green-100"}`,children:f?"الإعلان منتهي":"الإعلان مستمر"})})]}),e.jsx("div",{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{mode:"wait",children:t.Images&&t.Images.length>0?e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl group",children:[e.jsx(l.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:t.Images[o],alt:`${t.title} - ${o+1}`,className:"w-full h-[500px] object-cover"},o),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 p-6 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("p",{className:"text-lg font-semibold",children:`صورة ${o+1} من ${t.Images.length}`})}),t.Images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm p-2 rounded-full text-white hover:bg-white/30 transition-all",children:e.jsx(W,{className:"h-6 w-6"})}),e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm p-2 rounded-full text-white hover:bg-white/30 transition-all",children:e.jsx(K,{className:"h-6 w-6"})})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:t.Images.map((a,s)=>e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(s),className:`relative rounded-2xl overflow-hidden ${o===s?"ring-2 ring-purple-600 ring-offset-2":""}`,children:e.jsx("img",{src:a,alt:`Thumbnail ${s+1}`,className:"w-full h-20 object-cover"})},s))})]},"images"):e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"rounded-3xl overflow-hidden shadow-2xl",children:e.jsx("img",{src:"/placeholder.svg",alt:"صورة غير متوفرة",className:"w-full h-[500px] object-cover"})},"placeholder")}),t.videos&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl overflow-hidden shadow-2xl",children:e.jsxs("video",{controls:!0,className:"w-full",style:{borderRadius:"1.5rem"},children:[e.jsx("source",{src:t.videos,type:"video/mp4"}),"متصفحك لا يدعم وسم الفيديو."]})}),e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-2xl flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transition-all",children:[e.jsx(V,{className:"h-5 w-5"}),e.jsx("span",{children:"تنزيل جميع الصور والفيديوهات"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"prose prose-lg",children:e.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:t.description})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/40 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-3 text-purple-900",children:[e.jsx(D,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-semibold",children:"تاريخ الإطلاق"})]}),e.jsx("p",{className:"mt-2 text-gray-700",children:new Date(t.startDate).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/40 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-3 text-purple-900",children:[e.jsx(D,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-semibold",children:"تاريخ الانتهاء"})]}),e.jsx("p",{className:"mt-2 text-gray-700",children:new Date(t.endDate).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/40 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-3 text-purple-900 mb-4",children:[e.jsx(J,{className:"h-5 w-5 text-purple-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"المنطقة والمحافظات"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"المنطقة:"}),e.jsx("span",{className:"bg-purple-100 text-purple-900 px-4 py-1.5 rounded-full",children:t.address.area})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"المحافظات:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(x=t.address.govern)==null?void 0:x.map((a,s)=>e.jsx(l.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:s*.1},className:"bg-purple-100 text-purple-900 px-4 py-1.5 rounded-full text-sm",children:a},s))})]})]})]}),((k=t.links)==null?void 0:k.length)>0&&e.jsx(v,{links:t.links}),((R=t.stars)==null?void 0:R.length)>0&&e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/40 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-3 text-purple-900 mb-4",children:[e.jsx(ee,{className:"h-5 w-5 text-purple-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"النجوم المشاركين"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.stars.map((a,s)=>e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},className:"flex items-center gap-2 bg-white/50 p-4 rounded-xl hover:bg-white/70 transition-colors",children:[e.jsx(Z,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:a.name})]},s))})]})]})]})})]})]})})})};export{ce as default};
